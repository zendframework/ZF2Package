

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ZendServiceAmazonEc2: Amazon Machine Images (AMI) &mdash; Zend Framework 2 2.0.5 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Zend Framework 2 2.0.5 documentation" href="../index.html" />
<style type="text/css">
    /* Styles for floating Edit on GitHub box */
    #editor-trap {
        padding: 1em;
        border: 1px solid white;
        width: 250px;

        display: none;
        color: white;
        background: #3f454b;
        position: fixed;
        bottom: 5px;
        left: 175px;
        font-size: 85%;
        text-align: left;
        z-index: 2;

        box-shadow: 0 4px 6px #333;
        -moz-box-shadow: 0 4px 6px #333;
        -webkit-box-shadow: 0 4px 6px #333;
        
        cursor: pointer;
    }

    #editor-trap h3 {
        margin: 0 0 0.5em 0;
        padding: 0;
    }

    #editor-trap h3 > span {
        padding: 0 6px;
        border: solid white;
        border-width: 0 1px 4px 1px;
        font-size: 10px;
    }

    #editor-trap a {
        color: #98DBCC;
    }

    #editor-trap ol {
        margin: 0;
        padding: 0 0 0 2em;
    }

    /* Hide trick */
    #editor-trap.toggled > * {
        display: none;
    }


    #editor-trap.toggled > h3 {
        display: block;
    }

    #editor-trap.toggled > h3 > span {
        border-width: 6px 1px 0 1px;
    }
    
    #edit-button {
        position: fixed;
        bottom: 5px;
        left: 5px;
        z-index: 2;
        width: 162px;
        height: 42px;
    }
</style>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">Zend Framework 2 2.0.5 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="zendserviceamazonec2-amazon-machine-images-ami">
<span id="zendservice-amazon-ec2-images"></span><h1>ZendServiceAmazonEc2: Amazon Machine Images (AMI)<a class="headerlink" href="#zendserviceamazonec2-amazon-machine-images-ami" title="Permalink to this headline">¶</a></h1>
<p>Amazon Machine Images (AMIs) are preconfigured with an ever-growing list of operating systems.</p>
<div class="section" id="ami-information-utilities">
<span id="zendservice-amazon-ec2-images-info"></span><h2>AMI Information Utilities<a class="headerlink" href="#ami-information-utilities" title="Permalink to this headline">¶</a></h2>
<p class="rubric" id="zendservice-amazon-ec2-images-register">Register an AMI with EC2</p>
<p><em>register</em> Each <em>AMI</em> is associated with an unique ID which is provided by the Amazon EC2 service through the
RegisterImage operation. During registration, Amazon EC2 retrieves the specified image manifest from Amazon S3 and
verifies that the image is owned by the user registering the image.</p>
<p><em>register</em> returns the imageId for the registered Image.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$ec2_img</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ZendService\Amazon\Ec2\Image</span><span class="p">(</span><span class="s1">&#39;aws_key&#39;</span><span class="p">,</span><span class="s1">&#39;aws_secret_key&#39;</span><span class="p">);</span>
<span class="nv">$ip</span> <span class="o">=</span> <span class="nv">$ec2_img</span><span class="o">-&gt;</span><span class="na">register</span><span class="p">(</span><span class="s1">&#39;imageLocation&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zendservice-amazon-ec2-images-deregister">Deregister an AMI with EC2</p>
<p><em>deregister</em>, Deregisters an <em>AMI</em>. Once deregistered, instances of the <em>AMI</em> can no longer be launched.</p>
<p><em>deregister</em> returns boolean <tt class="docutils literal"><span class="pre">TRUE</span></tt> or <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$ec2_img</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ZendService\Amazon\Ec2\Image</span><span class="p">(</span><span class="s1">&#39;aws_key&#39;</span><span class="p">,</span><span class="s1">&#39;aws_secret_key&#39;</span><span class="p">);</span>
<span class="nv">$ip</span> <span class="o">=</span> <span class="nv">$ec2_img</span><span class="o">-&gt;</span><span class="na">deregister</span><span class="p">(</span><span class="s1">&#39;imageId&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zendservice-amazon-ec2-images-describe">Describe an AMI</p>
<p><em>describe</em> Returns information about <em>AMI</em>s, AKIs, and ARIs available to the user. Information returned includes
image type, product codes, architecture, and kernel and <em>RAM</em> disk IDs. Images available to the user include public
images available for any user to launch, private images owned by the user making the request, and private images
owned by other users for which the user has explicit launch permissions.</p>
<blockquote>
<div><table border="1" class="docutils" id="zendservice-amazon-ec2-images-describe-table">
<caption>Launch permissions fall into three categories</caption>
<colgroup>
<col width="6%" />
<col width="94%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>public</td>
<td>The owner of the AMI granted launch permissions for the AMI to the all group. All users have launch permissions for these AMIs.</td>
</tr>
<tr class="row-odd"><td>explicit</td>
<td>The owner of the AMI granted launch permissions to a specific user.</td>
</tr>
<tr class="row-even"><td>implicit</td>
<td>A user has implicit launch permissions for all AMIs he or she owns.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>The list of <em>AMI</em>s returned can be modified by specifying <em>AMI</em> IDs, <em>AMI</em> owners, or users with launch
permissions. If no options are specified, Amazon EC2 returns all <em>AMI</em>s for which the user has launch
permissions.</p>
<p>If you specify one or more <em>AMI</em> IDs, only <em>AMI</em>s that have the specified IDs are returned. If you specify an
invalid <em>AMI</em> ID, a fault is returned. If you specify an <em>AMI</em> ID for which you do not have access, it will not be
included in the returned results.</p>
<p>If you specify one or more <em>AMI</em> owners, only <em>AMI</em>s from the specified owners and for which you have access are
returned. The results can include the account IDs of the specified owners, amazon for <em>AMI</em>s owned by Amazon or
self for <em>AMI</em>s that you own.</p>
<p>If you specify a list of executable users, only users that have launch permissions for the <em>AMI</em>s are returned.
You can specify account IDs (if you own the <em>AMI</em>(s)), self for <em>AMI</em>s for which you own or have explicit
permissions, or all for public <em>AMI</em>s.</p>
<p><em>describe</em> returns an array for all the images that match the critera that was passed in. The array contains the
imageId, imageLocation, imageState, imageOwnerId, isPublic, architecture, imageType, kernelId, ramdiskId and
platform.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$ec2_img</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ZendService\Amazon\Ec2\Image</span><span class="p">(</span><span class="s1">&#39;aws_key&#39;</span><span class="p">,</span><span class="s1">&#39;aws_secret_key&#39;</span><span class="p">);</span>
<span class="nv">$ip</span> <span class="o">=</span> <span class="nv">$ec2_img</span><span class="o">-&gt;</span><span class="na">describe</span><span class="p">();</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="ami-attribute-utilities">
<span id="zendservice-amazon-ec2-images-attribute"></span><h2>AMI Attribute Utilities<a class="headerlink" href="#ami-attribute-utilities" title="Permalink to this headline">¶</a></h2>
<p class="rubric" id="zendservice-amazon-ec2-images-attribute-modify">Modify Image Attributes</p>
<p>Modifies an attribute of an <em>AMI</em></p>
<blockquote>
<div><table border="1" class="docutils" id="zendservice-amazon-ec2-images-attribute-modify-table">
<caption>Valid Attributes</caption>
<colgroup>
<col width="6%" />
<col width="94%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>launchPermission</td>
<td>Controls who has permission to launch the AMI. Launch permissions can be granted to specific users by adding userIds. To make the AMI public, add the all group.</td>
</tr>
<tr class="row-odd"><td>productCodes</td>
<td>Associates a product code with AMIs. This allows developers to charge users for using AMIs. The user must be signed up for the product before they can launch the AMI. This is a write once attribute; after it is set, it cannot be changed or removed.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><em>modifyAttribute</em> returns boolean <tt class="docutils literal"><span class="pre">TRUE</span></tt> or <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$ec2_img</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ZendService\Amazon\Ec2\Image</span><span class="p">(</span><span class="s1">&#39;aws_key&#39;</span><span class="p">,</span><span class="s1">&#39;aws_secret_key&#39;</span><span class="p">);</span>
<span class="c1">// modify the launchPermission of an AMI</span>
<span class="nv">$return</span> <span class="o">=</span> <span class="nv">$ec2_img</span><span class="o">-&gt;</span><span class="na">modifyAttribute</span><span class="p">(</span><span class="s1">&#39;imageId&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;launchPermission&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;add&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;userId&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;userGroup&#39;</span><span class="p">);</span>

<span class="c1">// set the product code of the AMI.</span>
<span class="nv">$return</span> <span class="o">=</span> <span class="nv">$ec2_img</span><span class="o">-&gt;</span><span class="na">modifyAttribute</span><span class="p">(</span><span class="s1">&#39;imageId&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;productCodes&#39;</span><span class="p">,</span>
                                    <span class="s1">&#39;add&#39;</span><span class="p">,</span>
                                    <span class="k">null</span><span class="p">,</span>
                                    <span class="k">null</span><span class="p">,</span>
                                    <span class="s1">&#39;productCode&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zendservice-amazon-ec2-images-attribute-reset">Reset an AMI Attribute</p>
<p><em>resetAttribute</em> will reset the attribute of an <em>AMI</em> to its default value. <strong>The productCodes attribute cannot be
reset.</strong></p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$ec2_img</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ZendService\Amazon\Ec2\Image</span><span class="p">(</span><span class="s1">&#39;aws_key&#39;</span><span class="p">,</span><span class="s1">&#39;aws_secret_key&#39;</span><span class="p">);</span>
<span class="nv">$return</span> <span class="o">=</span> <span class="nv">$ec2_img</span><span class="o">-&gt;</span><span class="na">resetAttribute</span><span class="p">(</span><span class="s1">&#39;imageId&#39;</span><span class="p">,</span> <span class="s1">&#39;launchPermission&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zendservice-amazon-ec2-images-attribute-describe">Describe AMI Attribute</p>
<p><em>describeAttribute</em> returns information about an attribute of an <em>AMI</em>. Only one attribute can be specified per
call. Currently only launchPermission and productCodes are supported.</p>
<p><em>describeAttribute</em> returns an array with the value of the attribute that was requested.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$ec2_img</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ZendService\Amazon\Ec2\Image</span><span class="p">(</span><span class="s1">&#39;aws_key&#39;</span><span class="p">,</span><span class="s1">&#39;aws_secret_key&#39;</span><span class="p">);</span>
<span class="nv">$return</span> <span class="o">=</span> <span class="nv">$ec2_img</span><span class="o">-&gt;</span><span class="na">describeAttribute</span><span class="p">(</span><span class="s1">&#39;imageId&#39;</span><span class="p">,</span> <span class="s1">&#39;launchPermission&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/zf2_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">ZendServiceAmazonEc2: Amazon Machine Images (AMI)</a><ul>
<li><a class="reference internal" href="#ami-information-utilities">AMI Information Utilities</a></li>
<li><a class="reference internal" href="#ami-attribute-utilities">AMI Attribute Utilities</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li>
        <!--<a href="../_sources/modules/zendservice.amazon.ec2.image.txt"-->
        <a href="https://github.com/zendframework/zf2-documentation/blob/master/docs/languages/en/modules/zendservice.amazon.ec2.image.rst"
           rel="nofollow">Show Source</a></li>
    <li><a href="https://github.com/zendframework/zf2-documentation/edit/master/docs/languages/en/modules/zendservice.amazon.ec2.image.rst"
           rel="nofollow">Edit Source</a>
    </li>
  </ul>
        <p style="font-size: 12px">
            Note: You need to stay logged into your <a href="http://www.github.com">GitHub account</a> to contribute to the documentation.
        </p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">Zend Framework 2 2.0.5 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2012, Zend Technologies Ltd..
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
<div id="edit-button">
    <img src="../_static/edit.gif" alt="Edit this document" title="Edit this document" onclick="javascript:$('#editor-trap').toggle();">
</div>
     
<div id="editor-trap">
    <h3>Edit this document</h3>

    <p>
        The source code of this file is hosted on GitHub. Everyone can
        update and fix errors in this document with few clicks -
        no downloads needed.
    <p>

    <ol>

        <li>
            Login with your <a href="http://www.github.com">GitHub</a> account.
        </li>

        <li>
            Go to
            <a href="https://github.com/zendframework/zf2-documentation/edit/master/docs/languages/en/modules/zendservice.amazon.ec2.image.rst">
                ZendServiceAmazonEc2: Amazon Machine Images (AMI)
            </a> on GitHub.
        </li>

        <li>
            Edit file contents using GitHub's text editor in your web browser
        </li>

        <li>
            Fill in the <b>Commit message</b> text box at the end of the page telling <i>why</i>
            you did the changes. Press <b>Propose file change</b> button next to it when done.
        </li>


        <li>
            On <i>Send a pull request</i> page you don't need to fill in text anymore. Just
            press <b>Send pull request</b> button.
        </li>

        <li>
            Your changes are now queued for review under project's <a href="https://github.com/zendframework/zf2-documentation/pulls">Pull requests</a> tab on GitHub.
        </li>
    </ol>

</div>


  </body>
</html>