

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Standard Filter Classes &mdash; Zend Framework 2 2.1.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Zend Framework 2 2.1.1 documentation" href="../index.html" />
    <link rel="next" title="Word Filters" href="zend.filter.word.html" />
    <link rel="prev" title="Introduction" href="zend.filter.html" />
<style type="text/css">
    /* Styles for floating Edit on GitHub box */
    #editor-trap {
        padding: 1em;
        border: 1px solid white;
        width: 250px;

        display: none;
        color: white;
        background: #3f454b;
        position: fixed;
        bottom: 5px;
        left: 175px;
        font-size: 85%;
        text-align: left;
        z-index: 2;

        box-shadow: 0 4px 6px #333;
        -moz-box-shadow: 0 4px 6px #333;
        -webkit-box-shadow: 0 4px 6px #333;
        
        cursor: pointer;
    }

    #editor-trap h3 {
        margin: 0 0 0.5em 0;
        padding: 0;
    }

    #editor-trap h3 > span {
        padding: 0 6px;
        border: solid white;
        border-width: 0 1px 4px 1px;
        font-size: 10px;
    }

    #editor-trap a {
        color: #98DBCC;
    }

    #editor-trap ol {
        margin: 0;
        padding: 0 0 0 2em;
    }

    /* Hide trick */
    #editor-trap.toggled > * {
        display: none;
    }


    #editor-trap.toggled > h3 {
        display: block;
    }

    #editor-trap.toggled > h3 > span {
        border-width: 6px 1px 0 1px;
    }
    
    #edit-button {
        position: fixed;
        bottom: 5px;
        left: 5px;
        z-index: 2;
        width: 162px;
        height: 42px;
    }
</style>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="zend.filter.word.html" title="Word Filters"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="zend.filter.html" title="Introduction"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Zend Framework 2 2.1.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="standard-filter-classes">
<span id="zend-filter-set"></span><h1>Standard Filter Classes<a class="headerlink" href="#standard-filter-classes" title="Permalink to this headline">¶</a></h1>
<p>Zend Framework comes with a standard set of filters, which are ready for you to use.</p>
<div class="section" id="alnum">
<span id="zend-i18n-filter-alnum"></span><h2>Alnum<a class="headerlink" href="#alnum" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">Alnum</span></tt> filter can be used to return only alphabetic characters and digits in the unicode &#8220;letter&#8221; and
&#8220;number&#8221; categories, respectively. All other characters are suppressed.</p>
<p class="rubric" id="zend-i18n-filter-alnum-options">Supported Options for Alnum Filter</p>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Alnum</span></tt>:</p>
<p><tt class="docutils literal"><span class="pre">Alnum([</span> <span class="pre">boolean</span> <span class="pre">$allowWhiteSpace</span> <span class="pre">[,</span> <span class="pre">string</span> <span class="pre">$locale</span> <span class="pre">]])</span></tt></p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">$allowWhiteSpace</span></tt>: If set to true then whitespace characters are allowed. Otherwise they are suppressed.
Default is &#8220;false&#8221; (whitespace is not allowed).</p>
<p>Methods for getting/setting the allowWhiteSpace option are also available: <tt class="docutils literal"><span class="pre">getAllowWhiteSpace()</span></tt> and
<tt class="docutils literal"><span class="pre">setAllowWhiteSpace()</span></tt></p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$locale</span></tt>: The locale string used in identifying the characters to filter (locale name, e.g. en_US). If unset,
it will use the default locale (<tt class="docutils literal"><span class="pre">Locale::getDefault()</span></tt>).</p>
<p>Methods for getting/setting the locale are also available: <tt class="docutils literal"><span class="pre">getLocale()</span></tt> and <tt class="docutils literal"><span class="pre">setLocale()</span></tt></p>
</li>
</ul>
<p class="rubric" id="zend-i18n-filter-alnum-usage">Alnum Filter Usage</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// Default settings, deny whitespace</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Zend\I18n\Filter\Alnum</span><span class="p">();</span>
<span class="k">echo</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s2">&quot;This is (my) content: 123&quot;</span><span class="p">);</span>
<span class="c1">// Returns &quot;Thisismycontent123&quot;</span>

<span class="c1">// First param in constructor is $allowWhiteSpace</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Zend\I18n\Filter\Alnum</span><span class="p">(</span><span class="k">true</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s2">&quot;This is (my) content: 123&quot;</span><span class="p">);</span>
<span class="c1">// Returns &quot;This is my content 123&quot;</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note: <tt class="docutils literal"><span class="pre">Alnum</span></tt> works on almost all languages, except: Chinese, Japanese and Korean. Within these languages the
english alphabet is used instead of the characters from these languages. The language itself is detected using
the <tt class="docutils literal"><span class="pre">Locale</span></tt>.</p>
</div>
</div>
<div class="section" id="alpha">
<span id="zend-i18n-filter-alpha"></span><h2>Alpha<a class="headerlink" href="#alpha" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">Alpha</span></tt> filter can be used to return only alphabetic characters in the unicode &#8220;letter&#8221; category. All other
characters are suppressed.</p>
<p class="rubric" id="zend-i18n-filter-alpha-options">Supported Options for Alpha Filter</p>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Alpha</span></tt>:</p>
<p><tt class="docutils literal"><span class="pre">Alpha([</span> <span class="pre">boolean</span> <span class="pre">$allowWhiteSpace</span> <span class="pre">[,</span> <span class="pre">string</span> <span class="pre">$locale</span> <span class="pre">]])</span></tt></p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">$allowWhiteSpace</span></tt>: If set to true then whitespace characters are allowed. Otherwise they are suppressed.
Default is &#8220;false&#8221; (whitespace is not allowed).</p>
<p>Methods for getting/setting the allowWhiteSpace option are also available: <tt class="docutils literal"><span class="pre">getAllowWhiteSpace()</span></tt> and
<tt class="docutils literal"><span class="pre">setAllowWhiteSpace()</span></tt></p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$locale</span></tt>: The locale string used in identifying the characters to filter (locale name, e.g. en_US). If unset,
it will use the default locale (<tt class="docutils literal"><span class="pre">Locale::getDefault()</span></tt>).</p>
<p>Methods for getting/setting the locale are also available: <tt class="docutils literal"><span class="pre">getLocale()</span></tt> and <tt class="docutils literal"><span class="pre">setLocale()</span></tt></p>
</li>
</ul>
<p class="rubric" id="zend-i18n-filter-alpha-usage">Alpha Filter Usage</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// Default settings, deny whitespace</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Zend\I18n\Filter\Alpha</span><span class="p">();</span>
<span class="k">echo</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s2">&quot;This is (my) content: 123&quot;</span><span class="p">);</span>
<span class="c1">// Returns &quot;Thisismycontent&quot;</span>

<span class="c1">// Allow whitespace</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Zend\I18n\Filter\Alpha</span><span class="p">(</span><span class="k">true</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s2">&quot;This is (my) content: 123&quot;</span><span class="p">);</span>
<span class="c1">// Returns &quot;This is my content &quot;</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note: <tt class="docutils literal"><span class="pre">Alpha</span></tt> works on almost all languages, except: Chinese, Japanese and Korean. Within these languages the
english alphabet is used instead of the characters from these languages. The language itself is detected using
the <tt class="docutils literal"><span class="pre">Locale</span></tt>.</p>
</div>
</div>
<div class="section" id="basename">
<span id="zend-filter-set-basename"></span><h2>BaseName<a class="headerlink" href="#basename" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">Zend\Filter\BaseName</span></tt> allows you to filter a string which contains the path to a file and it will return the
base name of this file.</p>
<p class="rubric" id="zend-filter-set-basename-options">Supported Options</p>
<p>There are no additional options for <tt class="docutils literal"><span class="pre">Zend\Filter\BaseName</span></tt>.</p>
<p class="rubric" id="zend-filter-set-basename-basic">Basic Usage</p>
<p>A basic example of usage is below:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\BaseName</span><span class="p">();</span>

<span class="k">print</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;/vol/tmp/filename&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>This will return &#8216;filename&#8217;.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\BaseName</span><span class="p">();</span>

<span class="k">print</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;/vol/tmp/filename.txt&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>This will return &#8216;<tt class="docutils literal"><span class="pre">filename.txt</span></tt>&#8216;.</p>
</div>
<div class="section" id="boolean">
<span id="zend-filter-set-boolean"></span><h2>Boolean<a class="headerlink" href="#boolean" title="Permalink to this headline">¶</a></h2>
<p>This filter changes a given input to be a <tt class="docutils literal"><span class="pre">BOOLEAN</span></tt> value. This is often useful when working with databases or
when processing form values.</p>
<p class="rubric" id="zend-filter-set-boolean-options">Supported Options</p>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Filter\Boolean</span></tt>:</p>
<ul class="simple">
<li><strong>casting</strong>: When this option is set to <tt class="docutils literal"><span class="pre">TRUE</span></tt> then any given input will be casted to boolean. This option
defaults to <tt class="docutils literal"><span class="pre">TRUE</span></tt>.</li>
<li><strong>locale</strong>: This option sets the locale which will be used to detect localized input.</li>
<li><strong>type</strong>: The <tt class="docutils literal"><span class="pre">type</span></tt> option sets the boolean type which should be used. Read the following for details.</li>
</ul>
<p class="rubric" id="zend-filter-set-boolean-default">Default Behavior</p>
<p>By default, this filter works by casting the input to a <tt class="docutils literal"><span class="pre">BOOLEAN</span></tt> value; in other words, it operates in a similar
fashion to calling <tt class="docutils literal"><span class="pre">(boolean)</span> <span class="pre">$value</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Boolean</span><span class="p">();</span>
<span class="nv">$value</span>  <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="nv">$value</span><span class="p">);</span>
<span class="c1">// returns false</span>
</pre></div>
</td></tr></table></div>
<p>This means that without providing any configuration, <tt class="docutils literal"><span class="pre">Zend\Filter\Boolean</span></tt> accepts all input types and returns a
<tt class="docutils literal"><span class="pre">BOOLEAN</span></tt> just as you would get by type casting to <tt class="docutils literal"><span class="pre">BOOLEAN</span></tt>.</p>
<p class="rubric" id="zend-filter-set-boolean-types">Changing the Default Behavior</p>
<p>Sometimes casting with <tt class="docutils literal"><span class="pre">(boolean)</span></tt> will not suffice. <tt class="docutils literal"><span class="pre">Zend\Filter\Boolean</span></tt> allows you to configure specific
types to convert, as well as which to omit.</p>
<p>The following types can be handled:</p>
<ul class="simple">
<li><strong>boolean</strong>: Returns a boolean value as is.</li>
<li><strong>integer</strong>: Converts an integer <strong>0</strong> value to <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</li>
<li><strong>float</strong>: Converts a float <strong>0.0</strong> value to <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</li>
<li><strong>string</strong>: Converts an empty string <strong>&#8216;&#8217;</strong> to <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</li>
<li><strong>zero</strong>: Converts a string containing the single character zero (<strong>&#8216;0&#8217;</strong>) to <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</li>
<li><strong>empty_array</strong>: Converts an empty <strong>array</strong> to <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</li>
<li><strong>null</strong>: Converts a <tt class="docutils literal"><span class="pre">NULL</span></tt> value to <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</li>
<li><strong>php</strong>: Converts values according to <em>PHP</em> when casting them to <tt class="docutils literal"><span class="pre">BOOLEAN</span></tt>.</li>
<li><strong>false_string</strong>: Converts a string containing the word &#8220;false&#8221; to a boolean <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</li>
<li><strong>yes</strong>: Converts a localized string which contains the word &#8220;no&#8221; to <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</li>
<li><strong>all</strong>: Converts all above types to <tt class="docutils literal"><span class="pre">BOOLEAN</span></tt>.</li>
</ul>
<p>All other given values will return <tt class="docutils literal"><span class="pre">TRUE</span></tt> by default.</p>
<p>There are several ways to select which of the above types are filtered. You can give one or multiple types and add
them, you can give an array, you can use constants, or you can give a textual string. See the following examples:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// converts 0 to false</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Boolean</span><span class="p">(</span><span class="nx">Zend\Filter\Boolean</span><span class="o">::</span><span class="na">INTEGER</span><span class="p">);</span>

<span class="c1">// converts 0 and &#39;0&#39; to false</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Boolean</span><span class="p">(</span>
    <span class="nx">Zend\Filter\Boolean</span><span class="o">::</span><span class="na">INTEGER</span> <span class="o">+</span> <span class="nx">Zend\Filter\Boolean</span><span class="o">::</span><span class="na">ZERO</span>
<span class="p">);</span>

<span class="c1">// converts 0 and &#39;0&#39; to false</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Boolean</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="nx">Zend\Filter\Boolean</span><span class="o">::</span><span class="na">INTEGER</span><span class="p">,</span>
        <span class="nx">Zend\Filter\Boolean</span><span class="o">::</span><span class="na">ZERO</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">));</span>

<span class="c1">// converts 0 and &#39;0&#39; to false</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Boolean</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
        <span class="s1">&#39;zero&#39;</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div>
<p>You can also give an instance of <tt class="docutils literal"><span class="pre">Zend\Config\Config</span></tt> to set the desired types. To set types after instantiation, use
the <tt class="docutils literal"><span class="pre">setType()</span></tt> method.</p>
<p class="rubric" id="zend-filter-set-boolean-localized">Localized Booleans</p>
<p>As mentioned previously, <tt class="docutils literal"><span class="pre">Zend\Filter\Boolean</span></tt> can also recognise localized &#8220;yes&#8221; and &#8220;no&#8221; strings. This means
that you can ask your customer in a form for &#8220;yes&#8221; or &#8220;no&#8221; within his native language and <tt class="docutils literal"><span class="pre">Zend\Filter\Boolean</span></tt>
will convert the response to the appropriate boolean value.</p>
<p>To set the desired locale, you can either use the <tt class="docutils literal"><span class="pre">locale</span></tt> option, or the method <tt class="docutils literal"><span class="pre">setLocale()</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Boolean</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;type&#39;</span>   <span class="o">=&gt;</span> <span class="nx">Zend\Filter\Boolean</span><span class="o">::</span><span class="na">ALL</span><span class="p">,</span>
    <span class="s1">&#39;locale&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;de&#39;</span><span class="p">,</span>
<span class="p">));</span>

<span class="c1">// returns false</span>
<span class="k">echo</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;nein&#39;</span><span class="p">);</span>

<span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setLocale</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">);</span>

<span class="c1">// returns true</span>
<span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;yes&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-filter-set-boolean-casting">Disable Casting</p>
<p>Sometimes it is necessary to recognise only <tt class="docutils literal"><span class="pre">TRUE</span></tt> or <tt class="docutils literal"><span class="pre">FALSE</span></tt> and return all other values without changes.
<tt class="docutils literal"><span class="pre">Zend\Filter\Boolean</span></tt> allows you to do this by setting the <tt class="docutils literal"><span class="pre">casting</span></tt> option to <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</p>
<p>In this case <tt class="docutils literal"><span class="pre">Zend\Filter\Boolean</span></tt> will work as described in the following table, which shows which values return
<tt class="docutils literal"><span class="pre">TRUE</span></tt> or <tt class="docutils literal"><span class="pre">FALSE</span></tt>. All other given values are returned without change when <tt class="docutils literal"><span class="pre">casting</span></tt> is set to <tt class="docutils literal"><span class="pre">FALSE</span></tt></p>
<table border="1" class="docutils" id="zend-filter-set-boolean-casting-table">
<caption>Usage without casting</caption>
<colgroup>
<col width="32%" />
<col width="35%" />
<col width="34%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">True</th>
<th class="head">False</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>ZendFilterBoolean::BOOLEAN</td>
<td>TRUE</td>
<td>FALSE</td>
</tr>
<tr class="row-odd"><td>ZendFilterBoolean::INTEGER</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="row-even"><td>ZendFilterBoolean::FLOAT</td>
<td>0.0</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>ZendFilterBoolean::STRING</td>
<td>&#8220;&#8221;</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>ZendFilterBoolean::ZERO</td>
<td>&#8220;0&#8221;</td>
<td>&#8220;1&#8221;</td>
</tr>
<tr class="row-odd"><td>ZendFilterBoolean::EMPTY_ARRAY</td>
<td>array()</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>ZendFilterBoolean::NULL</td>
<td>NULL</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>ZendFilterBoolean::FALSE_STRING</td>
<td>&#8220;false&#8221; (case independently)</td>
<td>&#8220;true&#8221; (case independently)</td>
</tr>
<tr class="row-even"><td>ZendFilterBoolean::YES</td>
<td>localized &#8220;yes&#8221; (case independently)</td>
<td>localized &#8220;no&#8221; (case independently)</td>
</tr>
</tbody>
</table>
<p>The following example shows the behaviour when changing the <tt class="docutils literal"><span class="pre">casting</span></tt> option:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Boolean</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;type&#39;</span>    <span class="o">=&gt;</span> <span class="nx">Zend\Filter\Boolean</span><span class="o">::</span><span class="na">ALL</span><span class="p">,</span>
    <span class="s1">&#39;casting&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
<span class="p">));</span>

<span class="c1">// returns false</span>
<span class="k">echo</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

<span class="c1">// returns true</span>
<span class="k">echo</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

<span class="c1">// returns the value</span>
<span class="k">echo</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="callback">
<span id="zend-filter-set-callback"></span><h2>Callback<a class="headerlink" href="#callback" title="Permalink to this headline">¶</a></h2>
<p>This filter allows you to use own methods in conjunction with <tt class="docutils literal"><span class="pre">Zend\Filter</span></tt>. You don&#8217;t have to create a new
filter when you already have a method which does the job.</p>
<p class="rubric" id="zend-filter-set-callback-options">Supported Options</p>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Filter\Callback</span></tt>:</p>
<ul class="simple">
<li><strong>callback</strong>: This sets the callback which should be used.</li>
<li><strong>options</strong>: This property sets the options which are used when the callback is processed.</li>
</ul>
<p class="rubric" id="zend-filter-set-callback-basic">Basic Usage</p>
<p>The usage of this filter is quite simple. Let&#8217;s expect we want to create a filter which reverses a string.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Callback</span><span class="p">(</span><span class="s1">&#39;strrev&#39;</span><span class="p">);</span>

<span class="k">print</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;Hello!&#39;</span><span class="p">);</span>
<span class="c1">// returns &quot;!olleH&quot;</span>
</pre></div>
</td></tr></table></div>
<p>As you can see it&#8217;s really simple to use a callback to define a own filter. It is also possible to use a method,
which is defined within a class, by giving an array as callback.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// Our classdefinition</span>
<span class="k">class</span> <span class="nc">MyClass</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">Reverse</span><span class="p">(</span><span class="nv">$param</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// The filter definition</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Callback</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;MyClass&#39;</span><span class="p">,</span> <span class="s1">&#39;Reverse&#39;</span><span class="p">));</span>
<span class="k">print</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;Hello!&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>To get the actual set callback use <tt class="docutils literal"><span class="pre">getCallback()</span></tt> and to set another callback use <tt class="docutils literal"><span class="pre">setCallback()</span></tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Possible exceptions</strong></p>
<p class="last">You should note that defining a callback method which can not be called will raise an exception.</p>
</div>
<p class="rubric" id="zend-filter-set-callback-parameters">Default Parameters Within a Callback</p>
<p>It is also possible to define default parameters, which are given to the called method as array when the filter is
executed. This array will be concatenated with the value which will be filtered.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Callback</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;callback&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;MyMethod&#39;</span><span class="p">,</span>
        <span class="s1">&#39;options&#39;</span>  <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;param1&#39;</span><span class="p">,</span> <span class="s1">&#39;key2&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;param2&#39;</span><span class="p">)</span>
    <span class="p">)</span>
<span class="p">);</span>
<span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;value&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Hello&#39;</span><span class="p">));</span>
</pre></div>
</td></tr></table></div>
<p>When you would call the above method definition manually it would look like this:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$value</span> <span class="o">=</span> <span class="nx">MyMethod</span><span class="p">(</span><span class="s1">&#39;Hello&#39;</span><span class="p">,</span> <span class="s1">&#39;param1&#39;</span><span class="p">,</span> <span class="s1">&#39;param2&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="compress-and-decompress">
<span id="zend-filter-set-compress"></span><h2>Compress and Decompress<a class="headerlink" href="#compress-and-decompress" title="Permalink to this headline">¶</a></h2>
<p>These two filters are capable of compressing and decompressing strings, files, and directories.</p>
<p class="rubric" id="zend-filter-set-compress-options">Supported Options</p>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Filter\Compress</span></tt> and <tt class="docutils literal"><span class="pre">Zend\Filter\Decompress</span></tt>:</p>
<ul class="simple">
<li><strong>adapter</strong>: The compression adapter which should be used. It defaults to <tt class="docutils literal"><span class="pre">Gz</span></tt>.</li>
<li><strong>options</strong>: Additional options which are given to the adapter at initiation. Each adapter supports it&#8217;s own
options.</li>
</ul>
<p class="rubric" id="zend-filter-set-compress-basic">Supported Compression Adapters</p>
<p>The following compression formats are supported by their own adapter:</p>
<ul class="simple">
<li><strong>Bz2</strong></li>
<li><strong>Gz</strong></li>
<li><strong>Lzf</strong></li>
<li><strong>Rar</strong></li>
<li><strong>Tar</strong></li>
<li><strong>Zip</strong></li>
</ul>
<p>Each compression format has different capabilities as described below. All compression filters may be used in
approximately the same ways, and differ primarily in the options available and the type of compression they offer
(both algorithmically as well as string vs. file vs. directory)</p>
<p class="rubric" id="zend-filter-set-compress-generic">Generic Handling</p>
<p>To create a compression filter you need to select the compression format you want to use. The following description
takes the <strong>Bz2</strong> adapter. Details for all other adapters are described after this section.</p>
<p>The two filters are basically identical, in that they utilize the same backends. <tt class="docutils literal"><span class="pre">Zend\Filter\Compress</span></tt> should be
used when you wish to compress items, and <tt class="docutils literal"><span class="pre">Zend\Filter\Decompress</span></tt> should be used when you wish to decompress
items.</p>
<p>For instance, if we want to compress a string, we have to initiate <tt class="docutils literal"><span class="pre">Zend\Filter\Compress</span></tt> and indicate the
desired adapter.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Compress</span><span class="p">(</span><span class="s1">&#39;Bz2&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>To use a different adapter, you simply specify it to the constructor.</p>
<p>You may also provide an array of options or a Traversable object. If you do, provide minimally the key &#8220;adapter&#8221;,
and then either the key &#8220;options&#8221; or &#8220;adapterOptions&#8221; (which should be an array of options to provide to the
adapter on instantiation).</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Compress</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;adapter&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Bz2&#39;</span><span class="p">,</span>
    <span class="s1">&#39;options&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;blocksize&#39;</span> <span class="o">=&gt;</span> <span class="mi">8</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Default compression Adapter</strong></p>
<p class="last">When no compression adapter is given, then the <strong>Gz</strong> adapter will be used.</p>
</div>
<p>Almost the same usage is we want to decompress a string. We just have to use the decompression filter in this case.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Decompress</span><span class="p">(</span><span class="s1">&#39;Bz2&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>To get the compressed string, we have to give the original string. The filtered value is the compressed version of
the original string.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span>     <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Compress</span><span class="p">(</span><span class="s1">&#39;Bz2&#39;</span><span class="p">);</span>
<span class="nv">$compressed</span> <span class="o">=</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;Uncompressed string&#39;</span><span class="p">);</span>
<span class="c1">// Returns the compressed string</span>
</pre></div>
</td></tr></table></div>
<p>Decompression works the same way.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span>     <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Decompress</span><span class="p">(</span><span class="s1">&#39;Bz2&#39;</span><span class="p">);</span>
<span class="nv">$compressed</span> <span class="o">=</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;Compressed string&#39;</span><span class="p">);</span>
<span class="c1">// Returns the uncompressed string</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Note on string compression</strong></p>
<p class="last">Not all adapters support string compression. Compression formats like <strong>Rar</strong> can only handle files and
directories. For details, consult the section for the adapter you wish to use.</p>
</div>
<p class="rubric" id="zend-filter-set-compress-archive">Creating an Archive</p>
<p>Creating an archive file works almost the same as compressing a string. However, in this case we need an additional
parameter which holds the name of the archive we want to create.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span>     <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Compress</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;adapter&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Bz2&#39;</span><span class="p">,</span>
    <span class="s1">&#39;options&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;archive&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;filename.bz2&#39;</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">));</span>
<span class="nv">$compressed</span> <span class="o">=</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;Uncompressed string&#39;</span><span class="p">);</span>
<span class="c1">// Returns true on success and creates the archive file</span>
</pre></div>
</td></tr></table></div>
<p>In the above example the uncompressed string is compressed, and is then written into the given archive file.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Existing archives will be overwritten</strong></p>
<p class="last">The content of any existing file will be overwritten when the given filename of the archive already exists.</p>
</div>
<p>When you want to compress a file, then you must give the name of the file with its path.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span>     <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Compress</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;adapter&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Bz2&#39;</span><span class="p">,</span>
    <span class="s1">&#39;options&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;archive&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;filename.bz2&#39;</span>
    <span class="p">),</span>
<span class="p">));</span>
<span class="nv">$compressed</span> <span class="o">=</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;C:\temp\compressme.txt&#39;</span><span class="p">);</span>
<span class="c1">// Returns true on success and creates the archive file</span>
</pre></div>
</td></tr></table></div>
<p>You may also specify a directory instead of a filename. In this case the whole directory with all its files and
subdirectories will be compressed into the archive.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span>     <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Compress</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;adapter&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Bz2&#39;</span><span class="p">,</span>
    <span class="s1">&#39;options&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;archive&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;filename.bz2&#39;</span>
    <span class="p">),</span>
<span class="p">));</span>
<span class="nv">$compressed</span> <span class="o">=</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;C:\temp\somedir&#39;</span><span class="p">);</span>
<span class="c1">// Returns true on success and creates the archive file</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Do not compress large or base directories</strong></p>
<p class="last">You should never compress large or base directories like a complete partition. Compressing a complete partition
is a very time consuming task which can lead to massive problems on your server when there is not enough space
or your script takes too much time.</p>
</div>
<p class="rubric" id="zend-filter-set-compress-decompress">Decompressing an Archive</p>
<p>Decompressing an archive file works almost like compressing it. You must specify either the <tt class="docutils literal"><span class="pre">archive</span></tt> parameter,
or give the filename of the archive when you decompress the file.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span>     <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Decompress</span><span class="p">(</span><span class="s1">&#39;Bz2&#39;</span><span class="p">);</span>
<span class="nv">$compressed</span> <span class="o">=</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;filename.bz2&#39;</span><span class="p">);</span>
<span class="c1">// Returns true on success and decompresses the archive file</span>
</pre></div>
</td></tr></table></div>
<p>Some adapters support decompressing the archive into another subdirectory. In this case you can set the <tt class="docutils literal"><span class="pre">target</span></tt>
parameter.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span>     <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Decompress</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;adapter&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Zip&#39;</span><span class="p">,</span>
    <span class="s1">&#39;options&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;target&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;C:\temp&#39;</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">));</span>
<span class="nv">$compressed</span> <span class="o">=</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;filename.zip&#39;</span><span class="p">);</span>
<span class="c1">// Returns true on success and decompresses the archive file</span>
<span class="c1">// into the given target directory</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Directories to extract to must exist</strong></p>
<p class="last">When you want to decompress an archive into a directory, then that directory must exist.</p>
</div>
<p class="rubric" id="zend-filter-set-compress-bz2">Bz2 Adapter</p>
<p>The Bz2 Adapter can compress and decompress:</p>
<ul class="simple">
<li>Strings</li>
<li>Files</li>
<li>Directories</li>
</ul>
<p>This adapter makes use of <em>PHP</em>&#8216;s Bz2 extension.</p>
<p>To customize compression, this adapter supports the following options:</p>
<ul class="simple">
<li><strong>Archive</strong>: This parameter sets the archive file which should be used or created.</li>
<li><strong>Blocksize</strong>: This parameter sets the blocksize to use. It can be from &#8216;0&#8217; to &#8216;9&#8217;. The default value is &#8216;4&#8217;.</li>
</ul>
<p>All options can be set at instantiation or by using a related method. For example, the related methods for
&#8216;Blocksize&#8217; are <tt class="docutils literal"><span class="pre">getBlocksize()</span></tt> and <tt class="docutils literal"><span class="pre">setBlocksize()</span></tt>. You can also use the <tt class="docutils literal"><span class="pre">setOptions()</span></tt> method which
accepts all options as array.</p>
<p class="rubric" id="zend-filter-set-compress-gz">Gz Adapter</p>
<p>The Gz Adapter can compress and decompress:</p>
<ul class="simple">
<li>Strings</li>
<li>Files</li>
<li>Directories</li>
</ul>
<p>This adapter makes use of <em>PHP</em>&#8216;s Zlib extension.</p>
<p>To customize the compression this adapter supports the following options:</p>
<ul class="simple">
<li><strong>Archive</strong>: This parameter sets the archive file which should be used or created.</li>
<li><strong>Level</strong>: This compression level to use. It can be from &#8216;0&#8217; to &#8216;9&#8217;. The default value is &#8216;9&#8217;.</li>
<li><strong>Mode</strong>: There are two supported modes. &#8216;compress&#8217; and &#8216;deflate&#8217;. The default value is &#8216;compress&#8217;.</li>
</ul>
<p>All options can be set at initiation or by using a related method. For example, the related methods for &#8216;Level&#8217; are
<tt class="docutils literal"><span class="pre">getLevel()</span></tt> and <tt class="docutils literal"><span class="pre">setLevel()</span></tt>. You can also use the <tt class="docutils literal"><span class="pre">setOptions()</span></tt> method which accepts all options as array.</p>
<p class="rubric" id="zend-filter-set-compress-lzf">Lzf Adapter</p>
<p>The Lzf Adapter can compress and decompress:</p>
<ul class="simple">
<li>Strings</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Lzf supports only strings</strong></p>
<p class="last">The Lzf adapter can not handle files and directories.</p>
</div>
<p>This adapter makes use of <em>PHP</em>&#8216;s Lzf extension.</p>
<p>There are no options available to customize this adapter.</p>
<p class="rubric" id="zend-filter-set-compress-rar">Rar Adapter</p>
<p>The Rar Adapter can compress and decompress:</p>
<ul class="simple">
<li>Files</li>
<li>Directories</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Rar does not support strings</strong></p>
<p class="last">The Rar Adapter can not handle strings.</p>
</div>
<p>This adapter makes use of <em>PHP</em>&#8216;s Rar extension.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Rar compression not supported</strong></p>
<p class="last">Due to restrictions with the Rar compression format, there is no compression available for free. When you want
to compress files into a new Rar archive, you must provide a callback to the adapter that can invoke a Rar
compression program.</p>
</div>
<p>To customize the compression this adapter supports the following options:</p>
<ul class="simple">
<li><strong>Archive</strong>: This parameter sets the archive file which should be used or created.</li>
<li><strong>Callback</strong>: A callback which provides compression support to this adapter.</li>
<li><strong>Password</strong>: The password which has to be used for decompression.</li>
<li><strong>Target</strong>: The target where the decompressed files will be written to.</li>
</ul>
<p>All options can be set at instantiation or by using a related method. For example, the related methods for &#8216;Target&#8217;
are <tt class="docutils literal"><span class="pre">getTarget()</span></tt> and <tt class="docutils literal"><span class="pre">setTarget()</span></tt>. You can also use the <tt class="docutils literal"><span class="pre">setOptions()</span></tt> method which accepts all options as
array.</p>
<p class="rubric" id="zend-filter-set-compress-tar">Tar Adapter</p>
<p>The Tar Adapter can compress and decompress:</p>
<ul class="simple">
<li>Files</li>
<li>Directories</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Tar does not support strings</strong></p>
<p class="last">The Tar Adapter can not handle strings.</p>
</div>
<p>This adapter makes use of <em>PEAR</em>&#8216;s <tt class="docutils literal"><span class="pre">Archive_Tar</span></tt> component.</p>
<p>To customize the compression this adapter supports the following options:</p>
<ul class="simple">
<li><strong>Archive</strong>: This parameter sets the archive file which should be used or created.</li>
<li><strong>Mode</strong>: A mode to use for compression. Supported are either &#8216;<tt class="docutils literal"><span class="pre">NULL</span></tt>&#8216; which means no compression at all, &#8216;Gz&#8217;
which makes use of <em>PHP</em>&#8216;s Zlib extension and &#8216;Bz2&#8217; which makes use of <em>PHP</em>&#8216;s Bz2 extension. The default value
is &#8216;<tt class="docutils literal"><span class="pre">NULL</span></tt>&#8216;.</li>
<li><strong>Target</strong>: The target where the decompressed files will be written to.</li>
</ul>
<p>All options can be set at instantiation or by using a related method. For example, the related methods for &#8216;Target&#8217;
are <tt class="docutils literal"><span class="pre">getTarget()</span></tt> and <tt class="docutils literal"><span class="pre">setTarget()</span></tt>. You can also use the <tt class="docutils literal"><span class="pre">setOptions()</span></tt> method which accepts all options as
array.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Directory usage</strong></p>
<p class="last">When compressing directories with Tar then the complete file path is used. This means that created Tar files
will not only have the subdirectory but the complete path for the compressed file.</p>
</div>
<p class="rubric" id="zend-filter-set-compress-zip">Zip Adapter</p>
<p>The Zip Adapter can compress and decompress:</p>
<ul class="simple">
<li>Strings</li>
<li>Files</li>
<li>Directories</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Zip does not support string decompression</strong></p>
<p class="last">The Zip Adapter can not handle decompression to a string; decompression will always be written to a file.</p>
</div>
<p>This adapter makes use of <em>PHP</em>&#8216;s <tt class="docutils literal"><span class="pre">Zip</span></tt> extension.</p>
<p>To customize the compression this adapter supports the following options:</p>
<ul class="simple">
<li><strong>Archive</strong>: This parameter sets the archive file which should be used or created.</li>
<li><strong>Target</strong>: The target where the decompressed files will be written to.</li>
</ul>
<p>All options can be set at instantiation or by using a related method. For example, the related methods for &#8216;Target&#8217;
are <tt class="docutils literal"><span class="pre">getTarget()</span></tt> and <tt class="docutils literal"><span class="pre">setTarget()</span></tt>. You can also use the <tt class="docutils literal"><span class="pre">setOptions()</span></tt> method which accepts all options as
array.</p>
</div>
<div class="section" id="digits">
<span id="zend-filter-set-digits"></span><h2>Digits<a class="headerlink" href="#digits" title="Permalink to this headline">¶</a></h2>
<p>Returns the string <tt class="docutils literal"><span class="pre">$value</span></tt>, removing all but digits.</p>
<p class="rubric" id="zend-filter-set-digits-options">Supported Options</p>
<p>There are no additional options for <tt class="docutils literal"><span class="pre">Zend\Filter\Digits</span></tt>.</p>
<p class="rubric" id="zend-filter-set-digits-basic">Basic Usage</p>
<p>A basic example of usage is below:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Digits</span><span class="p">();</span>

<span class="k">print</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;October 2012&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>This returns &#8220;2012&#8221;.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Digits</span><span class="p">();</span>

<span class="k">print</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;HTML 5 for Dummies&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>This returns &#8220;5&#8221;.</p>
</div>
<div class="section" id="dir">
<span id="zend-filter-set-dir"></span><h2>Dir<a class="headerlink" href="#dir" title="Permalink to this headline">¶</a></h2>
<p>Given a string containing a path to a file, this function will return the name of the directory.</p>
<p class="rubric" id="zend-filter-set-dir-options">Supported Options</p>
<p>There are no additional options for <tt class="docutils literal"><span class="pre">Zend\Filter\Dir</span></tt>.</p>
<p class="rubric" id="zend-filter-set-dir-basic">Basic Usage</p>
<p>A basic example of usage is below:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Dir</span><span class="p">();</span>

<span class="k">print</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;/etc/passwd&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>This returns &#8220;<tt class="docutils literal"><span class="pre">/etc</span></tt>&#8221;.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Dir</span><span class="p">();</span>

<span class="k">print</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;C:/Temp/x&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>This returns &#8220;<tt class="docutils literal"><span class="pre">C:/Temp</span></tt>&#8221;.</p>
</div>
<div class="section" id="encrypt-and-decrypt">
<span id="zend-filter-set-encrypt"></span><h2>Encrypt and Decrypt<a class="headerlink" href="#encrypt-and-decrypt" title="Permalink to this headline">¶</a></h2>
<p>These filters allow to encrypt and decrypt any given string. Therefor they make use of Adapters. Actually there are
adapters for the <tt class="docutils literal"><span class="pre">Zend\Crypt\BlockCipher</span></tt> class and the <tt class="docutils literal"><span class="pre">OpenSSL</span></tt> extension of <em>PHP</em>.</p>
<p class="rubric" id="zend-filter-set-encrypt-options">Supported Options</p>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Filter\Encrypt</span></tt> and <tt class="docutils literal"><span class="pre">Zend\Filter\Decrypt</span></tt>:</p>
<ul class="simple">
<li><strong>adapter</strong>: This sets the encryption adapter which should be used</li>
<li><strong>algorithm</strong>: Only <tt class="docutils literal"><span class="pre">BlockCipher</span></tt>. The algorithm which has to be used by the adapter</li>
</ul>
<blockquote>
<div><tt class="docutils literal"><span class="pre">Zend\Crypt\Symmetric\Mcrypt</span></tt>. It should be one of the algorithm ciphers supported by
<tt class="docutils literal"><span class="pre">Zend\Crypt\Symmetric\Mcrypt</span></tt> (see the <tt class="docutils literal"><span class="pre">getSupportedAlgorithms()</span></tt> method). If not set it
defaults to <tt class="docutils literal"><span class="pre">aes</span></tt>, the Advanced Encryption Standard (see <tt class="docutils literal"><span class="pre">Zend\Crypt\BlockCipher</span></tt> for more details).</div></blockquote>
<ul class="simple">
<li><strong>compression</strong>: If the encrypted value should be compressed. Default is no compression.</li>
<li><strong>envelope</strong>: Only <tt class="docutils literal"><span class="pre">OpenSSL</span></tt>. The encrypted envelope key from the user who encrypted the content. You can
either provide the path and filename of the key file, or just the content of the key file itself. When the
<tt class="docutils literal"><span class="pre">package</span></tt> option has been set, then you can omit this parameter.</li>
<li><strong>key</strong>: Only <tt class="docutils literal"><span class="pre">BlockCipher</span></tt>. The encryption key with which the input will be encrypted. You need the same key for
decryption.</li>
<li><strong>mode</strong>: Only <tt class="docutils literal"><span class="pre">BlockCipher</span></tt>. The encryption mode which has to be used. It should be one of the modes which can be
found under <a href="#id2"><span class="problematic" id="id3">`PHP&#8217;s mcrypt modes`_</span></a>. If not set it defaults to &#8216;cbc&#8217;.</li>
<li><strong>mode_directory</strong>: Only <tt class="docutils literal"><span class="pre">BlockCipher</span></tt>. The directory where the mode can be found. If not set it defaults to the
path set within the <tt class="docutils literal"><span class="pre">Mcrypt</span></tt> extension.</li>
<li><strong>package</strong>: Only <tt class="docutils literal"><span class="pre">OpenSSL</span></tt>. If the envelope key should be packed with the encrypted value. Default is
<tt class="docutils literal"><span class="pre">FALSE</span></tt>.</li>
<li><strong>private</strong>: Only <tt class="docutils literal"><span class="pre">OpenSSL</span></tt>. Your private key which will be used for encrypting the content. Also the private
key can be either a filename with path of the key file, or just the content of the key file itself.</li>
<li><strong>public</strong>: Only <tt class="docutils literal"><span class="pre">OpenSSL</span></tt>. The public key of the user whom you want to provide the encrpted content. You can
give multiple public keys by using an array. You can eigther provide the path and filename of the key file, or
just the content of the key file itself.</li>
<li><strong>vector</strong>: Only <tt class="docutils literal"><span class="pre">BlockCipher</span></tt>. The initialization vector which shall be used. If not set it will be a random
vector.</li>
</ul>
<p class="rubric" id="zend-filter-set-encrypt-adapterusage">Adapter Usage</p>
<p>As these two encryption methodologies work completely different, also the usage of the adapters differ. You have to
select the adapter you want to use when initiating the filter.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// Use the BlockCipher adapter</span>
<span class="nv">$filter1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Encrypt</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;adapter&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;BlockCipher&#39;</span><span class="p">));</span>

<span class="c1">// Use the OpenSSL adapter</span>
<span class="nv">$filter2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Encrypt</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;adapter&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;openssl&#39;</span><span class="p">));</span>
</pre></div>
</td></tr></table></div>
<p>To set another adapter you can also use <tt class="docutils literal"><span class="pre">setAdapter()</span></tt>, and the <tt class="docutils literal"><span class="pre">getAdapter()</span></tt> method to receive the actual set
adapter.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// Use the OpenSSL adapter</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Encrypt</span><span class="p">();</span>
<span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setAdapter</span><span class="p">(</span><span class="s1">&#39;openssl&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When you do not supply the <tt class="docutils literal"><span class="pre">adapter</span></tt> option or do not use <tt class="docutils literal"><span class="pre">setAdapter()</span></tt>, then the <tt class="docutils literal"><span class="pre">BlockCipher</span></tt> adapter will
be used per default.</p>
</div>
<p class="rubric" id="zend-filter-set-encrypt-blockcipher">Encryption with BlockCipher</p>
<p>To encrypt a string using the <tt class="docutils literal"><span class="pre">BlockCipher</span></tt> you have to specify the encryption key using the <tt class="docutils literal"><span class="pre">setKey()</span></tt> method
or passing it during the constructor.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// Use the default AES encryption algorithm</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Encrypt</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;adapter&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;BlockCipher&#39;</span><span class="p">));</span>
<span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setKey</span><span class="p">(</span><span class="s1">&#39;encryption key&#39;</span><span class="p">);</span>

<span class="c1">// or</span>
<span class="c1">// $filter = new Zend\Filter\Encrypt(array(</span>
<span class="c1">//     &#39;adapter&#39; =&gt; &#39;BlockCipher&#39;,</span>
<span class="c1">//     &#39;key&#39;     =&gt; &#39;encryption key&#39;</span>
<span class="c1">// ));</span>

<span class="nv">$encrypted</span> <span class="o">=</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;text to be encrypted&#39;</span><span class="p">);</span>
<span class="nb">printf</span> <span class="p">(</span><span class="s2">&quot;Encrypted text: %s</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nv">$encrypted</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>You can get and set the encryption values also afterwards with the <tt class="docutils literal"><span class="pre">getEncryption()</span></tt> and <tt class="docutils literal"><span class="pre">setEncryption()</span></tt>
methods.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// Use the default AES encryption algorithm</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Encrypt</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;adapter&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;BlockCipher&#39;</span><span class="p">));</span>
<span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setKey</span><span class="p">(</span><span class="s1">&#39;encryption key&#39;</span><span class="p">);</span>
<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">getEncryption</span><span class="p">());</span>

<span class="c1">// Will print:</span>
<span class="c1">//array(4) {</span>
<span class="c1">//  [&quot;key_iteration&quot;]=&gt;</span>
<span class="c1">//  int(5000)</span>
<span class="c1">//  [&quot;algorithm&quot;]=&gt;</span>
<span class="c1">//  string(3) &quot;aes&quot;</span>
<span class="c1">//  [&quot;hash&quot;]=&gt;</span>
<span class="c1">//  string(6) &quot;sha256&quot;</span>
<span class="c1">//  [&quot;key&quot;]=&gt;</span>
<span class="c1">//  string(14) &quot;encryption key&quot;</span>
<span class="c1">//}</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <tt class="docutils literal"><span class="pre">BlockCipher</span></tt> adapter uses the <a class="reference external" href="http://php.net/mcrypt">Mcrypt</a> PHP extension by default. That means you will need to
install the <cite>Mcrypt</cite> module in your PHP environment.</p>
</div>
<p>If you don&#8217;t specify an initialization Vector (<cite>salt</cite> or <cite>iv</cite>), the BlockCipher will generate a random value
during each encryption. If you try to execute the following code the output will be always different (note
that even if the output is always different you can decrypt it using the same key).</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$key</span>  <span class="o">=</span> <span class="s1">&#39;encryption key&#39;</span><span class="p">;</span>
<span class="nv">$text</span> <span class="o">=</span> <span class="s1">&#39;message to encrypt&#39;</span><span class="p">;</span>

<span class="c1">// use the default adapter that is BlockCipher</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Zend\Filter\Encrypt</span><span class="p">();</span>
<span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setKey</span><span class="p">(</span><span class="s1">&#39;encryption key&#39;</span><span class="p">);</span>
<span class="k">for</span> <span class="p">(</span><span class="nv">$i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nv">$i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
   <span class="nb">printf</span><span class="p">(</span><span class="s2">&quot;%d) %s</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nv">$i</span><span class="p">,</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="nv">$text</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>If you want to obtain the same output you need to specify a fixed Vector, using the <cite>setVector()</cite> method.
This script will produce always the same encryption output.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// use the default adapter that is BlockCipher</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Zend\Filter\Encrypt</span><span class="p">();</span>
<span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setKey</span><span class="p">(</span><span class="s1">&#39;encryption key&#39;</span><span class="p">);</span>
<span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setVector</span><span class="p">(</span><span class="s1">&#39;12345678901234567890&#39;</span><span class="p">);</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">&quot;%s</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;message&#39;</span><span class="p">));</span>

<span class="c1">// output:</span>
<span class="c1">// 04636a6cb8276fad0787a2e187803b6557f77825d5ca6ed4392be702b9754bb3MTIzNDU2Nzg5MDEyMzQ1NgZ+zPwTGpV6gQqPKECinig=</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For a security reason it&#8217;s always better to use a different Vector on each encryption. We suggest to use the
<cite>setVector()</cite> method only if you really need it.</p>
</div>
<p class="rubric" id="zend-filter-set-encrypt-mcryptdecrypt">Decryption with BlockCipher</p>
<p>For decrypting content which was previously encrypted with <tt class="docutils literal"><span class="pre">BlockCipher</span></tt> you need to have the options with which the
encryption has been called.</p>
<p>If you used only the encryption key, you can just use it to decrypt the content. As soon as you have provided
all options decryption is as simple as encryption.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$content</span> <span class="o">=</span> <span class="s1">&#39;04636a6cb8276fad0787a2e187803b6557f77825d5ca6ed4392be702b9754bb3MTIzNDU2Nzg5MDEyMzQ1NgZ+zPwTGpV6gQqPKECinig=&#39;</span><span class="p">;</span>
<span class="c1">// use the default adapter that is BlockCipher</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Decrypt</span><span class="p">();</span>
<span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setKey</span><span class="p">(</span><span class="s1">&#39;encryption key&#39;</span><span class="p">);</span>
<span class="nb">printf</span><span class="p">(</span><span class="s2">&quot;Decrypt: %s</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="nv">$content</span><span class="p">));</span>

<span class="c1">// output:</span>
<span class="c1">// Decrypt: message</span>
</pre></div>
</td></tr></table></div>
<p>Note that even if we did not specify the same Vector, the <tt class="docutils literal"><span class="pre">BlockCipher</span></tt> is able to decrypt the message because
the Vector is stored in the encryption string itself (note that the Vector can be stored in plaintext, it is not a secret,
the Vector is only used to improve the randomness of the encryption algorithm).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You should also note that all settings which be checked when you create the instance or when you call
<tt class="docutils literal"><span class="pre">setEncryption()</span></tt>.</p>
</div>
<p class="rubric" id="zend-filter-set-encrypt-openssl">Encryption with OpenSSL</p>
<p>When you have installed the <tt class="docutils literal"><span class="pre">OpenSSL</span></tt> extension you can use the <tt class="docutils literal"><span class="pre">OpenSSL</span></tt> adapter. You can get or set the
public keys also afterwards with the <tt class="docutils literal"><span class="pre">getPublicKey()</span></tt> and <tt class="docutils literal"><span class="pre">setPublicKey()</span></tt> methods. The private key can also be
get and set with the related <tt class="docutils literal"><span class="pre">getPrivateKey()</span></tt> and <tt class="docutils literal"><span class="pre">setPrivateKey()</span></tt> methods.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// Use openssl and provide a private key</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Encrypt</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
   <span class="s1">&#39;adapter&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;openssl&#39;</span><span class="p">,</span>
   <span class="s1">&#39;private&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/path/to/mykey/private.pem&#39;</span>
<span class="p">));</span>

<span class="c1">// of course you can also give the public keys at initiation</span>
<span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setPublicKey</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
   <span class="s1">&#39;/public/key/path/first.pem&#39;</span><span class="p">,</span>
   <span class="s1">&#39;/public/key/path/second.pem&#39;</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that the <tt class="docutils literal"><span class="pre">OpenSSL</span></tt> adapter will not work when you do not provide valid keys.</p>
</div>
<p>When you want to encode also the keys, then you have to provide a passphrase with the <tt class="docutils literal"><span class="pre">setPassphrase()</span></tt> method.
When you want to decode content which was encoded with a passphrase you will not only need the public key, but also
the passphrase to decode the encrypted key.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// Use openssl and provide a private key</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Encrypt</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
   <span class="s1">&#39;adapter&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;openssl&#39;</span><span class="p">,</span>
   <span class="s1">&#39;private&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/path/to/mykey/private.pem&#39;</span>
<span class="p">));</span>

<span class="c1">// of course you can also give the public keys at initiation</span>
<span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setPublicKey</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
   <span class="s1">&#39;/public/key/path/first.pem&#39;</span><span class="p">,</span>
   <span class="s1">&#39;/public/key/path/second.pem&#39;</span>
<span class="p">));</span>
<span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setPassphrase</span><span class="p">(</span><span class="s1">&#39;mypassphrase&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>At last, when you use OpenSSL you need to give the receiver the encrypted content, the passphrase when have
provided one, and the envelope keys for decryption.</p>
<p>This means for you, that you have to get the envelope keys after the encryption with the <tt class="docutils literal"><span class="pre">getEnvelopeKey()</span></tt>
method.</p>
<p>So our complete example for encrypting content with <tt class="docutils literal"><span class="pre">OpenSSL</span></tt> look like this.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// Use openssl and provide a private key</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Encrypt</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
   <span class="s1">&#39;adapter&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;openssl&#39;</span><span class="p">,</span>
   <span class="s1">&#39;private&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/path/to/mykey/private.pem&#39;</span>
<span class="p">));</span>

<span class="c1">// of course you can also give the public keys at initiation</span>
<span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setPublicKey</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
   <span class="s1">&#39;/public/key/path/first.pem&#39;</span><span class="p">,</span>
   <span class="s1">&#39;/public/key/path/second.pem&#39;</span>
<span class="p">));</span>
<span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setPassphrase</span><span class="p">(</span><span class="s1">&#39;mypassphrase&#39;</span><span class="p">);</span>

<span class="nv">$encrypted</span> <span class="o">=</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;text_to_be_encoded&#39;</span><span class="p">);</span>
<span class="nv">$envelope</span>  <span class="o">=</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">getEnvelopeKey</span><span class="p">();</span>
<span class="k">print</span> <span class="nv">$encrypted</span><span class="p">;</span>

<span class="c1">// For decryption look at the Decrypt filter</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-filter-set-encrypt-openssl-simplified">Simplified usage with Openssl</p>
<p>As seen before, you need to get the envelope key to be able to decrypt the previous encrypted value. This can be
very annoying when you work with multiple values.</p>
<p>To have a simplified usage you can set the <tt class="docutils literal"><span class="pre">package</span></tt> option to <tt class="docutils literal"><span class="pre">TRUE</span></tt>. The default value is <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// Use openssl and provide a private key</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Encrypt</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
   <span class="s1">&#39;adapter&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;openssl&#39;</span><span class="p">,</span>
   <span class="s1">&#39;private&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/path/to/mykey/private.pem&#39;</span><span class="p">,</span>
   <span class="s1">&#39;public&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;/public/key/path/public.pem&#39;</span><span class="p">,</span>
   <span class="s1">&#39;package&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span>
<span class="p">));</span>

<span class="nv">$encrypted</span> <span class="o">=</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;text_to_be_encoded&#39;</span><span class="p">);</span>
<span class="k">print</span> <span class="nv">$encrypted</span><span class="p">;</span>

<span class="c1">// For decryption look at the Decrypt filter</span>
</pre></div>
</td></tr></table></div>
<p>Now the returned value contains the encrypted value and the envelope. You don&#8217;t need to get them after the
compression. But, and this is the negative aspect of this feature, the encrypted value can now only be decrypted by
using <tt class="docutils literal"><span class="pre">Zend\Filter\Encrypt</span></tt>.</p>
<p class="rubric" id="zend-filter-set-encrypt-openssl-compressed">Compressing Content</p>
<p>Based on the original value, the encrypted value can be a very large string. To reduce the value
<tt class="docutils literal"><span class="pre">Zend\Filter\Encrypt</span></tt> allows the usage of compression.</p>
<p>The <tt class="docutils literal"><span class="pre">compression</span></tt> option can eighter be set to the name of a compression adapter, or to an array which sets all
wished options for the compression adapter.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// Use basic compression adapter</span>
<span class="nv">$filter1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Encrypt</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
   <span class="s1">&#39;adapter&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;openssl&#39;</span><span class="p">,</span>
   <span class="s1">&#39;private&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;/path/to/mykey/private.pem&#39;</span><span class="p">,</span>
   <span class="s1">&#39;public&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;/public/key/path/public.pem&#39;</span><span class="p">,</span>
   <span class="s1">&#39;package&#39;</span>     <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
   <span class="s1">&#39;compression&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;bz2&#39;</span>
<span class="p">));</span>

<span class="c1">// Use basic compression adapter</span>
<span class="nv">$filter2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Encrypt</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
   <span class="s1">&#39;adapter&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;openssl&#39;</span><span class="p">,</span>
   <span class="s1">&#39;private&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;/path/to/mykey/private.pem&#39;</span><span class="p">,</span>
   <span class="s1">&#39;public&#39;</span>      <span class="o">=&gt;</span> <span class="s1">&#39;/public/key/path/public.pem&#39;</span><span class="p">,</span>
   <span class="s1">&#39;package&#39;</span>     <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
   <span class="s1">&#39;compression&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;adapter&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;zip&#39;</span><span class="p">,</span> <span class="s1">&#39;target&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;\usr\tmp\tmp.zip&#39;</span><span class="p">)</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Decryption with same settings</strong></p>
<p class="last">When you want to decrypt a value which is additionally compressed, then you need to set the same compression
settings for decryption as for encryption. Otherwise the decryption will fail.</p>
</div>
<p class="rubric" id="zend-filter-set-encrypt-openssldecrypt">Decryption with OpenSSL</p>
<p>Decryption with <tt class="docutils literal"><span class="pre">OpenSSL</span></tt> is as simple as encryption. But you need to have all data from the person who encrypted
the content. See the following example:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// Use openssl and provide a private key</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Decrypt</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
   <span class="s1">&#39;adapter&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;openssl&#39;</span><span class="p">,</span>
   <span class="s1">&#39;private&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/path/to/mykey/private.pem&#39;</span>
<span class="p">));</span>

<span class="c1">// of course you can also give the envelope keys at initiation</span>
<span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setEnvelopeKey</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
   <span class="s1">&#39;/key/from/encoder/first.pem&#39;</span><span class="p">,</span>
   <span class="s1">&#39;/key/from/encoder/second.pem&#39;</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that the <tt class="docutils literal"><span class="pre">OpenSSL</span></tt> adapter will not work when you do not provide valid keys.</p>
</div>
<p>Optionally it could be necessary to provide the passphrase for decrypting the keys themself by using the
<tt class="docutils literal"><span class="pre">setPassphrase()</span></tt> method.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// Use openssl and provide a private key</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Decrypt</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
   <span class="s1">&#39;adapter&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;openssl&#39;</span><span class="p">,</span>
   <span class="s1">&#39;private&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/path/to/mykey/private.pem&#39;</span>
<span class="p">));</span>

<span class="c1">// of course you can also give the envelope keys at initiation</span>
<span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setEnvelopeKey</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
   <span class="s1">&#39;/key/from/encoder/first.pem&#39;</span><span class="p">,</span>
   <span class="s1">&#39;/key/from/encoder/second.pem&#39;</span>
<span class="p">));</span>
<span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setPassphrase</span><span class="p">(</span><span class="s1">&#39;mypassphrase&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>At last, decode the content. Our complete example for decrypting the previously encrypted content looks like this.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// Use openssl and provide a private key</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Decrypt</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
   <span class="s1">&#39;adapter&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;openssl&#39;</span><span class="p">,</span>
   <span class="s1">&#39;private&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/path/to/mykey/private.pem&#39;</span>
<span class="p">));</span>

<span class="c1">// of course you can also give the envelope keys at initiation</span>
<span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setEnvelopeKey</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
   <span class="s1">&#39;/key/from/encoder/first.pem&#39;</span><span class="p">,</span>
   <span class="s1">&#39;/key/from/encoder/second.pem&#39;</span>
<span class="p">));</span>
<span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setPassphrase</span><span class="p">(</span><span class="s1">&#39;mypassphrase&#39;</span><span class="p">);</span>

<span class="nv">$decrypted</span> <span class="o">=</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;encoded_text_normally_unreadable&#39;</span><span class="p">);</span>
<span class="k">print</span> <span class="nv">$decrypted</span><span class="p">;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="htmlentities">
<span id="zend-filter-set-htmlentities"></span><h2>HtmlEntities<a class="headerlink" href="#htmlentities" title="Permalink to this headline">¶</a></h2>
<p>Returns the string <tt class="docutils literal"><span class="pre">$value</span></tt>, converting characters to their corresponding <em>HTML</em> entity equivalents where they
exist.</p>
<p class="rubric" id="zend-filter-set-htmlentities-options">Supported Options</p>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Filter\HtmlEntities</span></tt>:</p>
<ul>
<li><p class="first"><strong>quotestyle</strong>: Equivalent to the <em>PHP</em> htmlentities native function parameter <strong>quote_style</strong>. This allows you
to define what will be done with &#8216;single&#8217; and &#8220;double&#8221; quotes. The following constants are accepted:
<tt class="docutils literal"><span class="pre">ENT_COMPAT</span></tt>, <tt class="docutils literal"><span class="pre">ENT_QUOTES</span></tt> <tt class="docutils literal"><span class="pre">ENT_NOQUOTES</span></tt> with the default being <tt class="docutils literal"><span class="pre">ENT_COMPAT</span></tt>.</p>
</li>
<li><p class="first"><strong>charset</strong>: Equivalent to the <em>PHP</em> htmlentities native function parameter <strong>charset</strong>. This defines the
character set to be used in filtering. Unlike the <em>PHP</em> native function the default is &#8216;UTF-8&#8217;. See
&#8220;<a class="reference external" href="http://php.net/htmlentities">http://php.net/htmlentities</a>&#8221; for a list of supported character sets.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This option can also be set via the <tt class="docutils literal"><span class="pre">$options</span></tt> parameter as a Traversable object or array. The option
key will be accepted as either charset or encoding.</p>
</div>
</li>
<li><p class="first"><strong>doublequote</strong>: Equivalent to the <em>PHP</em> htmlentities native function parameter <strong>double_encode</strong>. If set to
false existing html entities will not be encoded. The default is to convert everything (true).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This option must be set via the <tt class="docutils literal"><span class="pre">$options</span></tt> parameter or the <tt class="docutils literal"><span class="pre">setDoubleEncode()</span></tt> method.</p>
</div>
</li>
</ul>
<p class="rubric" id="zend-filter-set-htmlentities-basic">Basic Usage</p>
<p>See the following example for the default behavior of this filter.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\HtmlEntities</span><span class="p">();</span>

<span class="k">print</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;&lt;&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-filter-set-htmlentities-quotestyle">Quote Style</p>
<p><tt class="docutils literal"><span class="pre">Zend\Filter\HtmlEntities</span></tt> allows changing the quote style used. This can be useful when you want to leave
double, single, or both types of quotes un-filtered. See the following example:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\HtmlEntities</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;quotestyle&#39;</span> <span class="o">=&gt;</span> <span class="nx">ENT_QUOTES</span><span class="p">));</span>

<span class="nv">$input</span>  <span class="o">=</span> <span class="s2">&quot;A &#39;single&#39; and &quot;</span> <span class="o">.</span> <span class="s1">&#39;&quot;double&quot;&#39;</span><span class="p">;</span>
<span class="k">print</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="nv">$input</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>The above example returns <strong>A &#8216;single&#8217; and &#8220;double&#8221;</strong>. Notice that &#8216;single&#8217; as well as &#8220;double&#8221; quotes are
filtered.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\HtmlEntities</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;quotestyle&#39;</span> <span class="o">=&gt;</span> <span class="nx">ENT_COMPAT</span><span class="p">));</span>

<span class="nv">$input</span>  <span class="o">=</span> <span class="s2">&quot;A &#39;single&#39; and &quot;</span> <span class="o">.</span> <span class="s1">&#39;&quot;double&quot;&#39;</span><span class="p">;</span>
<span class="k">print</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="nv">$input</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>The above example returns <strong>A &#8216;single&#8217; and &#8220;double&#8221;</strong>. Notice that &#8220;double&#8221; quotes are filtered while &#8216;single&#8217;
quotes are not altered.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\HtmlEntities</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;quotestyle&#39;</span> <span class="o">=&gt;</span> <span class="nx">ENT_NOQUOTES</span><span class="p">));</span>

<span class="nv">$input</span>  <span class="o">=</span> <span class="s2">&quot;A &#39;single&#39; and &quot;</span> <span class="o">.</span> <span class="s1">&#39;&quot;double&quot;&#39;</span><span class="p">;</span>
<span class="k">print</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="nv">$input</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>The above example returns <strong>A &#8216;single&#8217; and &#8220;double&#8221;</strong>. Notice that neither &#8220;double&#8221; or &#8216;single&#8217; quotes are altered.</p>
<p class="rubric" id="id1">Helper Methods</p>
<p>To change or retrieve the <tt class="docutils literal"><span class="pre">quotestyle</span></tt> after instantiation, the two methods <tt class="docutils literal"><span class="pre">setQuoteStyle()</span></tt> and
<tt class="docutils literal"><span class="pre">getQuoteStyle()</span></tt> may be used respectively. <tt class="docutils literal"><span class="pre">setQuoteStyle()</span></tt> accepts one parameter <tt class="docutils literal"><span class="pre">$quoteStyle</span></tt>. The
following constants are accepted: <tt class="docutils literal"><span class="pre">ENT_COMPAT</span></tt>, <tt class="docutils literal"><span class="pre">ENT_QUOTES</span></tt>, <tt class="docutils literal"><span class="pre">ENT_NOQUOTES</span></tt></p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\HtmlEntities</span><span class="p">();</span>

<span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setQuoteStyle</span><span class="p">(</span><span class="nx">ENT_QUOTES</span><span class="p">);</span>
<span class="k">print</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">getQuoteStyle</span><span class="p">(</span><span class="nx">ENT_QUOTES</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>To change or retrieve the <tt class="docutils literal"><span class="pre">charset</span></tt> after instantiation, the two methods <tt class="docutils literal"><span class="pre">setCharSet()</span></tt> and <tt class="docutils literal"><span class="pre">getCharSet()</span></tt>
may be used respectively. <tt class="docutils literal"><span class="pre">setCharSet()</span></tt> accepts one parameter <tt class="docutils literal"><span class="pre">$charSet</span></tt>. See &#8220;<a class="reference external" href="http://php.net/htmlentities">http://php.net/htmlentities</a>&#8221;
for a list of supported character sets.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\HtmlEntities</span><span class="p">();</span>

<span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setQuoteStyle</span><span class="p">(</span><span class="nx">ENT_QUOTES</span><span class="p">);</span>
<span class="k">print</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">getQuoteStyle</span><span class="p">(</span><span class="nx">ENT_QUOTES</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>To change or retrieve the <tt class="docutils literal"><span class="pre">doublequote</span></tt> option after instantiation, the two methods <tt class="docutils literal"><span class="pre">setDoubleQuote()</span></tt> and
<tt class="docutils literal"><span class="pre">getDoubleQuote()</span></tt> may be used respectively. <tt class="docutils literal"><span class="pre">setDoubleQuote()</span></tt> accepts one boolean parameter <tt class="docutils literal"><span class="pre">$doubleQuote</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\HtmlEntities</span><span class="p">();</span>

<span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setQuoteStyle</span><span class="p">(</span><span class="nx">ENT_QUOTES</span><span class="p">);</span>
<span class="k">print</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">getQuoteStyle</span><span class="p">(</span><span class="nx">ENT_QUOTES</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="int">
<span id="zend-filter-set-int"></span><h2>Int<a class="headerlink" href="#int" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">Zend\Filter\Int</span></tt> allows you to transform a sclar value which contains into an integer.</p>
<p class="rubric" id="zend-filter-set-int-options">Supported Options</p>
<p>There are no additional options for <tt class="docutils literal"><span class="pre">Zend\Filter\Int</span></tt>.</p>
<p class="rubric" id="zend-filter-set-int-basic">Basic Usage</p>
<p>A basic example of usage is below:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Int</span><span class="p">();</span>

<span class="k">print</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;-4 is less than 0&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>This will return &#8216;-4&#8217;.</p>
</div>
<div class="section" id="null">
<span id="zend-filter-set-null"></span><h2>Null<a class="headerlink" href="#null" title="Permalink to this headline">¶</a></h2>
<p>This filter will change the given input to be <tt class="docutils literal"><span class="pre">NULL</span></tt> if it meets specific criteria. This is often necessary when
you work with databases and want to have a <tt class="docutils literal"><span class="pre">NULL</span></tt> value instead of a boolean or any other type.</p>
<p class="rubric" id="zend-filter-set-null-options">Supported Options</p>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Filter\Null</span></tt>:</p>
<ul class="simple">
<li><strong>type</strong>: The variable type which should be supported.</li>
</ul>
<p class="rubric" id="zend-filter-set-null-default">Default Behavior</p>
<p>Per default this filter works like <em>PHP</em>&#8216;s <tt class="docutils literal"><span class="pre">empty()</span></tt> method; in other words, if <tt class="docutils literal"><span class="pre">empty()</span></tt> returns a boolean
<tt class="docutils literal"><span class="pre">TRUE</span></tt>, then a <tt class="docutils literal"><span class="pre">NULL</span></tt> value will be returned.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Null</span><span class="p">();</span>
<span class="nv">$value</span>  <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="nv">$value</span><span class="p">);</span>
<span class="c1">// returns null instead of the empty string</span>
</pre></div>
</td></tr></table></div>
<p>This means that without providing any configuration, <tt class="docutils literal"><span class="pre">Zend\Filter\Null</span></tt> will accept all input types and return
<tt class="docutils literal"><span class="pre">NULL</span></tt> in the same cases as <tt class="docutils literal"><span class="pre">empty()</span></tt>.</p>
<p>Any other value will be returned as is, without any changes.</p>
<p class="rubric" id="zend-filter-set-null-types">Changing the Default Behavior</p>
<p>Sometimes it&#8217;s not enough to filter based on <tt class="docutils literal"><span class="pre">empty()</span></tt>. Therefor <tt class="docutils literal"><span class="pre">Zend\Filter\Null</span></tt> allows you to configure
which type will be converted and which not.</p>
<p>The following types can be handled:</p>
<ul class="simple">
<li><strong>boolean</strong>: Converts a boolean <strong>FALSE</strong> value to <tt class="docutils literal"><span class="pre">NULL</span></tt>.</li>
<li><strong>integer</strong>: Converts an integer <strong>0</strong> value to <tt class="docutils literal"><span class="pre">NULL</span></tt>.</li>
<li><strong>empty_array</strong>: Converts an empty <strong>array</strong> to <tt class="docutils literal"><span class="pre">NULL</span></tt>.</li>
<li><strong>float</strong>: Converts an float <strong>0.0</strong> value to <tt class="docutils literal"><span class="pre">NULL</span></tt>.</li>
<li><strong>string</strong>: Converts an empty string <strong>&#8216;&#8217;</strong> to <tt class="docutils literal"><span class="pre">NULL</span></tt>.</li>
<li><strong>zero</strong>: Converts a string containing the single character zero (<strong>&#8216;0&#8217;</strong>) to <tt class="docutils literal"><span class="pre">NULL</span></tt>.</li>
<li><strong>all</strong>: Converts all above types to <tt class="docutils literal"><span class="pre">NULL</span></tt>. (This is the default behavior.)</li>
</ul>
<p>There are several ways to select which of the above types are filtered. You can give one or multiple types and add
them, you can give an array, you can use constants, or you can give a textual string. See the following examples:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// converts false to null</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Null</span><span class="p">(</span><span class="nx">Zend\Filter\Null</span><span class="o">::</span><span class="na">BOOLEAN</span><span class="p">);</span>

<span class="c1">// converts false and 0 to null</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Null</span><span class="p">(</span>
    <span class="nx">Zend\Filter\Null</span><span class="o">::</span><span class="na">BOOLEAN</span> <span class="o">+</span> <span class="nx">Zend\Filter\Null</span><span class="o">::</span><span class="na">INTEGER</span>
<span class="p">);</span>

<span class="c1">// converts false and 0 to null</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Null</span><span class="p">(</span> <span class="k">array</span><span class="p">(</span>
    <span class="nx">Zend\Filter\Null</span><span class="o">::</span><span class="na">BOOLEAN</span><span class="p">,</span>
    <span class="nx">Zend\Filter\Null</span><span class="o">::</span><span class="na">INTEGER</span>
<span class="p">));</span>

<span class="c1">// converts false and 0 to null</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\Null</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;boolean&#39;</span><span class="p">,</span>
    <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div>
<p>You can also give a Traversable or an array to set the wished types. To set types afterwards use
<tt class="docutils literal"><span class="pre">setType()</span></tt>.</p>
</div>
<div class="section" id="numberformat">
<span id="zend-i18n-filter-number-format"></span><h2>NumberFormat<a class="headerlink" href="#numberformat" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">NumberFormat</span></tt> filter can be used to return locale-specific number and percentage strings. It acts as a
wrapper for the <tt class="docutils literal"><span class="pre">NumberFormatter</span></tt> class within the Internationalization extension (Intl).</p>
<p class="rubric" id="zend-i18n-filter-number-format-options">Supported Options for NumberFormat Filter</p>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">NumberFormat</span></tt>:</p>
<p><tt class="docutils literal"><span class="pre">NumberFormat([</span> <span class="pre">string</span> <span class="pre">$locale</span> <span class="pre">[,</span> <span class="pre">int</span> <span class="pre">$style</span> <span class="pre">[,</span> <span class="pre">int</span> <span class="pre">$type</span> <span class="pre">]]])</span></tt></p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">$locale</span></tt>: (Optional) Locale in which the number would be formatted (locale name, e.g. en_US). If unset, it
will use the default locale (<tt class="docutils literal"><span class="pre">Locale::getDefault()</span></tt>)</p>
<p>Methods for getting/setting the locale are also available: <tt class="docutils literal"><span class="pre">getLocale()</span></tt> and <tt class="docutils literal"><span class="pre">setLocale()</span></tt></p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$style</span></tt>: (Optional) Style of the formatting, one of the <a class="reference external" href="http://us.php.net/manual/en/class.numberformatter.php#intl.numberformatter-constants.unumberformatstyle">format style constants</a>. If unset, it will use
<tt class="docutils literal"><span class="pre">NumberFormatter::DEFAULT_STYLE</span></tt> as the default style.</p>
<p>Methods for getting/setting the format style are also available: <tt class="docutils literal"><span class="pre">getStyle()</span></tt> and <tt class="docutils literal"><span class="pre">setStyle()</span></tt></p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">$type</span></tt>: (Optional) The <a class="reference external" href="http://us.php.net/manual/en/class.numberformatter.php#intl.numberformatter-constants.types">formatting type</a> to use. If unset, it will use <tt class="docutils literal"><span class="pre">NumberFormatter::TYPE_DOUBLE</span></tt> as
the default type.</p>
<p>Methods for getting/setting the format type are also available: <tt class="docutils literal"><span class="pre">getType()</span></tt> and <tt class="docutils literal"><span class="pre">setType()</span></tt></p>
</li>
</ul>
<p class="rubric" id="zend-i18n-filter-number-format-usage">NumberFormat Filter Usage</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Zend\I18n\Filter\NumberFormat</span><span class="p">(</span><span class="s2">&quot;de_DE&quot;</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="mf">1234567.8912346</span><span class="p">);</span>
<span class="c1">// Returns &quot;1.234.567,891&quot;</span>

<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Zend\I18n\Filter\NumberFormat</span><span class="p">(</span><span class="s2">&quot;en_US&quot;</span><span class="p">,</span> <span class="nx">NumberFormatter</span><span class="o">::</span><span class="na">PERCENT</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="mf">0.80</span><span class="p">);</span>
<span class="c1">// Returns &quot;80%&quot;</span>

<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Zend\I18n\Filter\NumberFormat</span><span class="p">(</span><span class="s2">&quot;fr_FR&quot;</span><span class="p">,</span> <span class="nx">NumberFormatter</span><span class="o">::</span><span class="na">SCIENTIFIC</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="mf">0.00123456789</span><span class="p">);</span>
<span class="c1">// Returns &quot;1,23456789E-3&quot;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="pregreplace">
<span id="zend-filter-set-pregreplace"></span><h2>PregReplace<a class="headerlink" href="#pregreplace" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">Zend\Filter\PregReplace</span></tt> performs a search using regular expressions and replaces all found elements.</p>
<p class="rubric" id="zend-filter-set-pregreplace-options">Supported Options</p>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Filter\PregReplace</span></tt>:</p>
<ul class="simple">
<li><strong>pattern</strong>: The pattern which will be searched for.</li>
<li><strong>replacement</strong>: The string which is used as replacement for the matches.</li>
</ul>
<p class="rubric" id="zend-filter-set-pregreplace-basic">Basic Usage</p>
<p>To use this filter properly you must give two options:</p>
<p>The option <tt class="docutils literal"><span class="pre">pattern</span></tt> has to be given to set the pattern which will be searched for. It can be a string for a single
pattern, or an array of strings for multiple pattern.</p>
<p>To set the pattern which will be used as replacement the option <tt class="docutils literal"><span class="pre">replacement</span></tt> has to be used. It can be a string for
a single pattern, or an array of strings for multiple pattern.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\PregReplace</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;pattern&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;/bob/&#39;</span><span class="p">,</span>
    <span class="s1">&#39;replacement&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;john&#39;</span><span class="p">,</span>
<span class="p">));</span>
<span class="nv">$input</span>  <span class="o">=</span> <span class="s1">&#39;Hy bob!&quot;;</span>

<span class="s1">$filter-&gt;filter($input);</span>
<span class="s1">// returns &#39;</span><span class="nx">Hy</span> <span class="nx">john</span><span class="o">!</span><span class="err">&#39;</span>
</pre></div>
</td></tr></table></div>
<p>You can use <tt class="docutils literal"><span class="pre">getPattern()</span></tt> and <tt class="docutils literal"><span class="pre">setPattern()</span></tt> to set the matching pattern afterwards. To set the
replacement pattern you can use <tt class="docutils literal"><span class="pre">getReplacement()</span></tt> and <tt class="docutils literal"><span class="pre">setReplacement()</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\PregReplace</span><span class="p">();</span>
<span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setMatchPattern</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;bob&#39;</span><span class="p">,</span> <span class="s1">&#39;Hy&#39;</span><span class="p">))</span>
      <span class="o">-&gt;</span><span class="na">setReplacement</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;john&#39;</span><span class="p">,</span> <span class="s1">&#39;Bye&#39;</span><span class="p">));</span>
<span class="nv">$input</span>  <span class="o">=</span> <span class="s1">&#39;Hy bob!&quot;;</span>

<span class="s1">$filter-&gt;filter($input);</span>
<span class="s1">// returns &#39;</span><span class="nx">Bye</span> <span class="nx">john</span><span class="o">!</span><span class="err">&#39;</span>
</pre></div>
</td></tr></table></div>
<p>For a more complex usage take a look into <em>PHP</em>&#8216;s <a class="reference external" href="http://www.php.net/manual/en/reference.pcre.pattern.modifiers.php">PCRE Pattern Chapter</a>.</p>
</div>
<div class="section" id="realpath">
<span id="zend-filter-set-realpath"></span><h2>RealPath<a class="headerlink" href="#realpath" title="Permalink to this headline">¶</a></h2>
<p>This filter will resolve given links and pathnames and returns canonicalized absolute pathnames.</p>
<p class="rubric" id="zend-filter-set-realpath-options">Supported Options</p>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Filter\RealPath</span></tt>:</p>
<ul class="simple">
<li><strong>exists</strong>: This option defaults to <tt class="docutils literal"><span class="pre">TRUE</span></tt> which checks if the given path really exists.</li>
</ul>
<p class="rubric" id="zend-filter-set-realpath-basic">Basic Usage</p>
<p>For any given link of pathname its absolute path will be returned. References to &#8216;<tt class="docutils literal"><span class="pre">/./</span></tt>&#8216;, &#8216;<tt class="docutils literal"><span class="pre">/../</span></tt>&#8216; and extra
&#8216;<tt class="docutils literal"><span class="pre">/</span></tt>&#8216; characters in the input path will be stripped. The resulting path will not have any symbolic link,
&#8216;<tt class="docutils literal"><span class="pre">/./</span></tt>&#8216; or &#8216;<tt class="docutils literal"><span class="pre">/../</span></tt>&#8216; character.</p>
<p><tt class="docutils literal"><span class="pre">Zend\Filter\RealPath</span></tt> will return <tt class="docutils literal"><span class="pre">FALSE</span></tt> on failure, e.g. if the file does not exist. On <em>BSD</em> systems
<tt class="docutils literal"><span class="pre">Zend\Filter\RealPath</span></tt> doesn&#8217;t fail if only the last path component doesn&#8217;t exist, while other systems will
return <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\RealPath</span><span class="p">();</span>
<span class="nv">$path</span>   <span class="o">=</span> <span class="s1">&#39;/www/var/path/../../mypath&#39;</span><span class="p">;</span>
<span class="nv">$filtered</span> <span class="o">=</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="nv">$path</span><span class="p">);</span>

<span class="c1">// returns &#39;/www/mypath&#39;</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-filter-set-realpath-exists">Non-Existing Paths</p>
<p>Sometimes it is useful to get also paths when they don&#8217;t exist, f.e. when you want to get the real path for a path
which you want to create. You can then either give a <tt class="docutils literal"><span class="pre">FALSE</span></tt> at initiation, or use <tt class="docutils literal"><span class="pre">setExists()</span></tt> to set it.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\RealPath</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>
<span class="nv">$path</span>   <span class="o">=</span> <span class="s1">&#39;/www/var/path/../../non/existing/path&#39;</span><span class="p">;</span>
<span class="nv">$filtered</span> <span class="o">=</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="nv">$path</span><span class="p">);</span>

<span class="c1">// returns &#39;/www/non/existing/path&#39;</span>
<span class="c1">// even when file_exists or realpath would return false</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="stringtolower">
<span id="zend-filter-set-stringtolower"></span><h2>StringToLower<a class="headerlink" href="#stringtolower" title="Permalink to this headline">¶</a></h2>
<p>This filter converts any input to be lowercased.</p>
<p class="rubric" id="zend-filter-set-stringtolower-options">Supported Options</p>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Filter\StringToLower</span></tt>:</p>
<ul class="simple">
<li><strong>encoding</strong>: This option can be used to set an encoding which has to be used.</li>
</ul>
<p class="rubric" id="zend-filter-set-stringtolower-basic">Basic Usage</p>
<p>This is a basic example:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\StringToLower</span><span class="p">();</span>

<span class="k">print</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;SAMPLE&#39;</span><span class="p">);</span>
<span class="c1">// returns &quot;sample&quot;</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-filter-set-stringtolower-encoding">Different Encoded Strings</p>
<p>Per default it will only handle characters from the actual locale of your server. Characters from other charsets
would be ignored. Still, it&#8217;s possible to also lowercase them when the mbstring extension is available in your
environment. Simply set the wished encoding when initiating the <tt class="docutils literal"><span class="pre">StringToLower</span></tt> filter. Or use the
<tt class="docutils literal"><span class="pre">setEncoding()</span></tt> method to change the encoding afterwards.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// using UTF-8</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\StringToLower</span><span class="p">(</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">);</span>

<span class="c1">// or give an array which can be useful when using a configuration</span>
<span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\StringToLower</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;encoding&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;UTF-8&#39;</span><span class="p">));</span>

<span class="c1">// or do this afterwards</span>
<span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setEncoding</span><span class="p">(</span><span class="s1">&#39;ISO-8859-1&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Setting wrong encodings</strong></p>
<p>Be aware that you will get an exception when you want to set an encoding and the mbstring extension is not
available in your environment.</p>
<p class="last">Also when you are trying to set an encoding which is not supported by your mbstring extension you will get an
exception.</p>
</div>
</div>
<div class="section" id="stringtoupper">
<span id="zend-filter-set-stringtoupper"></span><h2>StringToUpper<a class="headerlink" href="#stringtoupper" title="Permalink to this headline">¶</a></h2>
<p>This filter converts any input to be uppercased.</p>
<p class="rubric" id="zend-filter-set-stringtoupper-options">Supported Options</p>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Filter\StringToUpper</span></tt>:</p>
<ul class="simple">
<li><strong>encoding</strong>: This option can be used to set an encoding which has to be used.</li>
</ul>
<p class="rubric" id="zend-filter-set-stringtoupper-basic">Basic Usage</p>
<p>This is a basic example for using the <tt class="docutils literal"><span class="pre">StringToUpper</span></tt> filter:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\StringToUpper</span><span class="p">();</span>

<span class="k">print</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;Sample&#39;</span><span class="p">);</span>
<span class="c1">// returns &quot;SAMPLE&quot;</span>
</pre></div>
</td></tr></table></div>
<p class="rubric" id="zend-filter-set-stringtoupper-encoding">Different Encoded Strings</p>
<p>Like the <tt class="docutils literal"><span class="pre">StringToLower</span></tt> filter, this filter handles only characters from the actual locale of your server. Using
different character sets works the same as with <tt class="docutils literal"><span class="pre">StringToLower</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\StringToUpper</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;encoding&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;UTF-8&#39;</span><span class="p">));</span>

<span class="c1">// or do this afterwards</span>
<span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">setEncoding</span><span class="p">(</span><span class="s1">&#39;ISO-8859-1&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="stringtrim">
<span id="zend-filter-set-stringtrim"></span><h2>StringTrim<a class="headerlink" href="#stringtrim" title="Permalink to this headline">¶</a></h2>
<p>This filter modifies a given string such that certain characters are removed from the beginning and end.</p>
<p class="rubric" id="zend-filter-set-stringtrim-options">Supported Options</p>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Filter\StringTrim</span></tt>:</p>
<ul class="simple">
<li><strong>charlist</strong>: List of characters to remove from the beginning and end of the string. If this is not set or is
null, the default behavior will be invoked, which is to remove only whitespace from the beginning and end of the
string.</li>
</ul>
<p class="rubric" id="zend-filter-set-stringtrim-basic">Basic Usage</p>
<p>A basic example of usage is below:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\StringTrim</span><span class="p">();</span>

<span class="k">print</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39; This is (my) content: &#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>The above example returns &#8216;This is (my) content:&#8217;. Notice that the whitespace characters have been removed.</p>
<p class="rubric" id="zend-filter-set-stringtrim-types">Default Behavior</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\StringTrim</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">);</span>
<span class="c1">// or new Zend\Filter\StringTrim(array(&#39;charlist&#39; =&gt; &#39;:&#39;));</span>

<span class="k">print</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39; This is (my) content:&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>The above example returns &#8216;This is (my) content&#8217;. Notice that the whitespace characters and colon are removed. You
can also provide a Traversable or an array with a &#8216;charlist&#8217; key. To set the desired character list after
instantiation, use the <tt class="docutils literal"><span class="pre">setCharList()</span></tt> method. The <tt class="docutils literal"><span class="pre">getCharList()</span></tt> return the values set for charlist.</p>
</div>
<div class="section" id="stripnewlines">
<span id="zend-filter-set-stripnewlines"></span><h2>StripNewLines<a class="headerlink" href="#stripnewlines" title="Permalink to this headline">¶</a></h2>
<p>This filter modifies a given string and removes all new line characters within that string.</p>
<p class="rubric" id="zend-filter-set-stripnewlines-options">Supported Options</p>
<p>There are no additional options for <tt class="docutils literal"><span class="pre">Zend\Filter\StripNewLines</span></tt>:</p>
<p class="rubric" id="zend-filter-set-stripnewlines-basic">Basic Usage</p>
<p>A basic example of usage is below:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\StripNewLines</span><span class="p">();</span>

<span class="k">print</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39; This is (my)``\n\r``content: &#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>The above example returns &#8216;This is (my) content:&#8217;. Notice that all newline characters have been removed.</p>
</div>
<div class="section" id="striptags">
<span id="zend-filter-set-striptags"></span><h2>StripTags<a class="headerlink" href="#striptags" title="Permalink to this headline">¶</a></h2>
<p>This filter can strip XML and HTML tags from given content.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Be warned that Zend\Filter\StripTags should only be used to strip all available tags.</p>
<p>Using Zend\Filter\StripTags to make your site secure by stripping some unwanted tags will lead
to unsecure and dangerous code.</p>
<p class="last">Zend\Filter\StripTags must not be used to prevent XSS attacks. This filter is no replacement for
using Tidy or HtmlPurifier.</p>
</div>
<p class="rubric" id="zend-filter-set-striptags-options">Supported Options</p>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Filter\StripTags</span></tt>:</p>
<ul class="simple">
<li><strong>allowAttribs</strong>: This option sets the attributes which are accepted. All other attributes are</li>
</ul>
<p>stripped from the given content.</p>
<ul class="simple">
<li><strong>allowTags</strong>: This option sets the tags which are accepted. All other tags will be stripped</li>
</ul>
<p>from the given content.</p>
<p class="rubric" id="zend-filter-set-striptags-basic">Basic Usage</p>
<p>See the following example for the default behaviour of this filter:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\StripTags</span><span class="p">();</span>

<span class="k">print</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;&lt;B&gt;My content&lt;/B&gt;&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>As result you will get the stripped content &#8216;My content&#8217;.</p>
<p>When the content contains broken or partitial tags then the complete following content will be erased.
See the following example:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\StripTags</span><span class="p">();</span>

<span class="k">print</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="s1">&#39;This contains &lt;a href=&quot;http://example.com&quot;&gt;no ending tag&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>The above will return &#8216;This contains&#8217; with the rest being stripped.</p>
<p class="rubric" id="zend-filter-set-striptags-allowtags">Allowing Defined Tags</p>
<p><tt class="docutils literal"><span class="pre">Zend\Filter\StripTags</span></tt> allows stripping of all but defined tags. This can be used for example to
strip all tags but links from a text.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\StripTags</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;allowTags&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;a&#39;</span><span class="p">));</span>

<span class="nv">$input</span>  <span class="o">=</span> <span class="s2">&quot;A text with &lt;br/&gt; a &lt;a href=&#39;link.com&#39;&gt;link&lt;/a&gt;&quot;</span><span class="p">;</span>
<span class="k">print</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="nv">$input</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>The above will return &#8216;A text with a &lt;a href=&#8217;link.com&#8217;&gt;link&lt;/a&gt;&#8217; as result. It strips all tags but
the link. By providing an array you can set multiple tags at once.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Do not use this feature to get a probably secure content. This component does not replace the use
of a proper configured html filter.</p>
</div>
<p class="rubric" id="zend-filter-set-striptags-allowattributes">Allowing Defined Attributes</p>
<p>It is also possible to strip all but allowed attributes from a tag.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$filter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Filter\StripTags</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;allowAttribs&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;src&#39;</span><span class="p">));</span>

<span class="nv">$input</span>  <span class="o">=</span> <span class="s2">&quot;A text with &lt;br/&gt; a &lt;img src=&#39;picture.com&#39; width=&#39;100&#39;&gt;picture&lt;/img&gt;&quot;</span><span class="p">;</span>
<span class="k">print</span> <span class="nv">$filter</span><span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="nv">$input</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>The above will return &#8216;A text with a &lt;img src=&#8217;picture.com&#8217;&gt;picture&lt;/img&gt;&#8217; as result. It strips all
tags but img. Additionally from the img tag all attributes but src will be stripped. By providing an
array you can set multiple attributes at once.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/zf2_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Standard Filter Classes</a><ul>
<li><a class="reference internal" href="#alnum">Alnum</a></li>
<li><a class="reference internal" href="#alpha">Alpha</a></li>
<li><a class="reference internal" href="#basename">BaseName</a></li>
<li><a class="reference internal" href="#boolean">Boolean</a></li>
<li><a class="reference internal" href="#callback">Callback</a></li>
<li><a class="reference internal" href="#compress-and-decompress">Compress and Decompress</a></li>
<li><a class="reference internal" href="#digits">Digits</a></li>
<li><a class="reference internal" href="#dir">Dir</a></li>
<li><a class="reference internal" href="#encrypt-and-decrypt">Encrypt and Decrypt</a></li>
<li><a class="reference internal" href="#htmlentities">HtmlEntities</a></li>
<li><a class="reference internal" href="#int">Int</a></li>
<li><a class="reference internal" href="#null">Null</a></li>
<li><a class="reference internal" href="#numberformat">NumberFormat</a></li>
<li><a class="reference internal" href="#pregreplace">PregReplace</a></li>
<li><a class="reference internal" href="#realpath">RealPath</a></li>
<li><a class="reference internal" href="#stringtolower">StringToLower</a></li>
<li><a class="reference internal" href="#stringtoupper">StringToUpper</a></li>
<li><a class="reference internal" href="#stringtrim">StringTrim</a></li>
<li><a class="reference internal" href="#stripnewlines">StripNewLines</a></li>
<li><a class="reference internal" href="#striptags">StripTags</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="zend.filter.html"
                        title="previous chapter">Introduction</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="zend.filter.word.html"
                        title="next chapter">Word Filters</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li>
        <!--<a href="../_sources/modules/zend.filter.set.txt"-->
        <a href="https://github.com/zendframework/zf2-documentation/blob/master/docs/languages/en/modules/zend.filter.set.rst"
           rel="nofollow">Show Source</a></li>
    <li><a href="https://github.com/zendframework/zf2-documentation/edit/master/docs/languages/en/modules/zend.filter.set.rst"
           rel="nofollow">Edit Source</a>
    </li>
  </ul>
        <p style="font-size: 12px">
            Note: You need to stay logged into your <a href="http://www.github.com">GitHub account</a> to contribute to the documentation.
        </p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="zend.filter.word.html" title="Word Filters"
             >next</a> |</li>
        <li class="right" >
          <a href="zend.filter.html" title="Introduction"
             >previous</a> |</li>
        <li><a href="../index.html">Zend Framework 2 2.1.1 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2012, Zend Technologies Ltd..
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
<div id="edit-button">
    <img src="../_static/edit.gif" alt="Edit this document" title="Edit this document" onclick="javascript:$('#editor-trap').toggle();">
</div>
     
<div id="editor-trap">
    <h3>Edit this document</h3>

    <p>
        The source code of this file is hosted on GitHub. Everyone can
        update and fix errors in this document with few clicks -
        no downloads needed.
    <p>

    <ol>

        <li>
            Login with your <a href="http://www.github.com">GitHub</a> account.
        </li>

        <li>
            Go to
            <a href="https://github.com/zendframework/zf2-documentation/edit/master/docs/languages/en/modules/zend.filter.set.rst">
                Standard Filter Classes
            </a> on GitHub.
        </li>

        <li>
            Edit file contents using GitHub's text editor in your web browser
        </li>

        <li>
            Fill in the <b>Commit message</b> text box at the end of the page telling <i>why</i>
            you did the changes. Press <b>Propose file change</b> button next to it when done.
        </li>


        <li>
            On <i>Send a pull request</i> page you don't need to fill in text anymore. Just
            press <b>Send pull request</b> button.
        </li>

        <li>
            Your changes are now queued for review under project's <a href="https://github.com/zendframework/zf2-documentation/pulls">Pull requests</a> tab on GitHub.
        </li>
    </ol>

</div>


  </body>
</html>