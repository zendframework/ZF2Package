

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Standard Validation Classes &mdash; Zend Framework 2 2.1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Zend Framework 2 2.1.0 documentation" href="../index.html" />
    <link rel="next" title="File Validation Classes" href="zend.validator.file.html" />
    <link rel="prev" title="Introduction" href="zend.validator.html" />
<style type="text/css">
    /* Styles for floating Edit on GitHub box */
    #editor-trap {
        padding: 1em;
        border: 1px solid white;
        width: 250px;

        display: none;
        color: white;
        background: #3f454b;
        position: fixed;
        bottom: 5px;
        left: 175px;
        font-size: 85%;
        text-align: left;
        z-index: 2;

        box-shadow: 0 4px 6px #333;
        -moz-box-shadow: 0 4px 6px #333;
        -webkit-box-shadow: 0 4px 6px #333;
        
        cursor: pointer;
    }

    #editor-trap h3 {
        margin: 0 0 0.5em 0;
        padding: 0;
    }

    #editor-trap h3 > span {
        padding: 0 6px;
        border: solid white;
        border-width: 0 1px 4px 1px;
        font-size: 10px;
    }

    #editor-trap a {
        color: #98DBCC;
    }

    #editor-trap ol {
        margin: 0;
        padding: 0 0 0 2em;
    }

    /* Hide trick */
    #editor-trap.toggled > * {
        display: none;
    }


    #editor-trap.toggled > h3 {
        display: block;
    }

    #editor-trap.toggled > h3 > span {
        border-width: 6px 1px 0 1px;
    }
    
    #edit-button {
        position: fixed;
        bottom: 5px;
        left: 5px;
        z-index: 2;
        width: 162px;
        height: 42px;
    }
</style>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="zend.validator.file.html" title="File Validation Classes"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="zend.validator.html" title="Introduction"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Zend Framework 2 2.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="standard-validation-classes">
<span id="zend-validator-set"></span><h1>Standard Validation Classes<a class="headerlink" href="#standard-validation-classes" title="Permalink to this headline">¶</a></h1>
<p>Zend Framework comes with a standard set of validation classes, which are ready for you to use.</p>
</div>
<div class="section" id="alnum">
<span id="zend-validator-set-alnum"></span><h1>Alnum<a class="headerlink" href="#alnum" title="Permalink to this headline">¶</a></h1>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\Alnum</span></tt> allows you to validate if a given value contains only alphabetical characters and digits.
There is no length limitation for the input you want to validate.</p>
<div class="section" id="supported-options-for-zend-validator-alnum">
<span id="zend-validator-set-alnum-options"></span><h2>Supported options for Zend\Validator\Alnum<a class="headerlink" href="#supported-options-for-zend-validator-alnum" title="Permalink to this headline">¶</a></h2>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Validator\Alnum</span></tt>:</p>
<ul class="simple">
<li><strong>allowWhiteSpace</strong>: If whitespace characters are allowed. This option defaults to <tt class="docutils literal"><span class="pre">FALSE</span></tt></li>
</ul>
</div>
<div class="section" id="basic-usage">
<span id="zend-validator-set-alnum-basic"></span><h2>Basic usage<a class="headerlink" href="#basic-usage" title="Permalink to this headline">¶</a></h2>
<p>A basic example is the following one:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Alnum</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;Abcd12&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// value contains only allowed chars</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// false</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="using-whitespaces">
<span id="zend-validator-set-alnum-whitespace"></span><h2>Using whitespaces<a class="headerlink" href="#using-whitespaces" title="Permalink to this headline">¶</a></h2>
<p>Per default whitespaces are not accepted because they are not part of the alphabet. Still, there is a way to accept
them as input. This allows to validate complete sentences or phrases.</p>
<p>To allow the usage of whitespaces you need to give the <tt class="docutils literal"><span class="pre">allowWhiteSpace</span></tt> option. This can be done while creating
an instance of the validator, or afterwards by using <tt class="docutils literal"><span class="pre">setAllowWhiteSpace()</span></tt>. To get the actual state you can use
<tt class="docutils literal"><span class="pre">getAllowWhiteSpace()</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Alnum</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;allowWhiteSpace&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">));</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;Abcd and 12&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// value contains only allowed chars</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// false</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="using-different-languages">
<span id="zend-validator-set-alnum-languages"></span><h2>Using different languages<a class="headerlink" href="#using-different-languages" title="Permalink to this headline">¶</a></h2>
<p>When using <tt class="docutils literal"><span class="pre">Zend\Validator\Alnum</span></tt> then the language which the user sets within his browser will be used to set
the allowed characters. This means when your user sets <strong>de</strong> for german then he can also enter characters like
<strong>ä</strong>, <strong>ö</strong> and <strong>ü</strong> additionally to the characters from the english alphabet.</p>
<p>Which characters are allowed depends completely on the used language as every language defines it&#8217;s own set of
characters.</p>
<p>There are actually 3 languages which are not accepted in their own script. These languages are <strong>korean</strong>,
<strong>japanese</strong> and <strong>chinese</strong> because this languages are using an alphabet where a single character is build by
using multiple characters.</p>
<p>In the case you are using these languages, the input will only be validated by using the english alphabet.</p>
</div>
</div>
<div class="section" id="alpha">
<span id="zend-validator-set-alpha"></span><h1>Alpha<a class="headerlink" href="#alpha" title="Permalink to this headline">¶</a></h1>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\Alpha</span></tt> allows you to validate if a given value contains only alphabetical characters. There is no
length limitation for the input you want to validate. This validator is related to the <tt class="docutils literal"><span class="pre">Zend\Validator\Alnum</span></tt>
validator with the exception that it does not accept digits.</p>
<div class="section" id="supported-options-for-zend-validator-alpha">
<span id="zend-validator-set-alpha-options"></span><h2>Supported options for Zend\Validator\Alpha<a class="headerlink" href="#supported-options-for-zend-validator-alpha" title="Permalink to this headline">¶</a></h2>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Validator\Alpha</span></tt>:</p>
<ul class="simple">
<li><strong>allowWhiteSpace</strong>: If whitespace characters are allowed. This option defaults to <tt class="docutils literal"><span class="pre">FALSE</span></tt></li>
</ul>
</div>
<div class="section" id="zend-validator-set-alpha-basic">
<span id="id1"></span><h2>Basic usage<a class="headerlink" href="#zend-validator-set-alpha-basic" title="Permalink to this headline">¶</a></h2>
<p>A basic example is the following one:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Alpha</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;Abcd&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// value contains only allowed chars</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// false</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="zend-validator-set-alpha-whitespace">
<span id="id2"></span><h2>Using whitespaces<a class="headerlink" href="#zend-validator-set-alpha-whitespace" title="Permalink to this headline">¶</a></h2>
<p>Per default whitespaces are not accepted because they are not part of the alphabet. Still, there is a way to accept
them as input. This allows to validate complete sentences or phrases.</p>
<p>To allow the usage of whitespaces you need to give the <tt class="docutils literal"><span class="pre">allowWhiteSpace</span></tt> option. This can be done while creating
an instance of the validator, or afterwards by using <tt class="docutils literal"><span class="pre">setAllowWhiteSpace()</span></tt>. To get the actual state you can use
<tt class="docutils literal"><span class="pre">getAllowWhiteSpace()</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Alpha</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;allowWhiteSpace&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">));</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;Abcd and efg&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// value contains only allowed chars</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// false</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="zend-validator-set-alpha-languages">
<span id="id3"></span><h2>Using different languages<a class="headerlink" href="#zend-validator-set-alpha-languages" title="Permalink to this headline">¶</a></h2>
<p>When using <tt class="docutils literal"><span class="pre">Zend\Validator\Alpha</span></tt> then the language which the user sets within his browser will be used to set
the allowed characters. This means when your user sets <strong>de</strong> for german then he can also enter characters like
<strong>ä</strong>, <strong>ö</strong> and <strong>ü</strong> additionally to the characters from the english alphabet.</p>
<p>Which characters are allowed depends completely on the used language as every language defines it&#8217;s own set of
characters.</p>
<p>There are actually 3 languages which are not accepted in their own script. These languages are <strong>korean</strong>,
<strong>japanese</strong> and <strong>chinese</strong> because this languages are using an alphabet where a single character is build by
using multiple characters.</p>
<p>In the case you are using these languages, the input will only be validated by using the english alphabet.</p>
</div>
</div>
<div class="section" id="barcode">
<span id="zend-validator-set-barcode"></span><h1>Barcode<a class="headerlink" href="#barcode" title="Permalink to this headline">¶</a></h1>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\Barcode</span></tt> allows you to check if a given value can be represented as barcode.</p>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\Barcode</span></tt> supports multiple barcode standards and can be extended with proprietary barcode
implementations very easily. The following barcode standards are supported:</p>
<ul>
<li><p class="first"><strong>CODABAR</strong>: Also known as Code-a-bar.</p>
<p>This barcode has no length limitation. It supports only digits, and 6 special chars. Codabar is a self-checking
barcode. This standard is very old. Common use cases are within airbills or photo labs where multi-part forms are
used with dot-matrix printers.</p>
</li>
<li><p class="first"><strong>CODE128</strong>: CODE128 is a high density barcode.</p>
<p>This barcode has no length limitation. It supports the first 128 ascii characters. When used with printing
characters it has an checksum which is calculated modulo 103. This standard is used worldwide as it supports
upper and lowercase characters.</p>
</li>
<li><p class="first"><strong>CODE25</strong>: Often called &#8220;two of five&#8221; or &#8220;Code25 Industrial&#8221;.</p>
<p>This barcode has no length limitation. It supports only digits, and the last digit can be an optional checksum
which is calculated with modulo 10. This standard is very old and nowadays not often used. Common use cases are
within the industry.</p>
</li>
<li><p class="first"><strong>CODE25INTERLEAVED</strong>: Often called &#8220;Code 2 of 5 Interleaved&#8221;.</p>
<p>This standard is a variant of CODE25. It has no length limitation, but it must contain an even amount of
characters. It supports only digits, and the last digit can be an optional checksum which is calculated with
modulo 10. It is used worldwide and common on the market.</p>
</li>
<li><p class="first"><strong>CODE39</strong>: CODE39 is one of the oldest available codes.</p>
<p>This barcode has a variable length. It supports digits, upper cased alphabetical characters and 7 special
characters like whitespace, point and dollar sign. It can have an optional checksum which is calculated with
modulo 43. This standard is used worldwide and common within the industry.</p>
</li>
<li><p class="first"><strong>CODE39EXT</strong>: CODE39EXT is an extension of CODE39.</p>
<p>This barcode has the same properties as CODE39. Additionally it allows the usage of all 128 ASCII characters.
This standard is used worldwide and common within the industry.</p>
</li>
<li><p class="first"><strong>CODE93</strong>: CODE93 is the successor of CODE39.</p>
<p>This barcode has a variable length. It supports digits, alphabetical characters and 7 special characters. It has
an optional checksum which is calculated with modulo 47 and contains 2 characters. This standard produces a
denser code than CODE39 and is more secure.</p>
</li>
<li><p class="first"><strong>CODE93EXT</strong>: CODE93EXT is an extension of CODE93.</p>
<p>This barcode has the same properties as CODE93. Additionally it allows the usage of all 128 ASCII characters.
This standard is used worldwide and common within the industry.</p>
</li>
<li><p class="first"><strong>EAN2</strong>: EAN is the shortcut for &#8220;European Article Number&#8221;.</p>
<p>These barcode must have 2 characters. It supports only digits and does not have a checksum. This standard is
mainly used as addition to EAN13 (ISBN) when printed on books.</p>
</li>
<li><p class="first"><strong>EAN5</strong>: EAN is the shortcut for &#8220;European Article Number&#8221;.</p>
<p>These barcode must have 5 characters. It supports only digits and does not have a checksum. This standard is
mainly used as addition to EAN13 (ISBN) when printed on books.</p>
</li>
<li><p class="first"><strong>EAN8</strong>: EAN is the shortcut for &#8220;European Article Number&#8221;.</p>
<p>These barcode can have 7 or 8 characters. It supports only digits. When it has a length of 8 characters it
includes a checksum. This standard is used worldwide but has a very limited range. It can be found on small
articles where a longer barcode could not be printed.</p>
</li>
<li><p class="first"><strong>EAN12</strong>: EAN is the shortcut for &#8220;European Article Number&#8221;.</p>
<p>This barcode must have a length of 12 characters. It supports only digits, and the last digit is always a
checksum which is calculated with modulo 10. This standard is used within the USA and common on the market. It
has been superseded by EAN13.</p>
</li>
<li><p class="first"><strong>EAN13</strong>: EAN is the shortcut for &#8220;European Article Number&#8221;.</p>
<p>This barcode must have a length of 13 characters. It supports only digits, and the last digit is always a
checksum which is calculated with modulo 10. This standard is used worldwide and common on the market.</p>
</li>
<li><p class="first"><strong>EAN14</strong>: EAN is the shortcut for &#8220;European Article Number&#8221;.</p>
<p>This barcode must have a length of 14 characters. It supports only digits, and the last digit is always a
checksum which is calculated with modulo 10. This standard is used worldwide and common on the market. It is the
successor for EAN13.</p>
</li>
<li><p class="first"><strong>EAN18</strong>: EAN is the shortcut for &#8220;European Article Number&#8221;.</p>
<p>This barcode must have a length of 18 characters. It support only digits. The last digit is always a checksum
digit which is calculated with modulo 10. This code is often used for the identification of shipping containers.</p>
</li>
<li><p class="first"><strong>GTIN12</strong>: GTIN is the shortcut for &#8220;Global Trade Item Number&#8221;.</p>
<p>This barcode uses the same standard as EAN12 and is its successor. It&#8217;s commonly used within the USA.</p>
</li>
<li><p class="first"><strong>GTIN13</strong>: GTIN is the shortcut for &#8220;Global Trade Item Number&#8221;.</p>
<p>This barcode uses the same standard as EAN13 and is its successor. It is used worldwide by industry.</p>
</li>
<li><p class="first"><strong>GTIN14</strong>: GTIN is the shortcut for &#8220;Global Trade Item Number&#8221;.</p>
<p>This barcode uses the same standard as EAN14 and is its successor. It is used worldwide and common on the market.</p>
</li>
<li><p class="first"><strong>IDENTCODE</strong>: Identcode is used by Deutsche Post and DHL. It&#8217;s an specialized implementation of Code25.</p>
<p>This barcode must have a length of 12 characters. It supports only digits, and the last digit is always a
checksum which is calculated with modulo 10. This standard is mainly used by the companies DP and DHL.</p>
</li>
<li><p class="first"><strong>INTELLIGENTMAIL</strong>: Intelligent Mail is a postal barcode.</p>
<p>This barcode can have a length of 20, 25, 29 or 31 characters. It supports only digits, and contains no checksum.
This standard is the successor of <em>PLANET</em> and <em>POSTNET</em>. It is mainly used by the United States Postal Services.</p>
</li>
<li><p class="first"><strong>ISSN</strong>: <em>ISSN</em> is the abbreviation for International Standard Serial Number.</p>
<p>This barcode can have a length of 8 or 13 characters. It supports only digits, and the last digit must be a
checksum digit which is calculated with modulo 11. It is used worldwide for printed publications.</p>
</li>
<li><p class="first"><strong>ITF14</strong>: ITF14 is the GS1 implementation of an Interleaved Two of Five bar code.</p>
<p>This barcode is a special variant of Interleaved 2 of 5. It must have a length of 14 characters and is based on
GTIN14. It supports only digits, and the last digit must be a checksum digit which is calculated with modulo 10.
It is used worldwide and common within the market.</p>
</li>
<li><p class="first"><strong>LEITCODE</strong>: Leitcode is used by Deutsche Post and DHL. It&#8217;s an specialized implementation of Code25.</p>
<p>This barcode must have a length of 14 characters. It supports only digits, and the last digit is always a
checksum which is calculated with modulo 10. This standard is mainly used by the companies DP and DHL.</p>
</li>
<li><p class="first"><strong>PLANET</strong>: Planet is the abbreviation for Postal Alpha Numeric Encoding Technique.</p>
<p>This barcode can have a length of 12 or 14 characters. It supports only digits, and the last digit is always a
checksum. This standard is mainly used by the United States Postal Services.</p>
</li>
<li><p class="first"><strong>POSTNET</strong>: Postnet is used by the US Postal Service.</p>
<p>This barcode can have a length of 6, 7, 10 or 12 characters. It supports only digits, and the last digit is
always a checksum. This standard is mainly used by the United States Postal Services.</p>
</li>
<li><p class="first"><strong>ROYALMAIL</strong>: Royalmail is used by Royal Mail.</p>
<p>This barcode has no defined length. It supports digits, uppercase letters, and the last digit is always a
checksum. This standard is mainly used by Royal Mail for their Cleanmail Service. It is also called <em>RM4SCC</em>.</p>
</li>
<li><p class="first"><strong>SSCC</strong>: SSCC is the shortcut for &#8220;Serial Shipping Container Code&#8221;.</p>
<p>This barcode is a variant of EAN barcode. It must have a length of 18 characters and supports only digits. The
last digit must be a checksum digit which is calculated with modulo 10. It is commonly used by the transport
industry.</p>
</li>
<li><p class="first"><strong>UPCA</strong>: UPC is the shortcut for &#8220;Universal Product Code&#8221;.</p>
<p>This barcode preceded EAN13. It must have a length of 12 characters and supports only digits. The last digit must
be a checksum digit which is calculated with modulo 10. It is commonly used within the USA.</p>
</li>
<li><p class="first"><strong>UPCE</strong>: UPCE is the short variant from UPCA.</p>
<p>This barcode is a smaller variant of UPCA. It can have a length of 6, 7 or 8 characters and supports only digits.
When the barcode is 8 chars long it includes a checksum which is calculated with modulo 10. It is commonly used
with small products where a UPCA barcode would not fit.</p>
</li>
</ul>
<div class="section" id="supported-options-for-zend-validator-barcode">
<span id="zend-validator-set-barcode-options"></span><h2>Supported options for Zend\Validator\Barcode<a class="headerlink" href="#supported-options-for-zend-validator-barcode" title="Permalink to this headline">¶</a></h2>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Validator\Barcode</span></tt>:</p>
<ul class="simple">
<li><strong>adapter</strong>: Sets the barcode adapter which will be used. Supported are all above noted adapters. When using a
self defined adapter, then you have to set the complete class name.</li>
<li><strong>checksum</strong>: <tt class="docutils literal"><span class="pre">TRUE</span></tt> when the barcode should contain a checksum. The default value depends on the used adapter.
Note that some adapters don&#8217;t allow to set this option.</li>
<li><strong>options</strong>: Defines optional options for a self written adapters.</li>
</ul>
</div>
<div class="section" id="zend-validator-set-barcode-basic">
<span id="id4"></span><h2>Basic usage<a class="headerlink" href="#zend-validator-set-barcode-basic" title="Permalink to this headline">¶</a></h2>
<p>To validate if a given string is a barcode you just need to know its type. See the following example for an EAN13
barcode:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$valid</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Barcode</span><span class="p">(</span><span class="s1">&#39;EAN13&#39;</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$input</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// input appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// input is invalid</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="optional-checksum">
<span id="zend-validator-set-barcode-checksum"></span><h2>Optional checksum<a class="headerlink" href="#optional-checksum" title="Permalink to this headline">¶</a></h2>
<p>Some barcodes can be provided with an optional checksum. These barcodes would be valid even without checksum.
Still, when you provide a checksum, then you should also validate it. By default, these barcode types perform no
checksum validation. By using the <tt class="docutils literal"><span class="pre">checksum</span></tt> option you can define if the checksum will be validated or ignored.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$valid</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Barcode</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;adapter&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;EAN13&#39;</span><span class="p">,</span>
    <span class="s1">&#39;checksum&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
<span class="p">));</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$input</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// input appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// input is invalid</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Reduced security by disabling checksum validation</strong></p>
<p class="last">By switching off checksum validation you will also reduce the security of the used barcodes. Additionally you
should note that you can also turn off the checksum validation for those barcode types which must contain a
checksum value. Barcodes which would not be valid could then be returned as valid even if they are not.</p>
</div>
</div>
<div class="section" id="writing-custom-adapters">
<span id="zend-validator-set-barcode-custom"></span><h2>Writing custom adapters<a class="headerlink" href="#writing-custom-adapters" title="Permalink to this headline">¶</a></h2>
<p>You may write custom barcode validators for usage with <tt class="docutils literal"><span class="pre">Zend\Validator\Barcode</span></tt>; this is often necessary when
dealing with proprietary barcode types. To write your own barcode validator, you need the following information.</p>
<ul class="simple">
<li><strong>Length</strong>: The length your barcode must have. It can have one of the following values:<ul>
<li><strong>Integer</strong>: A value greater 0, which means that the barcode must have this length.</li>
<li><strong>-1</strong>: There is no limitation for the length of this barcode.</li>
<li><strong>&#8220;even&#8221;</strong>: The length of this barcode must have a even amount of digits.</li>
<li><strong>&#8220;odd&#8221;</strong>: The length of this barcode must have a odd amount of digits.</li>
<li><strong>array</strong>: An array of integer values. The length of this barcode must have one of the set array values.</li>
</ul>
</li>
<li><strong>Characters</strong>: A string which contains all allowed characters for this barcode. Also the integer value 128 is
allowed, which means the first 128 characters of the ASCII table.</li>
<li><strong>Checksum</strong>: A string which will be used as callback for a method which does the checksum validation.</li>
</ul>
<p>Your custom barcode validator must extend <tt class="docutils literal"><span class="pre">Zend\Validator\Barcode\AbstractAdapter</span></tt> or implement
<tt class="docutils literal"><span class="pre">Zend\Validator\Barcode\AdapterInterface</span></tt>.</p>
<p>As an example, let&#8217;s create a validator that expects an even number of characters that include all digits and the
letters &#8216;ABCDE&#8217;, and which requires a checksum.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">My\Barcode\MyBar</span> <span class="k">extends</span> <span class="nx">Zend\Validator\Barcode\AbstractAdapter</span>
<span class="p">{</span>
    <span class="k">protected</span> <span class="nv">$length</span>     <span class="o">=</span> <span class="s1">&#39;even&#39;</span><span class="p">;</span>
    <span class="k">protected</span> <span class="nv">$characters</span> <span class="o">=</span> <span class="s1">&#39;0123456789ABCDE&#39;</span><span class="p">;</span>
    <span class="k">protected</span> <span class="nv">$checksum</span>   <span class="o">=</span> <span class="s1">&#39;mod66&#39;</span><span class="p">;</span>

    <span class="k">protected</span> <span class="k">function</span> <span class="nf">mod66</span><span class="p">(</span><span class="nv">$barcode</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// do some validations and return a boolean</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nv">$valid</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Barcode</span><span class="p">(</span><span class="s1">&#39;My\Barcode\MyBar&#39;</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$input</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// input appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// input is invalid</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="between">
<span id="zend-validator-set-between"></span><h1>Between<a class="headerlink" href="#between" title="Permalink to this headline">¶</a></h1>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\Between</span></tt> allows you to validate if a given value is between two other values.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Zend\Validator\Between supports only number validation</strong></p>
<p class="last">It should be noted that <tt class="docutils literal"><span class="pre">Zend\Validator\Between</span></tt> supports only the validation of numbers. Strings or dates can
not be validated with this validator.</p>
</div>
<div class="section" id="supported-options-for-zend-validator-between">
<span id="zend-validator-set-between-options"></span><h2>Supported options for Zend\Validator\Between<a class="headerlink" href="#supported-options-for-zend-validator-between" title="Permalink to this headline">¶</a></h2>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Validator\Between</span></tt>:</p>
<ul class="simple">
<li><strong>inclusive</strong>: Defines if the validation is inclusive the minimum and maximum border values or exclusive. It
defaults to <tt class="docutils literal"><span class="pre">TRUE</span></tt>.</li>
<li><strong>max</strong>: Sets the maximum border for the validation.</li>
<li><strong>min</strong>: Sets the minimum border for the validation.</li>
</ul>
</div>
<div class="section" id="default-behaviour-for-zend-validator-between">
<span id="zend-validator-set-between-basic"></span><h2>Default behaviour for Zend\Validator\Between<a class="headerlink" href="#default-behaviour-for-zend-validator-between" title="Permalink to this headline">¶</a></h2>
<p>Per default this validator checks if a value is between <tt class="docutils literal"><span class="pre">min</span></tt> and <tt class="docutils literal"><span class="pre">max</span></tt> where both border values are allowed as
value.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$valid</span>  <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Between</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;min&#39;</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">));</span>
<span class="nv">$value</span>  <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$value</span><span class="p">);</span>
<span class="c1">// returns true</span>
</pre></div>
</td></tr></table></div>
<p>In the above example the result is <tt class="docutils literal"><span class="pre">TRUE</span></tt> due to the reason that per default the search is inclusively the border
values. This means in our case that any value from &#8216;0&#8217; to &#8216;10&#8217; is allowed. And values like &#8216;-1&#8217; and &#8216;11&#8217; will
return <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</p>
</div>
<div class="section" id="validation-exclusive-the-border-values">
<span id="zend-validator-set-between-inclusively"></span><h2>Validation exclusive the border values<a class="headerlink" href="#validation-exclusive-the-border-values" title="Permalink to this headline">¶</a></h2>
<p>Sometimes it is useful to validate a value by excluding the border values. See the following example:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$valid</span>  <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Between</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;min&#39;</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
        <span class="s1">&#39;max&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s1">&#39;inclusive&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span>
    <span class="p">)</span>
<span class="p">);</span>
<span class="nv">$value</span>  <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$value</span><span class="p">);</span>
<span class="c1">// returns false</span>
</pre></div>
</td></tr></table></div>
<p>The example is almost equal to our first example but we excluded the border value. Now the values &#8216;0&#8217; and &#8216;10&#8217; are
no longer allowed and will return <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</p>
</div>
</div>
<div class="section" id="callback">
<span id="zend-validator-set-callback"></span><h1>Callback<a class="headerlink" href="#callback" title="Permalink to this headline">¶</a></h1>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\Callback</span></tt> allows you to provide a callback with which to validate a given value.</p>
<div class="section" id="supported-options-for-zend-validator-callback">
<span id="zend-validator-set-callback-options"></span><h2>Supported options for Zend\Validator\Callback<a class="headerlink" href="#supported-options-for-zend-validator-callback" title="Permalink to this headline">¶</a></h2>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Validator\Callback</span></tt>:</p>
<ul class="simple">
<li><strong>callback</strong>: Sets the callback which will be called for the validation.</li>
<li><strong>options</strong>: Sets the additional options which will be given to the callback.</li>
</ul>
</div>
<div class="section" id="zend-validator-set-callback-basic">
<span id="id5"></span><h2>Basic usage<a class="headerlink" href="#zend-validator-set-callback-basic" title="Permalink to this headline">¶</a></h2>
<p>The simplest usecase is to have a single function and use it as a callback. Let&#8217;s expect we have the following
function.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">function</span> <span class="nf">myMethod</span><span class="p">(</span><span class="nv">$value</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// some validation</span>
    <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>To use it within <tt class="docutils literal"><span class="pre">Zend\Validator\Callback</span></tt> you just have to call it this way:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$valid</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Callback</span><span class="p">(</span><span class="s1">&#39;myMethod&#39;</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$input</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// input appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// input is invalid</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="usage-with-closures">
<span id="zend-validator-set-callback-closure"></span><h2>Usage with closures<a class="headerlink" href="#usage-with-closures" title="Permalink to this headline">¶</a></h2>
<p><em>PHP</em> 5.3 introduces <a class="reference external" href="http://php.net/functions.anonymous">closures</a>, which are basically self-contained or <strong>anonymous</strong> functions. <em>PHP</em> considers
closures another form of callback, and, as such, may be used with <tt class="docutils literal"><span class="pre">Zend\Validator\Callback</span></tt>. As an example:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$valid</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Callback</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="nv">$value</span><span class="p">){</span>
    <span class="c1">// some validation</span>
    <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
<span class="p">});</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$input</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// input appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// input is invalid</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="usage-with-class-based-callbacks">
<span id="zend-validator-set-callback-class"></span><h2>Usage with class-based callbacks<a class="headerlink" href="#usage-with-class-based-callbacks" title="Permalink to this headline">¶</a></h2>
<p>Of course it&#8217;s also possible to use a class method as callback. Let&#8217;s expect we have the following class method:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyClass</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">myMethod</span><span class="p">(</span><span class="nv">$value</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// some validation</span>
        <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>The definition of the callback is in this case almost the same. You have just to create an instance of the class
before the method and create an array describing the callback:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$object</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MyClass</span><span class="p">;</span>
<span class="nv">$valid</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Callback</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="nv">$object</span><span class="p">,</span> <span class="s1">&#39;myMethod&#39;</span><span class="p">));</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$input</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// input appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// input is invalid</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>You may also define a static method as a callback. Consider the following class definition and validator usage:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyClass</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">test</span><span class="p">(</span><span class="nv">$value</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// some validation</span>
        <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nv">$valid</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Callback</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;MyClass&#39;</span><span class="p">,</span> <span class="s1">&#39;test&#39;</span><span class="p">));</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$input</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// input appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// input is invalid</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Finally, if you are using <em>PHP</em> 5.3, you may define the magic method <tt class="docutils literal"><span class="pre">__invoke()</span></tt> in your class. If you do so,
simply providing an instance of the class as the callback will also work:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyClass</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">__invoke</span><span class="p">(</span><span class="nv">$value</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// some validation</span>
        <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nv">$object</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MyClass</span><span class="p">();</span>
<span class="nv">$valid</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Callback</span><span class="p">(</span><span class="nv">$object</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$input</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// input appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// input is invalid</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="adding-options">
<span id="zend-validator-set-callback-options2"></span><h2>Adding options<a class="headerlink" href="#adding-options" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\Callback</span></tt> also allows the usage of options which are provided as additional arguments to the
callback.</p>
<p>Consider the following class and method definition:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyClass</span>
<span class="p">{</span>
    <span class="k">function</span> <span class="nf">myMethod</span><span class="p">(</span><span class="nv">$value</span><span class="p">,</span> <span class="nv">$option</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// some validation</span>
        <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">//if a context is present</span>
    <span class="k">function</span> <span class="nf">myMethod</span><span class="p">(</span><span class="nv">$value</span><span class="p">,</span> <span class="nv">$context</span><span class="p">,</span> <span class="nv">$option</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// some validation</span>
        <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>There are two ways to inform the validator of additional options: pass them in the constructor, or pass them to the
<tt class="docutils literal"><span class="pre">setOptions()</span></tt> method.</p>
<p>To pass them to the constructor, you would need to pass an array containing two keys, &#8220;callback&#8221; and &#8220;options&#8221;:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$valid</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Callback</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;callback&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;MyClass&#39;</span><span class="p">,</span> <span class="s1">&#39;myMethod&#39;</span><span class="p">),</span>
    <span class="s1">&#39;options&#39;</span>  <span class="o">=&gt;</span> <span class="nv">$option</span><span class="p">,</span>
<span class="p">));</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$input</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// input appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// input is invalid</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Otherwise, you may pass them to the validator after instantiation:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$valid</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Callback</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;MyClass&#39;</span><span class="p">,</span> <span class="s1">&#39;myMethod&#39;</span><span class="p">));</span>
<span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">setOptions</span><span class="p">(</span><span class="nv">$option</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$input</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// input appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// input is invalid</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>When there are additional values given to <tt class="docutils literal"><span class="pre">isValid()</span></tt> then these values will be added immediately after
<tt class="docutils literal"><span class="pre">$value</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$valid</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Callback</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;MyClass&#39;</span><span class="p">,</span> <span class="s1">&#39;myMethod&#39;</span><span class="p">));</span>
<span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">setOptions</span><span class="p">(</span><span class="nv">$option</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$input</span><span class="p">,</span> <span class="nv">$additional</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// input appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// input is invalid</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>When making the call to the callback, the value to be validated will always be passed as the first argument to the
callback followed by all other values given to <tt class="docutils literal"><span class="pre">isValid()</span></tt>; all other options will follow it. The amount and type
of options which can be used is not limited.</p>
</div>
</div>
<div class="section" id="creditcard">
<span id="zend-validator-set-creditcard"></span><h1>CreditCard<a class="headerlink" href="#creditcard" title="Permalink to this headline">¶</a></h1>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\CreditCard</span></tt> allows you to validate if a given value could be a credit card number.</p>
<p>A credit card contains several items of metadata, including a hologram, account number, logo, expiration date,
security code and the card holder name. The algorithms for verifying the combination of metadata are only known to
the issuing company, and should be verified with them for purposes of payment. However, it&#8217;s often useful to know
whether or not a given number actually falls within the ranges of possible numbers <strong>prior</strong> to performing such
verification, and, as such, <tt class="docutils literal"><span class="pre">Zend\Validator\CreditCard</span></tt> simply verifies that the credit card number provided is
well-formed.</p>
<p>For those cases where you have a service that can perform comprehensive verification, <tt class="docutils literal"><span class="pre">Zend\Validator\CreditCard</span></tt>
also provides the ability to attach a service callback to trigger once the credit card number has been deemed
valid; this callback will then be triggered, and its return value will determine overall validity.</p>
<p>The following issuing institutes are accepted:</p>
<ul class="simple">
<li><strong>American Express</strong></li>
<li><strong>China UnionPay</strong></li>
<li><strong>Diners Club Card Blanche</strong></li>
<li><strong>Diners Club International</strong></li>
<li><strong>Diners Club US &amp; Canada</strong></li>
<li><strong>Discover Card</strong></li>
<li><strong>JCB</strong></li>
<li><strong>Laser</strong></li>
<li><strong>Maestro</strong></li>
<li><strong>MasterCard</strong></li>
<li><strong>Solo</strong></li>
<li><strong>Visa</strong></li>
<li><strong>Visa Electron</strong></li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Invalid institutes</strong></p>
<p>The institutes <strong>Bankcard</strong> and <strong>Diners Club enRoute</strong> do not exist anymore. Therefore they are treated as
invalid.</p>
<p class="last"><strong>Switch</strong> has been rebranded to <strong>Visa</strong> and is therefore also treated as invalid.</p>
</div>
<div class="section" id="supported-options-for-zend-validator-creditcard">
<span id="zend-validator-set-creditcard-options"></span><h2>Supported options for Zend\Validator\CreditCard<a class="headerlink" href="#supported-options-for-zend-validator-creditcard" title="Permalink to this headline">¶</a></h2>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Validator\CreditCard</span></tt>:</p>
<ul class="simple">
<li><strong>service</strong>: A callback to an online service which will additionally be used for the validation.</li>
<li><strong>type</strong>: The type of credit card which will be validated. See the below list of institutes for details.</li>
</ul>
</div>
<div class="section" id="zend-validator-set-creditcard-basic">
<span id="id6"></span><h2>Basic usage<a class="headerlink" href="#zend-validator-set-creditcard-basic" title="Permalink to this headline">¶</a></h2>
<p>There are several credit card institutes which can be validated by <tt class="docutils literal"><span class="pre">Zend\Validator\CreditCard</span></tt>. Per default, all
known institutes will be accepted. See the following example:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$valid</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\CreditCard</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$input</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// input appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// input is invalid</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>The above example would validate against all known credit card institutes.</p>
</div>
<div class="section" id="accepting-defined-credit-cards">
<span id="zend-validator-set-creditcard-institute"></span><h2>Accepting defined credit cards<a class="headerlink" href="#accepting-defined-credit-cards" title="Permalink to this headline">¶</a></h2>
<p>Sometimes it is necessary to accept only defined credit card institutes instead of all; e.g., when you have a
webshop which accepts only Visa and American Express cards. <tt class="docutils literal"><span class="pre">Zend\Validator\CreditCard</span></tt> allows you to do exactly
this by limiting it to exactly these institutes.</p>
<p>To use a limitation you can either provide specific institutes at initiation, or afterwards by using <tt class="docutils literal"><span class="pre">setType()</span></tt>.
Each can take several arguments.</p>
<p>You can provide a single institute:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$valid</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\CreditCard</span><span class="p">(</span>
    <span class="nx">Zend\Validator\CreditCard</span><span class="o">::</span><span class="na">AMERICAN_EXPRESS</span>
<span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>When you want to allow multiple institutes, then you can provide them as array:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$valid</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\CreditCard</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="nx">Zend\Validator\CreditCard</span><span class="o">::</span><span class="na">AMERICAN_EXPRESS</span><span class="p">,</span>
    <span class="nx">Zend\Validator\CreditCard</span><span class="o">::</span><span class="na">VISA</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div>
<p>And as with all validators, you can also pass an associative array of options or an instance of <tt class="docutils literal"><span class="pre">Traversable</span></tt>. In
this case you have to provide the institutes with the <tt class="docutils literal"><span class="pre">type</span></tt> array key as simulated here:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$valid</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\CreditCard</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="nx">Zend\Validator\CreditCard</span><span class="o">::</span><span class="na">AMERICAN_EXPRESS</span><span class="p">)</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div>
<table border="1" class="docutils" id="zend-validator-set-creditcard-institute-table">
<caption>Constants for credit card institutes</caption>
<colgroup>
<col width="37%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Institute</th>
<th class="head">Constant</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>American Express</td>
<td>ZendValidatorCreditCard::AMERICAN_EXPRESS</td>
</tr>
<tr class="row-odd"><td>China UnionPay</td>
<td>ZendValidatorCreditCard::UNIONPAY</td>
</tr>
<tr class="row-even"><td>Diners Club Card Blanche</td>
<td>ZendValidatorCreditCard::DINERS_CLUB</td>
</tr>
<tr class="row-odd"><td>Diners Club International</td>
<td>ZendValidatorCreditCard::DINERS_CLUB</td>
</tr>
<tr class="row-even"><td>Diners Club US &amp; Canada</td>
<td>ZendValidatorCreditCard::DINERS_CLUB_US</td>
</tr>
<tr class="row-odd"><td>Discover Card</td>
<td>ZendValidatorCreditCard::DISCOVER</td>
</tr>
<tr class="row-even"><td>JCB</td>
<td>ZendValidatorCreditCard::JCB</td>
</tr>
<tr class="row-odd"><td>Laser</td>
<td>ZendValidatorCreditCard::LASER</td>
</tr>
<tr class="row-even"><td>Maestro</td>
<td>ZendValidatorCreditCard::MAESTRO</td>
</tr>
<tr class="row-odd"><td>MasterCard</td>
<td>ZendValidatorCreditCard::MASTERCARD</td>
</tr>
<tr class="row-even"><td>Solo</td>
<td>ZendValidatorCreditCard::SOLO</td>
</tr>
<tr class="row-odd"><td>Visa</td>
<td>ZendValidatorCreditCard::VISA</td>
</tr>
<tr class="row-even"><td>Visa Electron</td>
<td>ZendValidatorCreditCard::VISA</td>
</tr>
</tbody>
</table>
<p>You can also set or add institutes afterward instantiation by using the methods <tt class="docutils literal"><span class="pre">setType()</span></tt>, <tt class="docutils literal"><span class="pre">addType()</span></tt> and
<tt class="docutils literal"><span class="pre">getType()</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$valid</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\CreditCard</span><span class="p">();</span>
<span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">setType</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="nx">Zend\Validator\CreditCard</span><span class="o">::</span><span class="na">AMERICAN_EXPRESS</span><span class="p">,</span>
    <span class="nx">Zend\Validator\CreditCard</span><span class="o">::</span><span class="na">VISA</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Default institute</strong></p>
<p>When no institute is given at initiation then <tt class="docutils literal"><span class="pre">ALL</span></tt> will be used, which sets all institutes at once.</p>
<p class="last">In this case the usage of <tt class="docutils literal"><span class="pre">addType()</span></tt> is useless because all institutes are already added.</p>
</div>
</div>
<div class="section" id="validation-by-using-foreign-apis">
<span id="zend-validator-set-creditcard-servicecheck"></span><h2>Validation by using foreign APIs<a class="headerlink" href="#validation-by-using-foreign-apis" title="Permalink to this headline">¶</a></h2>
<p>As said before <tt class="docutils literal"><span class="pre">Zend\Validator\CreditCard</span></tt> will only validate the credit card number. Fortunately, some
institutes provide online <em>API</em>s which can validate a credit card number by using algorithms which are not
available to the public. Most of these services are paid services. Therefore, this check is deactivated per
default.</p>
<p>When you have access to such an <em>API</em>, then you can use it as an add on for <tt class="docutils literal"><span class="pre">Zend\Validator\CreditCard</span></tt> and
increase the security of the validation.</p>
<p>To do so, you simply need to give a callback which will be called when the generic validation has passed. This
prevents the <em>API</em> from being called for invalid numbers, which increases the performance of the application.</p>
<p><tt class="docutils literal"><span class="pre">setService()</span></tt> sets a new service, and <tt class="docutils literal"><span class="pre">getService()</span></tt> returns the set service. As a configuration option, you
can give the array key &#8216;<tt class="docutils literal"><span class="pre">service</span></tt>&#8216; at initiation. For details about possible options take a look into
<a class="reference internal" href="#zend-validator-set-callback"><em>Callback</em></a>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// Your service class</span>
<span class="k">class</span> <span class="nc">CcService</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">checkOnline</span><span class="p">(</span><span class="nv">$cardnumber</span><span class="p">,</span> <span class="nv">$types</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// some online validation</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// The validation</span>
<span class="nv">$service</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CcService</span><span class="p">();</span>
<span class="nv">$valid</span>   <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\CreditCard</span><span class="p">(</span><span class="nx">Zend\Validator\CreditCard</span><span class="o">::</span><span class="na">VISA</span><span class="p">);</span>
<span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">setService</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="nv">$service</span><span class="p">,</span> <span class="s1">&#39;checkOnline&#39;</span><span class="p">));</span>
</pre></div>
</td></tr></table></div>
<p>As you can see the callback method will be called with the credit card number as the first parameter, and the
accepted types as the second parameter.</p>
</div>
<div class="section" id="ccnum">
<span id="zend-validator-set-ccnum"></span><h2>Ccnum<a class="headerlink" href="#ccnum" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <tt class="docutils literal"><span class="pre">Ccnum</span></tt> validator has been deprecated in favor of the <tt class="docutils literal"><span class="pre">CreditCard</span></tt> validator. For security reasons you
should use CreditCard instead of Ccnum.</p>
</div>
</div>
</div>
<div class="section" id="date">
<span id="zend-validator-set-date"></span><h1>Date<a class="headerlink" href="#date" title="Permalink to this headline">¶</a></h1>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\Date</span></tt> allows you to validate if a given value contains a date. This validator validates also
localized input.</p>
<div class="section" id="supported-options-for-zend-validator-date">
<span id="zend-validator-set-date-options"></span><h2>Supported options for Zend\Validator\Date<a class="headerlink" href="#supported-options-for-zend-validator-date" title="Permalink to this headline">¶</a></h2>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Validator\Date</span></tt>:</p>
<ul class="simple">
<li><strong>format</strong>: Sets the format which is used to write the date.</li>
<li><strong>locale</strong>: Sets the locale which will be used to validate date values.</li>
</ul>
</div>
<div class="section" id="default-date-validation">
<span id="zend-validator-set-date-basic"></span><h2>Default date validation<a class="headerlink" href="#default-date-validation" title="Permalink to this headline">¶</a></h2>
<p>The easiest way to validate a date is by using the default date format. It is used when no locale and no format has
been given.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Date</span><span class="p">();</span>

<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;2000-10-10&#39;</span><span class="p">);</span>   <span class="c1">// returns true</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;10.10.2000&#39;</span><span class="p">);</span> <span class="c1">// returns false</span>
</pre></div>
</td></tr></table></div>
<p>The default date format for <tt class="docutils literal"><span class="pre">Zend\Validator\Date</span></tt> is &#8216;yyyy-MM-dd&#8217;.</p>
</div>
<div class="section" id="localized-date-validation">
<span id="zend-validator-set-date-localized"></span><h2>Localized date validation<a class="headerlink" href="#localized-date-validation" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\Date</span></tt> validates also dates which are given in a localized format. By using the <tt class="docutils literal"><span class="pre">locale</span></tt> option
you can define the locale which the date format should use for validation.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Date</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;locale&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;de&#39;</span><span class="p">));</span>

<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;10.Feb.2010&#39;</span><span class="p">);</span> <span class="c1">// returns true</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;10.May.2010&#39;</span><span class="p">);</span> <span class="c1">// returns false</span>
</pre></div>
</td></tr></table></div>
<p>The <tt class="docutils literal"><span class="pre">locale</span></tt> option sets the default date format. In the above example this is &#8216;j.M.Y&#8217; which is defined as
default date format for &#8216;de&#8217;.</p>
</div>
<div class="section" id="self-defined-date-validation">
<span id="zend-validator-set-date-formats"></span><h2>Self defined date validation<a class="headerlink" href="#self-defined-date-validation" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\Date</span></tt> supports also self defined date formats. When you want to validate such a date you can use
the <tt class="docutils literal"><span class="pre">format</span></tt> option. This option accepts format as specified in the standard PHP function <a class="reference external" href="http://php.net/manual/en/function.date.php">date()</a>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Date</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;format&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Y&#39;</span><span class="p">));</span>

<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;2010&#39;</span><span class="p">);</span> <span class="c1">// returns true</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;May&#39;</span><span class="p">);</span>  <span class="c1">// returns false</span>
</pre></div>
</td></tr></table></div>
<p>Of course you can combine <tt class="docutils literal"><span class="pre">format</span></tt> and <tt class="docutils literal"><span class="pre">locale</span></tt>. In this case you can also use localized month or day names.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Date</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;format&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Y F&#39;</span><span class="p">,</span> <span class="s1">&#39;locale&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;de&#39;</span><span class="p">));</span>

<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;2010 Dezember&#39;</span><span class="p">);</span> <span class="c1">// returns true</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;2010 June&#39;</span><span class="p">);</span>     <span class="c1">// returns false</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="db-recordexists-and-db-norecordexists">
<span id="zend-validator-db"></span><h1>Db\RecordExists and Db\NoRecordExists<a class="headerlink" href="#db-recordexists-and-db-norecordexists" title="Permalink to this headline">¶</a></h1>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\Db\RecordExists</span></tt> and <tt class="docutils literal"><span class="pre">Zend\Validator\Db\NoRecordExists</span></tt> provide a means to test whether a
record exists in a given table of a database, with a given value.</p>
<div class="section" id="supported-options-for-zend-validator-db">
<span id="zend-validator-set-db-options"></span><h2>Supported options for Zend\Validator\Db\*<a class="headerlink" href="#supported-options-for-zend-validator-db" title="Permalink to this headline">¶</a></h2>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Validator\Db\NoRecordExists</span></tt> and
<tt class="docutils literal"><span class="pre">Zend\Validator\Db\RecordExists</span></tt>:</p>
<ul class="simple">
<li><strong>adapter</strong>: The database adapter which will be used for the search.</li>
<li><strong>exclude</strong>: Sets records which will be excluded from the search.</li>
<li><strong>field</strong>: The database field within this table which will be searched for the record.</li>
<li><strong>schema</strong>: Sets the schema which will be used for the search.</li>
<li><strong>table</strong>: The table which will be searched for the record.</li>
</ul>
</div>
<div class="section" id="zend-validator-db-basic-usage">
<span id="id8"></span><h2>Basic usage<a class="headerlink" href="#zend-validator-db-basic-usage" title="Permalink to this headline">¶</a></h2>
<p>An example of basic usage of the validators:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">//Check that the email address exists in the database</span>
<span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Db\RecordExists</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;table&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;users&#39;</span><span class="p">,</span>
        <span class="s1">&#39;field&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;emailaddress&#39;</span>
    <span class="p">)</span>
<span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$emailaddress</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// email address appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// email address is invalid; print the reasons</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">getMessages</span><span class="p">()</span> <span class="k">as</span> <span class="nv">$message</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">$message</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>The above will test that a given email address is in the database table. If no record is found containing the value
of <tt class="docutils literal"><span class="pre">$emailaddress</span></tt> in the specified column, then an error message is displayed.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">//Check that the username is not present in the database</span>
<span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Db\NoRecordExists</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;table&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;users&#39;</span><span class="p">,</span>
        <span class="s1">&#39;field&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;username&#39;</span>
    <span class="p">)</span>
<span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$username</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// username appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// username is invalid; print the reason</span>
    <span class="nv">$messages</span> <span class="o">=</span> <span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">getMessages</span><span class="p">();</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$messages</span> <span class="k">as</span> <span class="nv">$message</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">$message</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>The above will test that a given username is not in the database table. If a record is found containing the value
of <tt class="docutils literal"><span class="pre">$username</span></tt> in the specified column, then an error message is displayed.</p>
</div>
<div class="section" id="excluding-records">
<span id="zend-validator-db-excluding-records"></span><h2>Excluding records<a class="headerlink" href="#excluding-records" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\Db\RecordExists</span></tt> and <tt class="docutils literal"><span class="pre">Zend\Validator\Db\NoRecordExists</span></tt> also provide a means to test the
database, excluding a part of the table, either by providing a where clause as a string, or an array with the keys
&#8220;field&#8221; and &#8220;value&#8221;.</p>
<p>When providing an array for the exclude clause, the <strong>!=</strong> operator is used, so you can check the rest of a table
for a value before altering a record (for example on a user profile form)</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">//Check no other users have the username</span>
<span class="nv">$user_id</span>   <span class="o">=</span> <span class="nv">$user</span><span class="o">-&gt;</span><span class="na">getId</span><span class="p">();</span>
<span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Db\NoRecordExists</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;table&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;users&#39;</span><span class="p">,</span>
        <span class="s1">&#39;field&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;username&#39;</span><span class="p">,</span>
        <span class="s1">&#39;exclude&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;field&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span>
            <span class="s1">&#39;value&#39;</span> <span class="o">=&gt;</span> <span class="nv">$user_id</span>
        <span class="p">)</span>
    <span class="p">)</span>
<span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$username</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// username appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// username is invalid; print the reason</span>
    <span class="nv">$messages</span> <span class="o">=</span> <span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">getMessages</span><span class="p">();</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$messages</span> <span class="k">as</span> <span class="nv">$message</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">$message</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>The above example will check the table to ensure no records other than the one where <tt class="docutils literal"><span class="pre">id</span> <span class="pre">=</span> <span class="pre">$user_id</span></tt> contains the
value $username.</p>
<p>You can also provide a string to the exclude clause so you can use an operator other than <strong>!=</strong>. This can be
useful for testing against composite keys.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$email</span>     <span class="o">=</span> <span class="s1">&#39;user@example.com&#39;</span><span class="p">;</span>
<span class="nv">$clause</span>    <span class="o">=</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">quoteInto</span><span class="p">(</span><span class="s1">&#39;email = ?&#39;</span><span class="p">,</span> <span class="nv">$email</span><span class="p">);</span>
<span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Db\RecordExists</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;table&#39;</span>   <span class="o">=&gt;</span> <span class="s1">&#39;users&#39;</span><span class="p">,</span>
        <span class="s1">&#39;field&#39;</span>   <span class="o">=&gt;</span> <span class="s1">&#39;username&#39;</span><span class="p">,</span>
        <span class="s1">&#39;exclude&#39;</span> <span class="o">=&gt;</span> <span class="nv">$clause</span>
    <span class="p">)</span>
<span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$username</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// username appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// username is invalid; print the reason</span>
    <span class="nv">$messages</span> <span class="o">=</span> <span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">getMessages</span><span class="p">();</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$messages</span> <span class="k">as</span> <span class="nv">$message</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">$message</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>The above example will check the &#8216;users&#8217; table to ensure that only a record with both the username <tt class="docutils literal"><span class="pre">$username</span></tt>
and with the email <tt class="docutils literal"><span class="pre">$email</span></tt> is valid.</p>
</div>
<div class="section" id="database-adapters">
<span id="zend-validator-db-database-adapters"></span><h2>Database Adapters<a class="headerlink" href="#database-adapters" title="Permalink to this headline">¶</a></h2>
<p>You can also specify an adapter. This will allow you to work with applications using multiple database adapters, or
where you have not set a default adapter. As in the example below:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Db\RecordExists</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;table&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;users&#39;</span><span class="p">,</span>
        <span class="s1">&#39;field&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span>
        <span class="s1">&#39;adapter&#39;</span> <span class="o">=&gt;</span> <span class="nv">$dbAdapter</span>
    <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="database-schemas">
<span id="zend-validator-db-database-schemas"></span><h2>Database Schemas<a class="headerlink" href="#database-schemas" title="Permalink to this headline">¶</a></h2>
<p>You can specify a schema within your database for adapters such as PostgreSQL and DB/2 by simply supplying an array
with <tt class="docutils literal"><span class="pre">table</span></tt> and <tt class="docutils literal"><span class="pre">schema</span></tt> keys. As in the example below:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Db\RecordExists</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;table&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;users&#39;</span><span class="p">,</span>
        <span class="s1">&#39;schema&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;my&#39;</span><span class="p">,</span>
        <span class="s1">&#39;field&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;id&#39;</span>
    <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="digits">
<span id="zend-validator-set-digits"></span><h1>Digits<a class="headerlink" href="#digits" title="Permalink to this headline">¶</a></h1>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\Digits</span></tt> validates if a given value contains only digits.</p>
<div class="section" id="supported-options-for-zend-validator-digits">
<span id="zend-validator-set-digits-options"></span><h2>Supported options for Zend\Validator\Digits<a class="headerlink" href="#supported-options-for-zend-validator-digits" title="Permalink to this headline">¶</a></h2>
<p>There are no additional options for <tt class="docutils literal"><span class="pre">Zend\Validator\Digits</span></tt>:</p>
</div>
<div class="section" id="validating-digits">
<span id="zend-validator-set-digits-basic"></span><h2>Validating digits<a class="headerlink" href="#validating-digits" title="Permalink to this headline">¶</a></h2>
<p>To validate if a given value contains only digits and no other characters, simply call the validator like shown in
this example:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Digits</span><span class="p">();</span>

<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s2">&quot;1234567890&quot;</span><span class="p">);</span> <span class="c1">// returns true</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="mi">1234</span><span class="p">);</span>         <span class="c1">// returns true</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;1a234&#39;</span><span class="p">);</span>      <span class="c1">// returns false</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Validating numbers</strong></p>
<p class="last">When you want to validate numbers or numeric values, be aware that this validator only validates digits. This
means that any other sign like a thousand separator or a comma will not pass this validator. In this case you
should use <tt class="docutils literal"><span class="pre">Zend\I18n\Validator\Int</span></tt> or <tt class="docutils literal"><span class="pre">Zend\I18n\Validator\Float</span></tt>.</p>
</div>
</div>
</div>
<div class="section" id="emailaddress">
<span id="zend-validator-set-email-address"></span><h1>EmailAddress<a class="headerlink" href="#emailaddress" title="Permalink to this headline">¶</a></h1>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\EmailAddress</span></tt> allows you to validate an email address. The validator first splits the email
address on local-part &#64; hostname and attempts to match these against known specifications for email addresses and
hostnames.</p>
<div class="section" id="zend-validator-set-email-address-basic">
<span id="id9"></span><h2>Basic usage<a class="headerlink" href="#zend-validator-set-email-address-basic" title="Permalink to this headline">¶</a></h2>
<p>A basic example of usage is below:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\EmailAddress</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$email</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// email appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// email is invalid; print the reasons</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">getMessages</span><span class="p">()</span> <span class="k">as</span> <span class="nv">$message</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">$message</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>This will match the email address <tt class="docutils literal"><span class="pre">$email</span></tt> and on failure populate <tt class="docutils literal"><span class="pre">getMessages()</span></tt> with useful error messages.</p>
</div>
<div class="section" id="options-for-validating-email-addresses">
<span id="zend-validator-set-email-address-options"></span><h2>Options for validating Email Addresses<a class="headerlink" href="#options-for-validating-email-addresses" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\EmailAddress</span></tt> supports several options which can either be set at initiation, by giving an array
with the related options, or afterwards, by using <tt class="docutils literal"><span class="pre">setOptions()</span></tt>. The following options are supported:</p>
<ul class="simple">
<li><strong>allow</strong>: Defines which type of domain names are accepted. This option is used in conjunction with the hostname
option to set the hostname validator. For more information about possible values of this option, look at
<a class="reference internal" href="#zend-validator-set-hostname"><em>Hostname</em></a> and possible <tt class="docutils literal"><span class="pre">ALLOW</span></tt>* constants. This option defaults to
<tt class="docutils literal"><span class="pre">ALLOW_DNS</span></tt>.</li>
<li><strong>deep</strong>: Defines if the servers MX records should be verified by a deep check. When this option is set to
<tt class="docutils literal"><span class="pre">TRUE</span></tt> then additionally to MX records also the A, A6 and <tt class="docutils literal"><span class="pre">AAAA</span></tt> records are used to verify if the server
accepts emails. This option defaults to <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</li>
<li><strong>domain</strong>: Defines if the domain part should be checked. When this option is set to <tt class="docutils literal"><span class="pre">FALSE</span></tt>, then only the
local part of the email address will be checked. In this case the hostname validator will not be called. This
option defaults to <tt class="docutils literal"><span class="pre">TRUE</span></tt>.</li>
<li><strong>hostname</strong>: Sets the hostname validator with which the domain part of the email address will be validated.</li>
<li><strong>mx</strong>: Defines if the MX records from the server should be detected. If this option is defined to <tt class="docutils literal"><span class="pre">TRUE</span></tt> then
the MX records are used to verify if the server accepts emails. This option defaults to <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</li>
</ul>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\EmailAddress</span><span class="p">();</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">setOptions</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;domain&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">));</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="complex-local-parts">
<span id="zend-validator-set-email-address-complexlocal"></span><h2>Complex local parts<a class="headerlink" href="#complex-local-parts" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\EmailAddress</span></tt> will match any valid email address according to RFC2822. For example, valid emails
include <strong>bob&#64;domain.com</strong>, <strong>bob+jones&#64;domain.us</strong>, <strong>&#8220;bob&#64;jones&#8221;&#64;domain.com</strong> and <strong>&#8220;bob jones&#8221;&#64;domain.com</strong></p>
<p>Some obsolete email formats will not currently validate (e.g. carriage returns or a &#8220;\&#8221; character in an email
address).</p>
</div>
<div class="section" id="validating-only-the-local-part">
<span id="zend-validator-set-email-address-purelocal"></span><h2>Validating only the local part<a class="headerlink" href="#validating-only-the-local-part" title="Permalink to this headline">¶</a></h2>
<p>If you need <tt class="docutils literal"><span class="pre">Zend\Validator\EmailAddress</span></tt> to check only the local part of an email address, and want to disable
validation of the hostname, you can set the <tt class="docutils literal"><span class="pre">domain</span></tt> option to <tt class="docutils literal"><span class="pre">FALSE</span></tt>. This forces
<tt class="docutils literal"><span class="pre">Zend\Validator\EmailAddress</span></tt> not to validate the hostname part of the email address.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\EmailAddress</span><span class="p">();</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">setOptions</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;domain&#39;</span> <span class="o">=&gt;</span> <span class="k">FALSE</span><span class="p">));</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="validating-different-types-of-hostnames">
<span id="zend-validator-set-email-address-hostnametype"></span><h2>Validating different types of hostnames<a class="headerlink" href="#validating-different-types-of-hostnames" title="Permalink to this headline">¶</a></h2>
<p>The hostname part of an email address is validated against <a class="reference internal" href="#zend-validator-set-hostname"><em>Zend\Validator\Hostname</em></a>. By default only DNS hostnames of the form <tt class="docutils literal"><span class="pre">domain.com</span></tt> are accepted, though if
you wish you can accept IP addresses and Local hostnames too.</p>
<p>To do this you need to instantiate <tt class="docutils literal"><span class="pre">Zend\Validator\EmailAddress</span></tt> passing a parameter to indicate the type of
hostnames you want to accept. More details are included in <tt class="docutils literal"><span class="pre">Zend\Validator\Hostname</span></tt>, though an example of how to
accept both DNS and Local hostnames appears below:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\EmailAddress</span><span class="p">(</span>
                    <span class="nx">Zend\Validator\Hostname</span><span class="o">::</span><span class="na">ALLOW_DNS</span> <span class="o">|</span>
                    <span class="nx">Zend\Validator\Hostname</span><span class="o">::</span><span class="na">ALLOW_LOCAL</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$email</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// email appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// email is invalid; print the reasons</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">getMessages</span><span class="p">()</span> <span class="k">as</span> <span class="nv">$message</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">$message</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="checking-if-the-hostname-actually-accepts-email">
<span id="zend-validator-set-email-address-checkacceptance"></span><h2>Checking if the hostname actually accepts email<a class="headerlink" href="#checking-if-the-hostname-actually-accepts-email" title="Permalink to this headline">¶</a></h2>
<p>Just because an email address is in the correct format, it doesn&#8217;t necessarily mean that email address actually
exists. To help solve this problem, you can use MX validation to check whether an MX (email) entry exists in the
DNS record for the email&#8217;s hostname. This tells you that the hostname accepts email, but doesn&#8217;t tell you the exact
email address itself is valid.</p>
<p>MX checking is not enabled by default. To enable MX checking you can pass a second parameter to the
<tt class="docutils literal"><span class="pre">Zend\Validator\EmailAddress</span></tt> constructor.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\EmailAddress</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;allow&#39;</span> <span class="o">=&gt;</span> <span class="nx">Zend\Validator\Hostname</span><span class="o">::</span><span class="na">ALLOW_DNS</span><span class="p">,</span>
        <span class="s1">&#39;useMxCheck&#39;</span>    <span class="o">=&gt;</span> <span class="k">true</span>
    <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>MX Check under Windows</strong></p>
<p class="last">Within Windows environments MX checking is only available when <em>PHP</em> 5.3 or above is used. Below <em>PHP</em> 5.3 MX
checking will not be used even if it&#8217;s activated within the options.</p>
</div>
<p>Alternatively you can either pass <tt class="docutils literal"><span class="pre">TRUE</span></tt> or <tt class="docutils literal"><span class="pre">FALSE</span></tt> to <tt class="docutils literal"><span class="pre">setValidateMx()</span></tt> to enable or disable MX validation.</p>
<p>By enabling this setting network functions will be used to check for the presence of an MX record on the hostname
of the email address you wish to validate. Please be aware this will likely slow your script down.</p>
<p>Sometimes validation for MX records returns <tt class="docutils literal"><span class="pre">FALSE</span></tt>, even if emails are accepted. The reason behind this
behaviour is, that servers can accept emails even if they do not provide a MX record. In this case they can provide
A, A6 or <tt class="docutils literal"><span class="pre">AAAA</span></tt> records. To allow <tt class="docutils literal"><span class="pre">Zend\Validator\EmailAddress</span></tt> to check also for these other records, you need
to set deep MX validation. This can be done at initiation by setting the <tt class="docutils literal"><span class="pre">deep</span></tt> option or by using
<tt class="docutils literal"><span class="pre">setOptions()</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\EmailAddress</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;allow&#39;</span> <span class="o">=&gt;</span> <span class="nx">Zend\Validator\Hostname</span><span class="o">::</span><span class="na">ALLOW_DNS</span><span class="p">,</span>
        <span class="s1">&#39;useMxCheck&#39;</span>    <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
        <span class="s1">&#39;useDeepMxCheck&#39;</span>  <span class="o">=&gt;</span> <span class="k">true</span>
    <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>Sometimes it can be useful to get the server&#8217;s MX information which have been used to do further processing. Simply
use <tt class="docutils literal"><span class="pre">getMXRecord()</span></tt> after validation. This method returns the received MX record including weight and sorted by
it.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p><strong>Performance warning</strong></p>
<p class="last">You should be aware that enabling MX check will slow down you script because of the used network functions.
Enabling deep check will slow down your script even more as it searches the given server for 3 additional types.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Disallowed IP addresses</strong></p>
<p class="last">You should note that MX validation is only accepted for external servers. When deep MX validation is enabled,
then local IP addresses like <tt class="docutils literal"><span class="pre">192.168.*</span></tt> or <tt class="docutils literal"><span class="pre">169.254.*</span></tt> are not accepted.</p>
</div>
</div>
<div class="section" id="validating-international-domains-names">
<span id="zend-validator-set-email-address-validatoridn"></span><h2>Validating International Domains Names<a class="headerlink" href="#validating-international-domains-names" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\EmailAddress</span></tt> will also match international characters that exist in some domains. This is known
as International Domain Name (IDN) support. This is enabled by default, though you can disable this by changing the
setting via the internal <tt class="docutils literal"><span class="pre">Zend\Validator\Hostname</span></tt> object that exists within <tt class="docutils literal"><span class="pre">Zend\Validator\EmailAddress</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">getHostnameValidator</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setValidateIdn</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>More information on the usage of <tt class="docutils literal"><span class="pre">setValidateIdn()</span></tt> appears in the <tt class="docutils literal"><span class="pre">Zend\Validator\Hostname</span></tt> documentation.</p>
<p>Please note IDNs are only validated if you allow DNS hostnames to be validated.</p>
</div>
<div class="section" id="validating-top-level-domains">
<span id="zend-validator-set-email-address-validatortld"></span><h2>Validating Top Level Domains<a class="headerlink" href="#validating-top-level-domains" title="Permalink to this headline">¶</a></h2>
<p>By default a hostname will be checked against a list of known TLDs. This is enabled by default, though you can
disable this by changing the setting via the internal <tt class="docutils literal"><span class="pre">Zend\Validator\Hostname</span></tt> object that exists within
<tt class="docutils literal"><span class="pre">Zend\Validator\EmailAddress</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">getHostnameValidator</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">setValidateTld</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>More information on the usage of <tt class="docutils literal"><span class="pre">setValidateTld()</span></tt> appears in the <tt class="docutils literal"><span class="pre">Zend\Validator\Hostname</span></tt> documentation.</p>
<p>Please note TLDs are only validated if you allow DNS hostnames to be validated.</p>
</div>
<div class="section" id="setting-messages">
<span id="zend-validator-set-email-address-setmessage"></span><h2>Setting messages<a class="headerlink" href="#setting-messages" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\EmailAddress</span></tt> makes also use of <tt class="docutils literal"><span class="pre">Zend\Validator\Hostname</span></tt> to check the hostname part of a given
email address. As with Zend Framework 1.10 you can simply set messages for <tt class="docutils literal"><span class="pre">Zend\Validator\Hostname</span></tt> from within
<tt class="docutils literal"><span class="pre">Zend\Validator\EmailAddress</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\EmailAddress</span><span class="p">();</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">setMessages</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="nx">Zend\Validator\Hostname</span><span class="o">::</span><span class="na">UNKNOWN_TLD</span> <span class="o">=&gt;</span> <span class="s1">&#39;I don&#39;</span><span class="nx">t</span> <span class="nx">know</span> <span class="nx">the</span> <span class="nx">TLD</span> <span class="nx">you</span> <span class="nx">gave</span><span class="err">&#39;</span>
    <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>Before Zend Framework 1.10 you had to attach the messages to your own <tt class="docutils literal"><span class="pre">Zend\Validator\Hostname</span></tt>, and then set
this validator within <tt class="docutils literal"><span class="pre">Zend\Validator\EmailAddress</span></tt> to get your own messages returned.</p>
</div>
</div>
<div class="section" id="greaterthan">
<span id="zend-validator-set-greaterthan"></span><h1>GreaterThan<a class="headerlink" href="#greaterthan" title="Permalink to this headline">¶</a></h1>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\GreaterThan</span></tt> allows you to validate if a given value is greater than a minimum border value.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Zend\Validator\GreaterThan supports only number validation</strong></p>
<p class="last">It should be noted that <tt class="docutils literal"><span class="pre">Zend\Validator\GreaterThan</span></tt> supports only the validation of numbers. Strings or dates
can not be validated with this validator.</p>
</div>
<div class="section" id="supported-options-for-zend-validator-greaterthan">
<span id="zend-validator-set-greaterthan-options"></span><h2>Supported options for Zend\Validator\GreaterThan<a class="headerlink" href="#supported-options-for-zend-validator-greaterthan" title="Permalink to this headline">¶</a></h2>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Validator\GreaterThan</span></tt>:</p>
<ul class="simple">
<li><strong>inclusive</strong>: Defines if the validation is inclusive the minimum border value or exclusive. It defaults to
<tt class="docutils literal"><span class="pre">FALSE</span></tt>.</li>
<li><strong>min</strong>: Sets the minimum allowed value.</li>
</ul>
</div>
<div class="section" id="zend-validator-set-greaterthan-basic">
<span id="id10"></span><h2>Basic usage<a class="headerlink" href="#zend-validator-set-greaterthan-basic" title="Permalink to this headline">¶</a></h2>
<p>To validate if a given value is greater than a defined border simply use the following example.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$valid</span>  <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\GreaterThan</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;min&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">));</span>
<span class="nv">$value</span>  <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>
<span class="nv">$return</span> <span class="o">=</span> <span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$value</span><span class="p">);</span>
<span class="c1">// returns false</span>
</pre></div>
</td></tr></table></div>
<p>The above example returns <tt class="docutils literal"><span class="pre">TRUE</span></tt> for all values which are greater than 10.</p>
</div>
<div class="section" id="validation-inclusive-the-border-value">
<span id="zend-validator-set-greaterthan-inclusively"></span><h2>Validation inclusive the border value<a class="headerlink" href="#validation-inclusive-the-border-value" title="Permalink to this headline">¶</a></h2>
<p>Sometimes it is useful to validate a value by including the border value. See the following example:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$valid</span>  <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\GreaterThan</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;min&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s1">&#39;inclusive&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span>
    <span class="p">)</span>
<span class="p">);</span>
<span class="nv">$value</span>  <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$value</span><span class="p">);</span>
<span class="c1">// returns true</span>
</pre></div>
</td></tr></table></div>
<p>The example is almost equal to our first example but we included the border value. Now the value &#8216;10&#8217; is allowed
and will return <tt class="docutils literal"><span class="pre">TRUE</span></tt>.</p>
</div>
</div>
<div class="section" id="hex">
<span id="zend-validator-set-hex"></span><h1>Hex<a class="headerlink" href="#hex" title="Permalink to this headline">¶</a></h1>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\Hex</span></tt> allows you to validate if a given value contains only hexadecimal characters. These are all
characters from <strong>0 to 9</strong> and <strong>A to F</strong> case insensitive. There is no length limitation for the input you want to
validate.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Hex</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;123ABC&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// value contains only hex chars</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// false</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Invalid characters</strong></p>
<p class="last">All other characters will return false, including whitespace and decimal point. Also unicode zeros and numbers
from other scripts than latin will not be treated as valid.</p>
</div>
<div class="section" id="supported-options-for-zend-validator-hex">
<span id="zend-validator-set-hex-options"></span><h2>Supported options for Zend\Validator\Hex<a class="headerlink" href="#supported-options-for-zend-validator-hex" title="Permalink to this headline">¶</a></h2>
<p>There are no additional options for <tt class="docutils literal"><span class="pre">Zend\Validator\Hex</span></tt>:</p>
</div>
</div>
<div class="section" id="hostname">
<span id="zend-validator-set-hostname"></span><h1>Hostname<a class="headerlink" href="#hostname" title="Permalink to this headline">¶</a></h1>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\Hostname</span></tt> allows you to validate a hostname against a set of known specifications. It is possible
to check for three different types of hostnames: a <em>DNS</em> Hostname (i.e. <tt class="docutils literal"><span class="pre">domain.com</span></tt>), IP address (i.e. 1.2.3.4),
and Local hostnames (i.e. localhost). By default only <em>DNS</em> hostnames are matched.</p>
<div class="section" id="supported-options-for-zend-validator-hostname">
<span id="zend-validator-set-hostname-options"></span><h2>Supported options for Zend\Validator\Hostname<a class="headerlink" href="#supported-options-for-zend-validator-hostname" title="Permalink to this headline">¶</a></h2>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Validator\Hostname</span></tt>:</p>
<ul class="simple">
<li><strong>allow</strong>: Defines the sort of hostname which is allowed to be used. See <a class="reference internal" href="#zend-validator-set-hostname-types"><em>Hostname types</em></a> for details.</li>
<li><strong>idn</strong>: Defines if <em>IDN</em> domains are allowed or not. This option defaults to <tt class="docutils literal"><span class="pre">TRUE</span></tt>.</li>
<li><strong>ip</strong>: Allows to define a own IP validator. This option defaults to a new instance of <tt class="docutils literal"><span class="pre">Zend\Validator\Ip</span></tt>.</li>
<li><strong>tld</strong>: Defines if <em>TLD</em>s are validated. This option defaults to <tt class="docutils literal"><span class="pre">TRUE</span></tt>.</li>
</ul>
</div>
<div class="section" id="zend-validator-set-hostname-basic">
<span id="id11"></span><h2>Basic usage<a class="headerlink" href="#zend-validator-set-hostname-basic" title="Permalink to this headline">¶</a></h2>
<p>A basic example of usage is below:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Hostname</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$hostname</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// hostname appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// hostname is invalid; print the reasons</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">getMessages</span><span class="p">()</span> <span class="k">as</span> <span class="nv">$message</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">$message</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>This will match the hostname <tt class="docutils literal"><span class="pre">$hostname</span></tt> and on failure populate <tt class="docutils literal"><span class="pre">getMessages()</span></tt> with useful error messages.</p>
</div>
<div class="section" id="zend-validator-set-hostname-types">
<span id="id12"></span><h2>Validating different types of hostnames<a class="headerlink" href="#zend-validator-set-hostname-types" title="Permalink to this headline">¶</a></h2>
<p>You may find you also want to match IP addresses, Local hostnames, or a combination of all allowed types. This can
be done by passing a parameter to <tt class="docutils literal"><span class="pre">Zend\Validator\Hostname</span></tt> when you instantiate it. The parameter should be an
integer which determines what types of hostnames are allowed. You are encouraged to use the
<tt class="docutils literal"><span class="pre">Zend\Validator\Hostname</span></tt> constants to do this.</p>
<p>The <tt class="docutils literal"><span class="pre">Zend\Validator\Hostname</span></tt> constants are: <tt class="docutils literal"><span class="pre">ALLOW_DNS</span></tt> to allow only <em>DNS</em> hostnames, <tt class="docutils literal"><span class="pre">ALLOW_IP</span></tt> to allow
IP addresses, <tt class="docutils literal"><span class="pre">ALLOW_LOCAL</span></tt> to allow local network names, <tt class="docutils literal"><span class="pre">ALLOW_URI</span></tt> to allow <a class="reference external" href="http://tools.ietf.org/html/rfc3986">RFC3986</a>-compliant addresses,
and <tt class="docutils literal"><span class="pre">ALLOW_ALL</span></tt> to allow all four above types.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Additional Information on ALLOW_URI</strong></p>
<p class="last"><tt class="docutils literal"><span class="pre">ALLOW_URI</span></tt> allows to check hostnames according to <a class="reference external" href="http://tools.ietf.org/html/rfc3986">RFC3986</a>. These are registered names which are used by
<em>WINS</em>, NetInfo and also local hostnames like those defined within your <tt class="docutils literal"><span class="pre">.hosts</span></tt> file.</p>
</div>
<p>To just check for IP addresses you can use the example below:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Hostname</span><span class="p">(</span><span class="nx">Zend\Validator\Hostname</span><span class="o">::</span><span class="na">ALLOW_IP</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$hostname</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// hostname appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// hostname is invalid; print the reasons</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">getMessages</span><span class="p">()</span> <span class="k">as</span> <span class="nv">$message</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">$message</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>As well as using <tt class="docutils literal"><span class="pre">ALLOW_ALL</span></tt> to accept all common hostnames types you can combine these types to allow for
combinations. For example, to accept <em>DNS</em> and Local hostnames instantiate your <tt class="docutils literal"><span class="pre">Zend\Validator\Hostname</span></tt> class
as so:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Hostname</span><span class="p">(</span><span class="nx">Zend\Validator\Hostname</span><span class="o">::</span><span class="na">ALLOW_DNS</span> <span class="o">|</span>
                                        <span class="nx">Zend\Validator\Hostname</span><span class="o">::</span><span class="na">ALLOW_IP</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="zend-validator-set-hostname-idn">
<span id="id13"></span><h2>Validating International Domains Names<a class="headerlink" href="#zend-validator-set-hostname-idn" title="Permalink to this headline">¶</a></h2>
<p>Some Country Code Top Level Domains (ccTLDs), such as &#8216;de&#8217; (Germany), support international characters in domain
names. These are known as International Domain Names (<em>IDN</em>). These domains can be matched by
<tt class="docutils literal"><span class="pre">Zend\Validator\Hostname</span></tt> via extended characters that are used in the validation process.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>IDN domains</strong></p>
<p class="last">Until now more than 50 ccTLDs support <em>IDN</em> domains.</p>
</div>
<p>To match an <em>IDN</em> domain it&#8217;s as simple as just using the standard Hostname validator since <em>IDN</em> matching is
enabled by default. If you wish to disable <em>IDN</em> validation this can be done by either passing a parameter to the
<tt class="docutils literal"><span class="pre">Zend\Validator\Hostname</span></tt> constructor or via the <tt class="docutils literal"><span class="pre">setValidateIdn()</span></tt> method.</p>
<p>You can disable <em>IDN</em> validation by passing a second parameter to the <tt class="docutils literal"><span class="pre">Zend\Validator\Hostname</span></tt> constructor in
the following way.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span>
    <span class="k">new</span> <span class="nx">Zend\Validator\Hostname</span><span class="p">(</span>
        <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;allow&#39;</span> <span class="o">=&gt;</span> <span class="nx">Zend\Validator\Hostname</span><span class="o">::</span><span class="na">ALLOW_DNS</span><span class="p">,</span>
            <span class="s1">&#39;useIdnCheck&#39;</span>   <span class="o">=&gt;</span> <span class="k">false</span>
        <span class="p">)</span>
    <span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>Alternatively you can either pass <tt class="docutils literal"><span class="pre">TRUE</span></tt> or <tt class="docutils literal"><span class="pre">FALSE</span></tt> to <tt class="docutils literal"><span class="pre">setValidateIdn()</span></tt> to enable or disable <em>IDN</em>
validation. If you are trying to match an <em>IDN</em> hostname which isn&#8217;t currently supported it is likely it will fail
validation if it has any international characters in it. Where a ccTLD file doesn&#8217;t exist in
<tt class="docutils literal"><span class="pre">Zend/Validator/Hostname</span></tt> specifying the additional characters a normal hostname validation is performed.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>IDN validation</strong></p>
<p class="last">Please note that <em>IDN</em>s are only validated if you allow <em>DNS</em> hostnames to be validated.</p>
</div>
</div>
<div class="section" id="zend-validator-set-hostname-tld">
<span id="id14"></span><h2>Validating Top Level Domains<a class="headerlink" href="#zend-validator-set-hostname-tld" title="Permalink to this headline">¶</a></h2>
<p>By default a hostname will be checked against a list of known <em>TLD</em>s. If this functionality is not required it
can be disabled in much the same way as disabling <em>IDN</em> support. You can disable <em>TLD</em> validation by passing a
third parameter to the <tt class="docutils literal"><span class="pre">Zend\Validator\Hostname</span></tt> constructor. In the example below we are supporting <em>IDN</em>
validation via the second parameter.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span>
    <span class="k">new</span> <span class="nx">Zend\Validator\Hostname</span><span class="p">(</span>
        <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;allow&#39;</span> <span class="o">=&gt;</span> <span class="nx">Zend\Validator\Hostname</span><span class="o">::</span><span class="na">ALLOW_DNS</span><span class="p">,</span>
            <span class="s1">&#39;useIdnCheck&#39;</span>   <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
            <span class="s1">&#39;useTldCheck&#39;</span>   <span class="o">=&gt;</span> <span class="k">false</span>
        <span class="p">)</span>
    <span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>Alternatively you can either pass <tt class="docutils literal"><span class="pre">TRUE</span></tt> or <tt class="docutils literal"><span class="pre">FALSE</span></tt> to <tt class="docutils literal"><span class="pre">setValidateTld()</span></tt> to enable or disable <em>TLD</em>
validation.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>TLD validation</strong></p>
<p class="last">Please note <em>TLD</em>s are only validated if you allow <em>DNS</em> hostnames to be validated.</p>
</div>
</div>
</div>
<div class="section" id="iban">
<span id="zend-validator-set-iban"></span><h1>Iban<a class="headerlink" href="#iban" title="Permalink to this headline">¶</a></h1>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\Iban</span></tt> validates if a given value could be a <em>IBAN</em> number. <em>IBAN</em> is the abbreviation for
&#8220;International Bank Account Number&#8221;.</p>
<div class="section" id="supported-options-for-zend-validator-iban">
<span id="zend-validator-set-iban-options"></span><h2>Supported options for Zend\Validator\Iban<a class="headerlink" href="#supported-options-for-zend-validator-iban" title="Permalink to this headline">¶</a></h2>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Validator\Iban</span></tt>:</p>
<ul class="simple">
<li><strong>locale</strong>: Sets the locale which is used to get the <em>IBAN</em> format for validation.</li>
</ul>
</div>
<div class="section" id="iban-validation">
<span id="zend-validator-set-iban-basic"></span><h2>IBAN validation<a class="headerlink" href="#iban-validation" title="Permalink to this headline">¶</a></h2>
<p><em>IBAN</em> numbers are always related to a country. This means that different countries use different formats for their
<em>IBAN</em> numbers. This is the reason why <em>IBAN</em> numbers always need a locale. By knowing this we already know how to
use <tt class="docutils literal"><span class="pre">Zend\Validator\Iban</span></tt>.</p>
<div class="section" id="application-wide-locale">
<span id="zend-validator-set-iban-basic-application"></span><h3>Application wide locale<a class="headerlink" href="#application-wide-locale" title="Permalink to this headline">¶</a></h3>
<p>We could use the application wide locale. This means that when no option is given at initiation,
<tt class="docutils literal"><span class="pre">Zend\Validator\Iban</span></tt> searches for the application wide locale. See the following code snippet:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// within bootstrap</span>
<span class="nx">Locale</span><span class="o">::</span><span class="na">setDefault</span><span class="p">(</span><span class="s1">&#39;de_AT&#39;</span><span class="p">);</span>

<span class="c1">// within the module</span>
<span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Iban</span><span class="p">();</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;AT611904300234573201&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// IBAN appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// IBAN is not valid</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Application wide locale</strong></p>
<p class="last">Of course this works only when an application wide locale was set within the registry previously. Otherwise
<tt class="docutils literal"><span class="pre">Locale</span></tt> will try to use the locale which the client sends or, when non has been send, it uses the environment
locale. Be aware that this can lead to unwanted behaviour within the validation.</p>
</div>
</div>
<div class="section" id="ungreedy-iban-validation">
<span id="zend-validator-set-iban-basic-false"></span><h3>Ungreedy IBAN validation<a class="headerlink" href="#ungreedy-iban-validation" title="Permalink to this headline">¶</a></h3>
<p>Sometime it is useful, just to validate if the given value <strong>is</strong> a <em>IBAN</em> number or not. This means that you don&#8217;t
want to validate it against a defined country. This can be done by using a <tt class="docutils literal"><span class="pre">FALSE</span></tt> as locale.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Iban</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;locale&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">));</span>
<span class="c1">// Note: you can also set a FALSE as single parameter</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;AT611904300234573201&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// IBAN appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// IBAN is not valid</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>So <strong>any</strong> <em>IBAN</em> number will be valid. Note that this should not be done when you accept only accounts from a
single country.</p>
</div>
<div class="section" id="region-aware-iban-validation">
<span id="zend-validator-set-iban-basic-aware"></span><h3>Region aware IBAN validation<a class="headerlink" href="#region-aware-iban-validation" title="Permalink to this headline">¶</a></h3>
<p>To validate against a defined country, you just need to give the wished locale. You can do this by the option
<tt class="docutils literal"><span class="pre">locale</span></tt> and also afterwards by using <tt class="docutils literal"><span class="pre">setLocale()</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Iban</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;locale&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;de_AT&#39;</span><span class="p">));</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;AT611904300234573201&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// IBAN appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// IBAN is not valid</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Use full qualified locales</strong></p>
<p class="last">You must give a full qualified locale, otherwise the country could not be detected correct because languages are
spoken in multiple countries.</p>
</div>
</div>
</div>
</div>
<div class="section" id="zend-validator-set-identical">
<span id="identical"></span><h1>Identical<a class="headerlink" href="#zend-validator-set-identical" title="Permalink to this headline">¶</a></h1>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\Identical</span></tt> allows you to validate if a given value is identical with an set haystack.</p>
<div class="section" id="supported-options-for-zend-validator-identical">
<span id="zend-validator-set-identical-options"></span><h2>Supported options for Zend\Validator\Identical<a class="headerlink" href="#supported-options-for-zend-validator-identical" title="Permalink to this headline">¶</a></h2>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Validator\Identical</span></tt>:</p>
<ul class="simple">
<li><strong>strict</strong>: Defines if the validation should be done strict. The default value is <tt class="docutils literal"><span class="pre">TRUE</span></tt>.</li>
<li><strong>token</strong>: Sets the token with which the input will be validated against.</li>
</ul>
</div>
<div class="section" id="zend-validator-set-identical-basic">
<span id="id15"></span><h2>Basic usage<a class="headerlink" href="#zend-validator-set-identical-basic" title="Permalink to this headline">¶</a></h2>
<p>To validate if two values are identical you need to set the origin value as haystack. See the following example
which validates two strings.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$valid</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Identical</span><span class="p">(</span><span class="s1">&#39;origin&#39;</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>The validation will only then return <tt class="docutils literal"><span class="pre">TRUE</span></tt> when both values are 100% identical. In our example, when <tt class="docutils literal"><span class="pre">$value</span></tt>
is &#8216;origin&#8217;.</p>
<p>You can set the wished token also afterwards by using the method <tt class="docutils literal"><span class="pre">setToken()</span></tt> and <tt class="docutils literal"><span class="pre">getToken()</span></tt> to get the
actual set token.</p>
</div>
<div class="section" id="zend-validator-set-identical-types">
<span id="identical-objects"></span><h2>Identical objects<a class="headerlink" href="#zend-validator-set-identical-types" title="Permalink to this headline">¶</a></h2>
<p>Of course <tt class="docutils literal"><span class="pre">Zend\Validator\Identical</span></tt> can not only validate strings, but also any other variable type like
Boolean, Integer, Float, Array or even Objects. As already noted Haystack and Value must be identical.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$valid</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Identical</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$input</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// input appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// input is invalid</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Type comparison</strong></p>
<p class="last">You should be aware that also the type of a variable is used for validation. This means that the string <strong>&#8216;3&#8217;</strong>
is not identical with the integer <strong>3</strong>. When you want such a non strict validation you must set the <tt class="docutils literal"><span class="pre">strict</span></tt>
option.</p>
</div>
</div>
<div class="section" id="form-elements">
<span id="zend-validator-set-identical-formelements"></span><h2>Form elements<a class="headerlink" href="#form-elements" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\Identical</span></tt> supports also the comparison of form elements. This can be done by using the element&#8217;s
name as <tt class="docutils literal"><span class="pre">token</span></tt>. See the following example:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$form</span><span class="o">-&gt;</span><span class="na">addElement</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">,</span> <span class="s1">&#39;elementOne&#39;</span><span class="p">);</span>
<span class="nv">$form</span><span class="o">-&gt;</span><span class="na">addElement</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">,</span> <span class="s1">&#39;elementTwo&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;validators&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="k">array</span><span class="p">(</span><span class="s1">&#39;identical&#39;</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;token&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;elementOne&#39;</span><span class="p">))</span>
    <span class="p">)</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div>
<p>By using the elements name from the first element as <tt class="docutils literal"><span class="pre">token</span></tt> for the second element, the validator validates if
the second element is equal with the first element. In the case your user does not enter two identical values, you
will get an validation error.</p>
</div>
<div class="section" id="strict-validation">
<span id="zend-validator-set-identical-strict"></span><h2>Strict validation<a class="headerlink" href="#strict-validation" title="Permalink to this headline">¶</a></h2>
<p>As mentioned before <tt class="docutils literal"><span class="pre">Zend\Validator\Identical</span></tt> validates tokens strict. You can change this behaviour by using
the <tt class="docutils literal"><span class="pre">strict</span></tt> option. The default value for this property is <tt class="docutils literal"><span class="pre">TRUE</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$valid</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Identical</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;token&#39;</span> <span class="o">=&gt;</span> <span class="mi">123</span><span class="p">,</span> <span class="s1">&#39;strict&#39;</span> <span class="o">=&gt;</span> <span class="k">FALSE</span><span class="p">));</span>
<span class="nv">$input</span> <span class="o">=</span> <span class="s1">&#39;123&#39;</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$input</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// input appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// input is invalid</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>The difference to the previous example is that the validation returns in this case <tt class="docutils literal"><span class="pre">TRUE</span></tt>, even if you compare a
integer with string value as long as the content is identical but not the type.</p>
<p>For convenience you can also use <tt class="docutils literal"><span class="pre">setStrict()</span></tt> and <tt class="docutils literal"><span class="pre">getStrict()</span></tt>.</p>
</div>
<div class="section" id="configuration">
<span id="zend-validator-set-identical-configuration"></span><h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>As all other validators also <tt class="docutils literal"><span class="pre">Zend\Validator\Identical</span></tt> supports the usage of configuration settings as input
parameter. This means that you can configure this validator with an <tt class="docutils literal"><span class="pre">Traversable</span></tt> instance.</p>
<p>But this adds one case which you have to be aware. When you are using an array as haystack then you should wrap it
within an &#8216;<tt class="docutils literal"><span class="pre">token</span></tt>&#8216; key when it could contain only one element.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$valid</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Identical</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;token&#39;</span> <span class="o">=&gt;</span> <span class="mi">123</span><span class="p">));</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$input</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// input appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// input is invalid</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>The above example validates the integer 123. The reason for this special case is, that you can configure the token
which has to be used by giving the &#8216;<tt class="docutils literal"><span class="pre">token</span></tt>&#8216; key.</p>
<p>So, when your haystack contains one element and this element is named &#8216;<tt class="docutils literal"><span class="pre">token</span></tt>&#8216; then you have to wrap it like
shown in the example below.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$valid</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Identical</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;token&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;token&#39;</span> <span class="o">=&gt;</span> <span class="mi">123</span><span class="p">)));</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$input</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// input appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// input is invalid</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="inarray">
<span id="zend-validator-set-in-array"></span><h1>InArray<a class="headerlink" href="#inarray" title="Permalink to this headline">¶</a></h1>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\InArray</span></tt> allows you to validate if a given value is contained within an array. It is also able to validate multidimensional arrays.</p>
<div class="section" id="supported-options-for-zend-validator-inarray">
<span id="zend-validator-set-in-array-options"></span><h2>Supported options for Zend\Validator\InArray<a class="headerlink" href="#supported-options-for-zend-validator-inarray" title="Permalink to this headline">¶</a></h2>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Validator\InArray</span></tt>:</p>
<ul>
<li><p class="first"><strong>haystack</strong>: Sets the haystack for the validation.</p>
</li>
<li><p class="first"><strong>recursive</strong>: Defines if the validation should be done recursive. This option defaults to <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</p>
</li>
<li><p class="first"><strong>strict</strong>: Three modes of comparison are offered owing to an often overlooked, and potentially dangerous security issue when validating string input from user input.</p>
<ul>
<li><p class="first"><em>InArray::COMPARE_STRICT</em></p>
<blockquote>
<div><p>This is a normal in_array strict comparison that checks value and type.</p>
</div></blockquote>
</li>
<li><p class="first"><em>InArray::COMPARE_NOT_STRICT</em></p>
<blockquote>
<div><p>This is a normal in_array non-strict comparison that checks value only.</p>
</div></blockquote>
</li>
</ul>
</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This mode may give false positives when strings are compared against ints or floats owing to in_array&#8217;s behaviour of converting strings to int in such cases. Therefore, <em>&#8220;foo&#8221;</em> would become <em>0</em>, <em>&#8220;43foo&#8221;</em> would become <em>43</em>, while <em>&#8220;foo43&#8221;</em> would also become <em>0</em>.</p>
</div>
<blockquote>
<div><ul>
<li><p class="first"><em>InArray::COMPARE_NOT_STRICT_AND_PREVENT_STR_TO_INT_VULNERABILITY</em></p>
<blockquote>
<div><p>To remedy the above warning, this mode offers a middle-ground which allows string representations of numbers to be successfully matched against either their string or int counterpart and vice versa. For example: <em>&#8220;0&#8221;</em> will successfully match against <em>0</em>, but <em>&#8220;foo&#8221;</em> would not match against <em>0</em> as would be true in the <tt class="docutils literal"><span class="pre">*COMPARE_NOT_STRICT*</span></tt> mode. This is the safest option to use when validating web input, and is the default.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>Defines if the validation should be done strict. This option defaults to <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</p>
</div>
<div class="section" id="simple-array-validation">
<span id="zend-validator-set-in-array-basic"></span><h2>Simple array validation<a class="headerlink" href="#simple-array-validation" title="Permalink to this headline">¶</a></h2>
<p>The simplest way, is just to give the array which should be searched against at initiation:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\InArray</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;value1&#39;</span><span class="p">,</span> <span class="s1">&#39;value2&#39;</span><span class="p">,</span><span class="o">...</span><span class="s1">&#39;valueN&#39;</span><span class="p">));</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// value found</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// no value found</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>This will behave exactly like <em>PHP</em>&#8216;s <tt class="docutils literal"><span class="pre">in_array()</span></tt> method.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Per default this validation is not strict nor can it validate multidimensional arrays.</p>
</div>
<p>Alternatively, you can define the array to validate against after object construction by using the <tt class="docutils literal"><span class="pre">setHaystack()</span></tt> method.
<tt class="docutils literal"><span class="pre">getHaystack()</span></tt> returns the actual set haystack array.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\InArray</span><span class="p">();</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">setHaystack</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;value1&#39;</span><span class="p">,</span> <span class="s1">&#39;value2&#39;</span><span class="p">,</span><span class="o">...</span><span class="s1">&#39;valueN&#39;</span><span class="p">));</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// value found</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// no value found</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="array-validation-modes">
<span id="zend-validator-set-in-array-strict"></span><h2>Array validation modes<a class="headerlink" href="#array-validation-modes" title="Permalink to this headline">¶</a></h2>
<p>As previously mentioned, there are possible security issues when using the default non-strict comparison mode, so rather than restricting the developer, we&#8217;ve chosen to offer both strict and non-strict comparisons and adding a safer middle-ground.</p>
<p>It&#8217;s possible to set the strict mode at initialisation and afterwards with the <tt class="docutils literal"><span class="pre">setStrict</span></tt> method. <tt class="docutils literal"><span class="pre">InArray::COMPARE_STRICT</span></tt> equates to <tt class="docutils literal"><span class="pre">true</span></tt> and <tt class="docutils literal"><span class="pre">InArray::COMPARE_NOT_STRICT_AND_PREVENT_STR_TO_INT_VULNERABILITY</span></tt> equates to false.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// defaults to InArray::COMPARE_NOT_STRICT_AND_PREVENT_STR_TO_INT_VULNERABILITY</span>
<span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\InArray</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
         <span class="s1">&#39;haystack&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;value1&#39;</span><span class="p">,</span> <span class="s1">&#39;value2&#39;</span><span class="p">,</span><span class="o">...</span><span class="s1">&#39;valueN&#39;</span><span class="p">),</span>
    <span class="p">)</span>
<span class="p">);</span>

<span class="c1">// set strict mode</span>
<span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\InArray</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
         <span class="s1">&#39;haystack&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;value1&#39;</span><span class="p">,</span> <span class="s1">&#39;value2&#39;</span><span class="p">,</span><span class="o">...</span><span class="s1">&#39;valueN&#39;</span><span class="p">),</span>
         <span class="s1">&#39;strict&#39;</span>   <span class="o">=&gt;</span> <span class="nx">InArray</span><span class="o">::</span><span class="na">COMPARE_STRICT</span>  <span class="c1">// equates to ``true``</span>
    <span class="p">)</span>
<span class="p">);</span>

<span class="c1">// set non-strict mode</span>
<span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\InArray</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
         <span class="s1">&#39;haystack&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;value1&#39;</span><span class="p">,</span> <span class="s1">&#39;value2&#39;</span><span class="p">,</span><span class="o">...</span><span class="s1">&#39;valueN&#39;</span><span class="p">),</span>
         <span class="s1">&#39;strict&#39;</span>   <span class="o">=&gt;</span> <span class="nx">InArray</span><span class="o">:</span><span class="nx">COMPARE_NOT_STRICT</span>  <span class="c1">// equates to ``false``</span>
    <span class="p">)</span>
<span class="p">);</span>

<span class="c1">// or</span>

<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">setStrict</span><span class="p">(</span><span class="nx">InArray</span><span class="o">::</span><span class="na">COMPARE_STRICT</span><span class="p">);</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">setStrict</span><span class="p">(</span><span class="nx">InArray</span><span class="o">::</span><span class="na">COMPARE_NOT_STRICT</span><span class="p">);</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">setStrict</span><span class="p">(</span><span class="nx">InArray</span><span class="o">::</span><span class="na">COMPARE_NOT_STRICT_AND_PREVENT_STR_TO_INT_VULNERABILITY</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that the <strong>strict</strong> setting is per default <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</p>
</div>
</div>
<div class="section" id="recursive-array-validation">
<span id="zend-validator-set-in-array-recursive"></span><h2>Recursive array validation<a class="headerlink" href="#recursive-array-validation" title="Permalink to this headline">¶</a></h2>
<p>In addition to <em>PHP</em>&#8216;s <tt class="docutils literal"><span class="pre">in_array()</span></tt> method this validator can also be used to validate multidimensional arrays.</p>
<p>To validate multidimensional arrays you have to set the <strong>recursive</strong> option.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\InArray</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;haystack&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;firstDimension&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;value1&#39;</span><span class="p">,</span> <span class="s1">&#39;value2&#39;</span><span class="p">,</span><span class="o">...</span><span class="s1">&#39;valueN&#39;</span><span class="p">),</span>
            <span class="s1">&#39;secondDimension&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;foo1&#39;</span><span class="p">,</span> <span class="s1">&#39;foo2&#39;</span><span class="p">,</span><span class="o">...</span><span class="s1">&#39;fooN&#39;</span><span class="p">)),</span>
        <span class="s1">&#39;recursive&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span>
    <span class="p">)</span>
<span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// value found</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// no value found</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Your array will then be validated recursively to see if the given value is contained. Additionally you could use
<tt class="docutils literal"><span class="pre">setRecursive()</span></tt> to set this option afterwards and <tt class="docutils literal"><span class="pre">getRecursive()</span></tt> to retrieve it.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\InArray</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;firstDimension&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;value1&#39;</span><span class="p">,</span> <span class="s1">&#39;value2&#39;</span><span class="p">,</span><span class="o">...</span><span class="s1">&#39;valueN&#39;</span><span class="p">),</span>
        <span class="s1">&#39;secondDimension&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;foo1&#39;</span><span class="p">,</span> <span class="s1">&#39;foo2&#39;</span><span class="p">,</span><span class="o">...</span><span class="s1">&#39;fooN&#39;</span><span class="p">)</span>
    <span class="p">)</span>
<span class="p">);</span>

<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">setRecursive</span><span class="p">(</span><span class="k">true</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// value found</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// no value found</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Default setting for recursion</strong></p>
<p class="last">Per default the recursive validation is turned off.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Option keys within the haystack</strong></p>
<p class="last">When you are using the keys &#8216;<tt class="docutils literal"><span class="pre">haystack</span></tt>&#8216;, &#8216;<tt class="docutils literal"><span class="pre">strict</span></tt>&#8216; or &#8216;<tt class="docutils literal"><span class="pre">recursive</span></tt>&#8216; within your haystack, then you must
wrap the <tt class="docutils literal"><span class="pre">haystack</span></tt> key.</p>
</div>
</div>
</div>
<div class="section" id="ip">
<span id="zend-validator-set-ip"></span><h1>Ip<a class="headerlink" href="#ip" title="Permalink to this headline">¶</a></h1>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\Ip</span></tt> allows you to validate if a given value is an IP address. It supports the IPv4, IPv6 and
IPvFeature definitions.</p>
<div class="section" id="supported-options-for-zend-validator-ip">
<span id="zend-validator-set-ip-options"></span><h2>Supported options for Zend\Validator\Ip<a class="headerlink" href="#supported-options-for-zend-validator-ip" title="Permalink to this headline">¶</a></h2>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Validator\Ip</span></tt>:</p>
<ul class="simple">
<li><strong>allowipv4</strong>: Defines if the validator allows IPv4 addresses. This option defaults to <tt class="docutils literal"><span class="pre">TRUE</span></tt>.</li>
<li><strong>allowipv6</strong>: Defines if the validator allows IPv6 addresses. This option defaults to <tt class="docutils literal"><span class="pre">TRUE</span></tt>.</li>
<li><strong>allowipvfuture</strong>: Defines if the validator allows IPvFuture addresses. This option defaults to <tt class="docutils literal"><span class="pre">false</span></tt>.</li>
<li><strong>allowliteral</strong>: Defines if the validator allows IPv6 or IPvFuture with URI literal style (the IP surrounded by
brackets). This option defaults to <tt class="docutils literal"><span class="pre">true</span></tt>.</li>
</ul>
</div>
<div class="section" id="zend-validator-set-ip-basic">
<span id="id16"></span><h2>Basic usage<a class="headerlink" href="#zend-validator-set-ip-basic" title="Permalink to this headline">¶</a></h2>
<p>A basic example of usage is below:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Ip</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$ip</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// ip appears to be valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// ip is invalid; print the reasons</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Invalid IP addresses</strong></p>
<p class="last">Keep in mind that <tt class="docutils literal"><span class="pre">Zend\Validator\Ip</span></tt> only validates IP addresses. Addresses like &#8216;<tt class="docutils literal"><span class="pre">mydomain.com</span></tt>&#8216; or
&#8216;<tt class="docutils literal"><span class="pre">192.168.50.1/index.html</span></tt>&#8216; are no valid IP addresses. They are either hostnames or valid <em>URL</em>s but not IP
addresses.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>IPv6/IPvFuture validation</strong></p>
<p class="last"><tt class="docutils literal"><span class="pre">Zend\Validator\Ip</span></tt> validates IPv6/IPvFuture addresses with regex. The reason is that the filters and methods
from <em>PHP</em> itself don&#8217;t follow the <em>RFC</em>. Many other available classes also don&#8217;t follow it.</p>
</div>
</div>
<div class="section" id="validate-ipv4-or-ipv6-alone">
<span id="zend-validator-set-ip-singletype"></span><h2>Validate IPv4 or IPV6 alone<a class="headerlink" href="#validate-ipv4-or-ipv6-alone" title="Permalink to this headline">¶</a></h2>
<p>Sometimes it&#8217;s useful to validate only one of the supported formats. For example when your network only supports
IPv4. In this case it would be useless to allow IPv6 within this validator.</p>
<p>To limit <tt class="docutils literal"><span class="pre">Zend\Validator\Ip</span></tt> to one protocol you can set the options <tt class="docutils literal"><span class="pre">allowipv4</span></tt> or <tt class="docutils literal"><span class="pre">allowipv6</span></tt> to <tt class="docutils literal"><span class="pre">FALSE</span></tt>.
You can do this either by giving the option to the constructor or by using <tt class="docutils literal"><span class="pre">setOptions()</span></tt> afterwards.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Ip</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;allowipv6&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">));</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$ip</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// ip appears to be valid ipv4 address</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// ip is no ipv4 address</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Default behaviour</strong></p>
<p class="last">The default behaviour which <tt class="docutils literal"><span class="pre">Zend\Validator\Ip</span></tt> follows is to allow both standards.</p>
</div>
</div>
</div>
<div class="section" id="isbn">
<span id="zend-validator-set-isbn"></span><h1>Isbn<a class="headerlink" href="#isbn" title="Permalink to this headline">¶</a></h1>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\Isbn</span></tt> allows you to validate an <em>ISBN-10</em> or <em>ISBN-13</em> value.</p>
<div class="section" id="supported-options-for-zend-validator-isbn">
<span id="zend-validator-set-isbn-options"></span><h2>Supported options for Zend\Validator\Isbn<a class="headerlink" href="#supported-options-for-zend-validator-isbn" title="Permalink to this headline">¶</a></h2>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Validator\Isbn</span></tt>:</p>
<ul class="simple">
<li><strong>separator</strong>: Defines the allowed separator for the <em>ISBN</em> number. It defaults to an empty string.</li>
<li><strong>type</strong>: Defines the allowed type of <em>ISBN</em> numbers. It defaults to <tt class="docutils literal"><span class="pre">Zend\Validator\Isbn::AUTO</span></tt>. For details
take a look at <a class="reference internal" href="#zend-validator-set-isbn-type-explicit"><em>this section</em></a>.</li>
</ul>
</div>
<div class="section" id="zend-validator-set-isbn-basic">
<span id="id17"></span><h2>Basic usage<a class="headerlink" href="#zend-validator-set-isbn-basic" title="Permalink to this headline">¶</a></h2>
<p>A basic example of usage is below:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Isbn</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$isbn</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// isbn is valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// isbn is not valid</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>This will validate any <em>ISBN-10</em> and <em>ISBN-13</em> without separator.</p>
</div>
<div class="section" id="setting-an-explicit-isbn-validation-type">
<span id="zend-validator-set-isbn-type-explicit"></span><h2>Setting an explicit ISBN validation type<a class="headerlink" href="#setting-an-explicit-isbn-validation-type" title="Permalink to this headline">¶</a></h2>
<p>An example of an <em>ISBN</em> type restriction is below:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Isbn</span><span class="p">();</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">setType</span><span class="p">(</span><span class="nx">Zend\Validator\Isbn</span><span class="o">::</span><span class="na">ISBN13</span><span class="p">);</span>
<span class="c1">// OR</span>
<span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Isbn</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="nx">Zend\Validator\Isbn</span><span class="o">::</span><span class="na">ISBN13</span><span class="p">,</span>
<span class="p">));</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$isbn</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// this is a valid ISBN-13 value</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// this is an invalid ISBN-13 value</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>The above will validate only <em>ISBN-13</em> values.</p>
<p>Valid types include:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">Zend\Validator\Isbn::AUTO</span></tt> (default)</li>
<li><tt class="docutils literal"><span class="pre">Zend\Validator\Isbn::ISBN10</span></tt></li>
<li><tt class="docutils literal"><span class="pre">Zend\Validator\Isbn::ISBN13</span></tt></li>
</ul>
</div>
<div class="section" id="specifying-a-separator-restriction">
<span id="zend-validator-set-isbn-separator"></span><h2>Specifying a separator restriction<a class="headerlink" href="#specifying-a-separator-restriction" title="Permalink to this headline">¶</a></h2>
<p>An example of separator restriction is below:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Isbn</span><span class="p">();</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">setSeparator</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">);</span>
<span class="c1">// OR</span>
<span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Isbn</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;separator&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span>
<span class="p">));</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$isbn</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">// this is a valid ISBN with separator</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// this is an invalid ISBN with separator</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Values without separator</strong></p>
<p class="last">This will return <tt class="docutils literal"><span class="pre">FALSE</span></tt> if <tt class="docutils literal"><span class="pre">$isbn</span></tt> doesn&#8217;t contain a separator <strong>or</strong> if it&#8217;s an invalid <em>ISBN</em> value.</p>
</div>
<p>Valid separators include:</p>
<ul class="simple">
<li>&#8220;&#8221; (empty) (default)</li>
<li>&#8220;-&#8221; (hyphen)</li>
<li>&#8221; &#8221; (space)</li>
</ul>
</div>
</div>
<div class="section" id="lessthan">
<span id="zend-validator-set-lessthan"></span><h1>LessThan<a class="headerlink" href="#lessthan" title="Permalink to this headline">¶</a></h1>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\LessThan</span></tt> allows you to validate if a given value is less than a maximum border value.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Zend\Validator\LessThan supports only number validation</strong></p>
<p class="last">It should be noted that <tt class="docutils literal"><span class="pre">Zend\Validator\LessThan</span></tt> supports only the validation of numbers. Strings or dates
can not be validated with this validator.</p>
</div>
<div class="section" id="supported-options-for-zend-validator-lessthan">
<span id="zend-validator-set-lessthan-options"></span><h2>Supported options for Zend\Validator\LessThan<a class="headerlink" href="#supported-options-for-zend-validator-lessthan" title="Permalink to this headline">¶</a></h2>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Validator\LessThan</span></tt>:</p>
<ul class="simple">
<li><strong>inclusive</strong>: Defines if the validation is inclusive the maximum border value or exclusive. It defaults to
<tt class="docutils literal"><span class="pre">FALSE</span></tt>.</li>
<li><strong>max</strong>: Sets the maximum allowed value.</li>
</ul>
</div>
<div class="section" id="zend-validator-set-lessthan-basic">
<span id="id18"></span><h2>Basic usage<a class="headerlink" href="#zend-validator-set-lessthan-basic" title="Permalink to this headline">¶</a></h2>
<p>To validate if a given value is less than a defined border simply use the following example.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$valid</span>  <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\LessThan</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;max&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">));</span>
<span class="nv">$value</span>  <span class="o">=</span> <span class="mi">12</span><span class="p">;</span>
<span class="nv">$return</span> <span class="o">=</span> <span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$value</span><span class="p">);</span>
<span class="c1">// returns false</span>
</pre></div>
</td></tr></table></div>
<p>The above example returns <tt class="docutils literal"><span class="pre">TRUE</span></tt> for all values which are lower than 10.</p>
</div>
<div class="section" id="zend-validator-set-lessthan-inclusively">
<span id="id19"></span><h2>Validation inclusive the border value<a class="headerlink" href="#zend-validator-set-lessthan-inclusively" title="Permalink to this headline">¶</a></h2>
<p>Sometimes it is useful to validate a value by including the border value. See the following example:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$valid</span>  <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\LessThan</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;max&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">,</span>
        <span class="s1">&#39;inclusive&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span>
    <span class="p">)</span>
<span class="p">);</span>
<span class="nv">$value</span>  <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$value</span><span class="p">);</span>
<span class="c1">// returns true</span>
</pre></div>
</td></tr></table></div>
<p>The example is almost equal to our first example but we included the border value. Now the value &#8216;10&#8217; is allowed
and will return <tt class="docutils literal"><span class="pre">TRUE</span></tt>.</p>
</div>
</div>
<div class="section" id="notempty">
<span id="zend-validator-set-notempty"></span><h1>NotEmpty<a class="headerlink" href="#notempty" title="Permalink to this headline">¶</a></h1>
<p>This validator allows you to validate if a given value is not empty. This is often useful when working with form
elements or other user input, where you can use it to ensure required elements have values associated with them.</p>
<div class="section" id="supported-options-for-zend-validator-notempty">
<span id="zend-validator-set-notempty-options"></span><h2>Supported options for Zend\Validator\NotEmpty<a class="headerlink" href="#supported-options-for-zend-validator-notempty" title="Permalink to this headline">¶</a></h2>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Validator\NotEmpty</span></tt>:</p>
<ul class="simple">
<li><strong>type</strong>: Sets the type of validation which will be processed. For details take a look into <a class="reference internal" href="#zend-validator-set-notempty-types"><em>this section</em></a>.</li>
</ul>
</div>
<div class="section" id="default-behaviour-for-zend-validator-notempty">
<span id="zend-validator-set-notempty-default"></span><h2>Default behaviour for Zend\Validator\NotEmpty<a class="headerlink" href="#default-behaviour-for-zend-validator-notempty" title="Permalink to this headline">¶</a></h2>
<p>By default, this validator works differently than you would expect when you&#8217;ve worked with <em>PHP</em>&#8216;s <tt class="docutils literal"><span class="pre">empty()</span></tt>
function. In particular, this validator will evaluate both the integer <strong>0</strong> and string &#8216;<strong>0</strong>&#8216; as empty.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$valid</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\NotEmpty</span><span class="p">();</span>
<span class="nv">$value</span>  <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$valid</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="nv">$value</span><span class="p">);</span>
<span class="c1">// returns false</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Default behaviour differs from PHP</strong></p>
<p class="last">Without providing configuration, <tt class="docutils literal"><span class="pre">Zend\Validator\NotEmpty</span></tt>&#8216;s behaviour differs from <em>PHP</em>.</p>
</div>
</div>
<div class="section" id="changing-behaviour-for-zend-validator-notempty">
<span id="zend-validator-set-notempty-types"></span><h2>Changing behaviour for Zend\Validator\NotEmpty<a class="headerlink" href="#changing-behaviour-for-zend-validator-notempty" title="Permalink to this headline">¶</a></h2>
<p>Some projects have differing opinions of what is considered an &#8220;empty&#8221; value: a string with only whitespace might
be considered empty, or <strong>0</strong> may be considered non-empty (particularly for boolean sequences). To accommodate
differing needs, <tt class="docutils literal"><span class="pre">Zend\Validator\NotEmpty</span></tt> allows you to configure which types should be validated as empty and
which not.</p>
<p>The following types can be handled:</p>
<ul class="simple">
<li><strong>boolean</strong>: Returns <tt class="docutils literal"><span class="pre">FALSE</span></tt> when the boolean value is <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</li>
<li><strong>integer</strong>: Returns <tt class="docutils literal"><span class="pre">FALSE</span></tt> when an integer <strong>0</strong> value is given. Per default this validation is not activated
and returns <tt class="docutils literal"><span class="pre">TRUE</span></tt> on any integer values.</li>
<li><strong>float</strong>: Returns <tt class="docutils literal"><span class="pre">FALSE</span></tt> when an float <strong>0.0</strong> value is given. Per default this validation is not activated
and returns <tt class="docutils literal"><span class="pre">TRUE</span></tt> on any float values.</li>
<li><strong>string</strong>: Returns <tt class="docutils literal"><span class="pre">FALSE</span></tt> when an empty string <strong>&#8216;&#8217;</strong> is given.</li>
<li><strong>zero</strong>: Returns <tt class="docutils literal"><span class="pre">FALSE</span></tt> when the single character zero (<strong>&#8216;0&#8217;</strong>) is given.</li>
<li><strong>empty_array</strong>: Returns <tt class="docutils literal"><span class="pre">FALSE</span></tt> when an empty <strong>array</strong> is given.</li>
<li><strong>null</strong>: Returns <tt class="docutils literal"><span class="pre">FALSE</span></tt> when an <tt class="docutils literal"><span class="pre">NULL</span></tt> value is given.</li>
<li><strong>php</strong>: Returns <tt class="docutils literal"><span class="pre">FALSE</span></tt> on the same reasons where <em>PHP</em> method <tt class="docutils literal"><span class="pre">empty()</span></tt> would return <tt class="docutils literal"><span class="pre">TRUE</span></tt>.</li>
<li><strong>space</strong>: Returns <tt class="docutils literal"><span class="pre">FALSE</span></tt> when an string is given which contains only whitespaces.</li>
<li><strong>object</strong>: Returns <tt class="docutils literal"><span class="pre">TRUE</span></tt>. <tt class="docutils literal"><span class="pre">FALSE</span></tt> will be returned when <tt class="docutils literal"><span class="pre">object</span></tt> is not allowed but an object is given.</li>
<li><strong>object_string</strong>: Returns <tt class="docutils literal"><span class="pre">FALSE</span></tt> when an object is given and it&#8217;s <tt class="docutils literal"><span class="pre">__toString()</span></tt> method returns an empty
string.</li>
<li><strong>object_count</strong>: Returns <tt class="docutils literal"><span class="pre">FALSE</span></tt> when an object is given, it has an <tt class="docutils literal"><span class="pre">Countable</span></tt> interface and it&#8217;s count is
0.</li>
<li><strong>all</strong>: Returns <tt class="docutils literal"><span class="pre">FALSE</span></tt> on all above types.</li>
</ul>
<p>All other given values will return <tt class="docutils literal"><span class="pre">TRUE</span></tt> per default.</p>
<p>There are several ways to select which of the above types are validated. You can give one or multiple types and add
them, you can give an array, you can use constants, or you can give a textual string. See the following examples:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// Returns false on 0</span>
<span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\NotEmpty</span><span class="p">(</span><span class="nx">Zend\Validator\NotEmpty</span><span class="o">::</span><span class="na">INTEGER</span><span class="p">);</span>

<span class="c1">// Returns false on 0 or &#39;0&#39;</span>
<span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\NotEmpty</span><span class="p">(</span>
    <span class="nx">Zend\Validator\NotEmpty</span><span class="o">::</span><span class="na">INTEGER</span> <span class="o">+</span> <span class="nx">Zend\Validator\NotEmpty</span><span class="o">::</span><span class="na">ZERO</span>
<span class="p">);</span>

<span class="c1">// Returns false on 0 or &#39;0&#39;</span>
<span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\NotEmpty</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="nx">Zend\Validator\NotEmpty</span><span class="o">::</span><span class="na">INTEGER</span><span class="p">,</span>
    <span class="nx">Zend\Validator\NotEmpty</span><span class="o">::</span><span class="na">ZERO</span>
<span class="p">));</span>

<span class="c1">// Returns false on 0 or &#39;0&#39;</span>
<span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\NotEmpty</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;integer&#39;</span><span class="p">,</span>
    <span class="s1">&#39;zero&#39;</span><span class="p">,</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div>
<p>You can also provide an instance of <tt class="docutils literal"><span class="pre">Traversable</span></tt> to set the desired types. To set types after instantiation, use
the <tt class="docutils literal"><span class="pre">setType()</span></tt> method.</p>
</div>
</div>
<div class="section" id="postcode">
<span id="zend-validator-set-post-code"></span><h1>PostCode<a class="headerlink" href="#postcode" title="Permalink to this headline">¶</a></h1>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\PostCode</span></tt> allows you to determine if a given value is a valid postal code. Postal codes are
specific to cities, and in some locales termed <em>ZIP</em> codes.</p>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\PostCode</span></tt> knows more than 160 different postal code formats. To select the correct format there
are 2 ways. You can either use a fully qualified locale or you can set your own format manually.</p>
<p>Using a locale is more convenient as Zend Framework already knows the appropriate postal code format for each
locale; however, you need to use the fully qualified locale (one containing a region specifier) to do so. For
instance, the locale &#8220;de&#8221; is a locale but could not be used with <tt class="docutils literal"><span class="pre">Zend\Validator\PostCode</span></tt> as it does not include
the region; &#8220;de_AT&#8221;, however, would be a valid locale, as it specifies the region code (&#8220;AT&#8221;, for Austria).</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\PostCode</span><span class="p">(</span><span class="s1">&#39;de_AT&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>When you don&#8217;t set a locale yourself, then <tt class="docutils literal"><span class="pre">Zend\Validator\PostCode</span></tt> will use the application wide set locale,
or, when there is none, the locale returned by <tt class="docutils literal"><span class="pre">Locale</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="c1">// application wide locale within your bootstrap</span>
<span class="nx">Locale</span><span class="o">::</span><span class="na">setDefault</span><span class="p">(</span><span class="s1">&#39;de_AT&#39;</span><span class="p">);</span>

<span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\PostCode</span><span class="p">();</span>
</pre></div>
</td></tr></table></div>
<p>You can also change the locale afterwards by calling <tt class="docutils literal"><span class="pre">setLocale()</span></tt>. And of course you can get the actual used
locale by calling <tt class="docutils literal"><span class="pre">getLocale()</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\PostCode</span><span class="p">(</span><span class="s1">&#39;de_AT&#39;</span><span class="p">);</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">setLocale</span><span class="p">(</span><span class="s1">&#39;en_GB&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>Postal code formats are simply regular expression strings. When the international postal code format, which is used
by setting the locale, does not fit your needs, then you can also manually set a format by calling <tt class="docutils literal"><span class="pre">setFormat()</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\PostCode</span><span class="p">(</span><span class="s1">&#39;de_AT&#39;</span><span class="p">);</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">setFormat</span><span class="p">(</span><span class="s1">&#39;AT-\d{5}&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Conventions for self defined formats</strong></p>
<p>When using self defined formats you should omit the starting (<tt class="docutils literal"><span class="pre">'/^'</span></tt>) and ending tags (<tt class="docutils literal"><span class="pre">'$/'</span></tt>). They are
attached automatically.</p>
<p class="last">You should also be aware that postcode values are always be validated in a strict way. This means that they have
to be written standalone without additional characters when they are not covered by the format.</p>
</div>
<div class="section" id="constructor-options">
<span id="zend-validator-set-post-code-constructor"></span><h2>Constructor options<a class="headerlink" href="#constructor-options" title="Permalink to this headline">¶</a></h2>
<p>At it&#8217;s most basic, you may pass a string representing a fully qualified locale to the constructor of
<tt class="docutils literal"><span class="pre">Zend\Validator\PostCode</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\PostCode</span><span class="p">(</span><span class="s1">&#39;de_AT&#39;</span><span class="p">);</span>
<span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\PostCode</span><span class="p">(</span><span class="nv">$locale</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>Additionally, you may pass either an array or a <tt class="docutils literal"><span class="pre">Traversable</span></tt> instance to the constructor. When you do so, you
must include either the key &#8220;locale&#8221; or &#8220;format&#8221;; these will be used to set the appropriate values in the validator
object.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\PostCode</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;locale&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;de_AT&#39;</span><span class="p">,</span>
    <span class="s1">&#39;format&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;AT_\d+&#39;</span>
<span class="p">));</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="supported-options-for-zend-validator-postcode">
<span id="zend-validator-set-post-code-options"></span><h2>Supported options for Zend\Validator\PostCode<a class="headerlink" href="#supported-options-for-zend-validator-postcode" title="Permalink to this headline">¶</a></h2>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Validator\PostCode</span></tt>:</p>
<ul class="simple">
<li><strong>format</strong>: Sets a postcode format which will be used for validation of the input.</li>
<li><strong>locale</strong>: Sets a locale from which the postcode will be taken from.</li>
</ul>
</div>
</div>
<div class="section" id="regex">
<span id="zend-validator-set-regex"></span><h1>Regex<a class="headerlink" href="#regex" title="Permalink to this headline">¶</a></h1>
<p>This validator allows you to validate if a given string conforms a defined regular expression.</p>
<div class="section" id="supported-options-for-zend-validator-regex">
<span id="zend-validator-set-regex-options"></span><h2>Supported options for Zend\Validator\Regex<a class="headerlink" href="#supported-options-for-zend-validator-regex" title="Permalink to this headline">¶</a></h2>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Validator\Regex</span></tt>:</p>
<ul class="simple">
<li><strong>pattern</strong>: Sets the regular expression pattern for this validator.</li>
</ul>
</div>
<div class="section" id="validation-with-zend-validator-regex">
<span id="zend-validator-set-regex-basic"></span><h2>Validation with Zend\Validator\Regex<a class="headerlink" href="#validation-with-zend-validator-regex" title="Permalink to this headline">¶</a></h2>
<p>Validation with regular expressions allows to have complicated validations being done without writing a own
validator. The usage of regular expression is quite common and simple. Let&#8217;s look at some examples:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Regex</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;pattern&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/^Test/&#39;</span><span class="p">);</span>

<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s2">&quot;Test&quot;</span><span class="p">);</span> <span class="c1">// returns true</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s2">&quot;Testing&quot;</span><span class="p">);</span> <span class="c1">// returns true</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s2">&quot;Pest&quot;</span><span class="p">);</span> <span class="c1">// returns false</span>
</pre></div>
</td></tr></table></div>
<p>As you can see, the pattern has to be given using the same syntax as for <tt class="docutils literal"><span class="pre">preg_match()</span></tt>. For details about
regular expressions take a look into <a class="reference external" href="http://php.net/manual/en/reference.pcre.pattern.syntax.php">PHP&#8217;s manual about PCRE pattern syntax</a>.</p>
</div>
<div class="section" id="pattern-handling">
<span id="zend-validator-set-regex-handling"></span><h2>Pattern handling<a class="headerlink" href="#pattern-handling" title="Permalink to this headline">¶</a></h2>
<p>It is also possible to set a different pattern afterwards by using <tt class="docutils literal"><span class="pre">setPattern()</span></tt> and to get the actual set
pattern with <tt class="docutils literal"><span class="pre">getPattern()</span></tt>.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Regex</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;pattern&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/^Test/&#39;</span><span class="p">);</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">setPattern</span><span class="p">(</span><span class="s1">&#39;ing$/&#39;</span><span class="p">);</span>

<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s2">&quot;Test&quot;</span><span class="p">);</span> <span class="c1">// returns false</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s2">&quot;Testing&quot;</span><span class="p">);</span> <span class="c1">// returns true</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s2">&quot;Pest&quot;</span><span class="p">);</span> <span class="c1">// returns false</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="sitemap-validators">
<span id="zend-validator-sitemap"></span><h1>Sitemap Validators<a class="headerlink" href="#sitemap-validators" title="Permalink to this headline">¶</a></h1>
<p>The following validators conform to the <a class="reference external" href="http://www.sitemaps.org/protocol.php">Sitemap XML protocol</a>.</p>
<div class="section" id="sitemap-changefreq">
<span id="zend-validator-sitemap-changefreq"></span><h2>Sitemap\Changefreq<a class="headerlink" href="#sitemap-changefreq" title="Permalink to this headline">¶</a></h2>
<p>Validates whether a string is valid for using as a &#8216;changefreq&#8217; element in a Sitemap <em>XML</em> document. Valid values
are: &#8216;always&#8217;, &#8216;hourly&#8217;, &#8216;daily&#8217;, &#8216;weekly&#8217;, &#8216;monthly&#8217;, &#8216;yearly&#8217;, or &#8216;never&#8217;.</p>
<p>Returns <tt class="docutils literal"><span class="pre">TRUE</span></tt> if and only if the value is a string and is equal to one of the frequencies specified above.</p>
</div>
<div class="section" id="sitemap-lastmod">
<span id="zend-validator-sitemap-lastmod"></span><h2>Sitemap\Lastmod<a class="headerlink" href="#sitemap-lastmod" title="Permalink to this headline">¶</a></h2>
<p>Validates whether a string is valid for using as a &#8216;lastmod&#8217; element in a Sitemap <em>XML</em> document. The lastmod
element should contain a <em>W3C</em> date string, optionally discarding information about time.</p>
<p>Returns <tt class="docutils literal"><span class="pre">TRUE</span></tt> if and only if the given value is a string and is valid according to the protocol.</p>
<p class="rubric" id="zend-validator-sitemap-lastmod-example">Sitemap Lastmod Validator</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Sitemap\Lastmod</span><span class="p">();</span>

<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;1999-11-11T22:23:52-02:00&#39;</span><span class="p">);</span> <span class="c1">// true</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;2008-05-12T00:42:52+02:00&#39;</span><span class="p">);</span> <span class="c1">// true</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;1999-11-11&#39;</span><span class="p">);</span> <span class="c1">// true</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;2008-05-12&#39;</span><span class="p">);</span> <span class="c1">// true</span>

<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;1999-11-11t22:23:52-02:00&#39;</span><span class="p">);</span> <span class="c1">// false</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;2008-05-12T00:42:60+02:00&#39;</span><span class="p">);</span> <span class="c1">// false</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;1999-13-11&#39;</span><span class="p">);</span> <span class="c1">// false</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;2008-05-32&#39;</span><span class="p">);</span> <span class="c1">// false</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;yesterday&#39;</span><span class="p">);</span> <span class="c1">// false</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="sitemap-loc">
<span id="zend-validator-sitemap-loc"></span><h2>Sitemap\Loc<a class="headerlink" href="#sitemap-loc" title="Permalink to this headline">¶</a></h2>
<p>Validates whether a string is valid for using as a &#8216;loc&#8217; element in a Sitemap <em>XML</em> document. This uses
<tt class="docutils literal"><span class="pre">Zend\Uri\Uri::isValid()</span></tt> internally. Read more at <em class="xref std std-ref">URI Validation</em>.</p>
</div>
<div class="section" id="sitemap-priority">
<span id="zend-validator-sitemap-priority"></span><h2>Sitemap\Priority<a class="headerlink" href="#sitemap-priority" title="Permalink to this headline">¶</a></h2>
<p>Validates whether a value is valid for using as a &#8216;priority&#8217; element in a Sitemap <em>XML</em> document. The value should
be a decimal between 0.0 and 1.0. This validator accepts both numeric values and string values.</p>
<p class="rubric" id="zend-validator-sitemap-priority-example">Sitemap Priority Validator</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Sitemap\Priority</span><span class="p">();</span>

<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;0.1&#39;</span><span class="p">);</span> <span class="c1">// true</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;0.789&#39;</span><span class="p">);</span> <span class="c1">// true</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="mf">0.8</span><span class="p">);</span> <span class="c1">// true</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="mf">1.0</span><span class="p">);</span> <span class="c1">// true</span>

<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;1.1&#39;</span><span class="p">);</span> <span class="c1">// false</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;-0.4&#39;</span><span class="p">);</span> <span class="c1">// false</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="mf">1.00001</span><span class="p">);</span> <span class="c1">// false</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="mh">0xFF</span><span class="p">);</span> <span class="c1">// false</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span> <span class="c1">// false</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="supported-options-for-zend-validator-sitemap">
<span id="zend-validator-set-sitemap-options"></span><h2>Supported options for Zend\Validator\Sitemap_*<a class="headerlink" href="#supported-options-for-zend-validator-sitemap" title="Permalink to this headline">¶</a></h2>
<p>There are no supported options for any of the Sitemap validators.</p>
</div>
</div>
<div class="section" id="step">
<span id="zend-validate-set-step"></span><h1>Step<a class="headerlink" href="#step" title="Permalink to this headline">¶</a></h1>
<p><tt class="docutils literal"><span class="pre">Zend\Validator\Step</span></tt> allows you to validate if a given value is a valid step value. This validator requires the
value to be a numeric value (either string, int or float).</p>
<div class="section" id="supported-options-for-zend-validator-step">
<span id="zend-validate-set-step-options"></span><h2>Supported options for Zend\Validator\Step<a class="headerlink" href="#supported-options-for-zend-validator-step" title="Permalink to this headline">¶</a></h2>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Validator\Step</span></tt>:</p>
<ul class="simple">
<li><strong>baseValue</strong>: This is the base value from which the step should be computed. This option defaults to <tt class="docutils literal"><span class="pre">0</span></tt></li>
<li><strong>step</strong>: This is the step value. This option defaults to <tt class="docutils literal"><span class="pre">1</span></tt></li>
</ul>
</div>
<div class="section" id="zend-validate-set-step-basic">
<span id="id20"></span><h2>Basic usage<a class="headerlink" href="#zend-validate-set-step-basic" title="Permalink to this headline">¶</a></h2>
<p>A basic example is the following one:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre>            <span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Step</span><span class="p">();</span>
            <span class="k">if</span> <span class="p">(</span><span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span> <span class="p">{</span>
            <span class="c1">// value is a valid step value</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="c1">// false</span>
            <span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="using-floating-point-values">
<span id="zend-validate-set-step-floatingvalues"></span><h2>Using floating-point values<a class="headerlink" href="#using-floating-point-values" title="Permalink to this headline">¶</a></h2>
<p>This validator also supports floating-point base value and step value. Here is a basic example of this feature:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre>            <span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\Step</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;baseValue&#39;</span> <span class="o">=&gt;</span> <span class="mf">1.1</span><span class="p">,</span>
            <span class="s1">&#39;step&#39;</span> <span class="o">=&gt;</span> <span class="mf">2.2</span>
            <span class="p">));</span>

            <span class="k">echo</span> <span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="mf">1.1</span><span class="p">);</span> <span class="c1">// prints true</span>
            <span class="k">echo</span> <span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="mf">3.3</span><span class="p">);</span> <span class="c1">// prints true</span>
            <span class="k">echo</span> <span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="mf">3.35</span><span class="p">);</span> <span class="c1">// prints false</span>
            <span class="k">echo</span> <span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="mf">2.2</span><span class="p">);</span> <span class="c1">// prints false</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
<div class="section" id="stringlength">
<span id="zend-validator-set-stringlength"></span><h1>StringLength<a class="headerlink" href="#stringlength" title="Permalink to this headline">¶</a></h1>
<p>This validator allows you to validate if a given string is between a defined length.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Zend\Validator\StringLength supports only string validation</strong></p>
<p class="last">It should be noted that <tt class="docutils literal"><span class="pre">Zend\Validator\StringLength</span></tt> supports only the validation of strings. Integers,
floats, dates or objects can not be validated with this validator.</p>
</div>
<div class="section" id="supported-options-for-zend-validator-stringlength">
<span id="zend-validator-set-stringlength-options"></span><h2>Supported options for Zend\Validator\StringLength<a class="headerlink" href="#supported-options-for-zend-validator-stringlength" title="Permalink to this headline">¶</a></h2>
<p>The following options are supported for <tt class="docutils literal"><span class="pre">Zend\Validator\StringLength</span></tt>:</p>
<ul class="simple">
<li><strong>encoding</strong>: Sets the <tt class="docutils literal"><span class="pre">ICONV</span></tt> encoding which has to be used for this string.</li>
<li><strong>min</strong>: Sets the minimum allowed length for a string.</li>
<li><strong>max</strong>: Sets the maximum allowed length for a string.</li>
</ul>
</div>
<div class="section" id="default-behaviour-for-zend-validator-stringlength">
<span id="zend-validator-set-stringlength-basic"></span><h2>Default behaviour for Zend\Validator\StringLength<a class="headerlink" href="#default-behaviour-for-zend-validator-stringlength" title="Permalink to this headline">¶</a></h2>
<p>Per default this validator checks if a value is between <tt class="docutils literal"><span class="pre">min</span></tt> and <tt class="docutils literal"><span class="pre">max</span></tt>. But for <tt class="docutils literal"><span class="pre">min</span></tt> the default value is
<strong>0</strong> and for <tt class="docutils literal"><span class="pre">max</span></tt> it is <strong>NULL</strong> which means unlimited.</p>
<p>So per default, without giving any options, this validator only checks if the input is a string.</p>
</div>
<div class="section" id="limiting-the-maximum-allowed-length-of-a-string">
<span id="zend-validator-set-stringlength-maximum"></span><h2>Limiting the maximum allowed length of a string<a class="headerlink" href="#limiting-the-maximum-allowed-length-of-a-string" title="Permalink to this headline">¶</a></h2>
<p>To limit the maximum allowed length of a string you need to set the <tt class="docutils literal"><span class="pre">max</span></tt> property. It accepts an integer value
as input.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\StringLength</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;max&#39;</span> <span class="o">=&gt;</span> <span class="mi">6</span><span class="p">));</span>

<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s2">&quot;Test&quot;</span><span class="p">);</span> <span class="c1">// returns true</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s2">&quot;Testing&quot;</span><span class="p">);</span> <span class="c1">// returns false</span>
</pre></div>
</td></tr></table></div>
<p>You can set the maximum allowed length also afterwards by using the <tt class="docutils literal"><span class="pre">setMax()</span></tt> method. And <tt class="docutils literal"><span class="pre">getMax()</span></tt> to
retrieve the actual maximum border.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\StringLength</span><span class="p">();</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">setMax</span><span class="p">(</span><span class="mi">6</span><span class="p">);</span>

<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s2">&quot;Test&quot;</span><span class="p">);</span> <span class="c1">// returns true</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s2">&quot;Testing&quot;</span><span class="p">);</span> <span class="c1">// returns false</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="limiting-the-minimal-required-length-of-a-string">
<span id="zend-validator-set-stringlength-minimum"></span><h2>Limiting the minimal required length of a string<a class="headerlink" href="#limiting-the-minimal-required-length-of-a-string" title="Permalink to this headline">¶</a></h2>
<p>To limit the minimal required length of a string you need to set the <tt class="docutils literal"><span class="pre">min</span></tt> property. It accepts also an integer
value as input.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\StringLength</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;min&#39;</span> <span class="o">=&gt;</span> <span class="mi">5</span><span class="p">));</span>

<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s2">&quot;Test&quot;</span><span class="p">);</span> <span class="c1">// returns false</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s2">&quot;Testing&quot;</span><span class="p">);</span> <span class="c1">// returns true</span>
</pre></div>
</td></tr></table></div>
<p>You can set the minimal requested length also afterwards by using the <tt class="docutils literal"><span class="pre">setMin()</span></tt> method. And <tt class="docutils literal"><span class="pre">getMin()</span></tt> to
retrieve the actual minimum border.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\StringLength</span><span class="p">();</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">setMin</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>

<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s2">&quot;Test&quot;</span><span class="p">);</span> <span class="c1">// returns false</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s2">&quot;Testing&quot;</span><span class="p">);</span> <span class="c1">// returns true</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="limiting-a-string-on-both-sides">
<span id="zend-validator-set-stringlength-both"></span><h2>Limiting a string on both sides<a class="headerlink" href="#limiting-a-string-on-both-sides" title="Permalink to this headline">¶</a></h2>
<p>Sometimes it is required to get a string which has a maximal defined length but which is also minimal chars long.
For example when you have a textbox where a user can enter his name, then you may want to limit the name to maximum
30 chars but want to get sure that he entered his name. So you limit the minimum required length to 3 chars. See
the following example:</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\StringLength</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;min&#39;</span> <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span> <span class="o">=&gt;</span> <span class="mi">30</span><span class="p">));</span>

<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">);</span> <span class="c1">// returns false</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s2">&quot;Test&quot;</span><span class="p">);</span> <span class="c1">// returns true</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s2">&quot;Testing&quot;</span><span class="p">);</span> <span class="c1">// returns true</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Setting a lower maximum border than the minimum border</strong></p>
<p class="last">When you try to set a lower maximum value as the actual minimum value, or a higher minimum value as the actual
maximum value, then an exception will be raised.</p>
</div>
</div>
<div class="section" id="encoding-of-values">
<span id="zend-validator-set-stringlength-encoding"></span><h2>Encoding of values<a class="headerlink" href="#encoding-of-values" title="Permalink to this headline">¶</a></h2>
<p>Strings are always using a encoding. Even when you don&#8217;t set the encoding explicit, <em>PHP</em> uses one. When your
application is using a different encoding than <em>PHP</em> itself then you should set an encoding yourself.</p>
<p>You can set your own encoding at initiation with the <tt class="docutils literal"><span class="pre">encoding</span></tt> option, or by using the <tt class="docutils literal"><span class="pre">setEncoding()</span></tt> method.
We assume that your installation uses <em>ISO</em> and your application it set to <em>ISO</em>. In this case you will see the
below behaviour.</p>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="highlight"><pre><span class="nv">$validator</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\StringLength</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;min&#39;</span> <span class="o">=&gt;</span> <span class="mi">6</span><span class="p">)</span>
<span class="p">);</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s2">&quot;Ärger&quot;</span><span class="p">);</span> <span class="c1">// returns false</span>

<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">setEncoding</span><span class="p">(</span><span class="s2">&quot;UTF-8&quot;</span><span class="p">);</span>
<span class="nv">$validator</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s2">&quot;Ärger&quot;</span><span class="p">);</span> <span class="c1">// returns true</span>

<span class="nv">$validator2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Zend\Validator\StringLength</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;min&#39;</span> <span class="o">=&gt;</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;encoding&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;UTF-8&#39;</span><span class="p">)</span>
<span class="p">);</span>
<span class="nv">$validator2</span><span class="o">-&gt;</span><span class="na">isValid</span><span class="p">(</span><span class="s2">&quot;Ärger&quot;</span><span class="p">);</span> <span class="c1">// returns true</span>
</pre></div>
</td></tr></table></div>
<p>So when your installation and your application are using different encodings, then you should always set an
encoding yourself.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/zf2_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Standard Validation Classes</a></li>
<li><a class="reference internal" href="#alnum">Alnum</a><ul>
<li><a class="reference internal" href="#supported-options-for-zend-validator-alnum">Supported options for Zend\Validator\Alnum</a></li>
<li><a class="reference internal" href="#basic-usage">Basic usage</a></li>
<li><a class="reference internal" href="#using-whitespaces">Using whitespaces</a></li>
<li><a class="reference internal" href="#using-different-languages">Using different languages</a></li>
</ul>
</li>
<li><a class="reference internal" href="#alpha">Alpha</a><ul>
<li><a class="reference internal" href="#supported-options-for-zend-validator-alpha">Supported options for Zend\Validator\Alpha</a></li>
<li><a class="reference internal" href="#zend-validator-set-alpha-basic">Basic usage</a></li>
<li><a class="reference internal" href="#zend-validator-set-alpha-whitespace">Using whitespaces</a></li>
<li><a class="reference internal" href="#zend-validator-set-alpha-languages">Using different languages</a></li>
</ul>
</li>
<li><a class="reference internal" href="#barcode">Barcode</a><ul>
<li><a class="reference internal" href="#supported-options-for-zend-validator-barcode">Supported options for Zend\Validator\Barcode</a></li>
<li><a class="reference internal" href="#zend-validator-set-barcode-basic">Basic usage</a></li>
<li><a class="reference internal" href="#optional-checksum">Optional checksum</a></li>
<li><a class="reference internal" href="#writing-custom-adapters">Writing custom adapters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#between">Between</a><ul>
<li><a class="reference internal" href="#supported-options-for-zend-validator-between">Supported options for Zend\Validator\Between</a></li>
<li><a class="reference internal" href="#default-behaviour-for-zend-validator-between">Default behaviour for Zend\Validator\Between</a></li>
<li><a class="reference internal" href="#validation-exclusive-the-border-values">Validation exclusive the border values</a></li>
</ul>
</li>
<li><a class="reference internal" href="#callback">Callback</a><ul>
<li><a class="reference internal" href="#supported-options-for-zend-validator-callback">Supported options for Zend\Validator\Callback</a></li>
<li><a class="reference internal" href="#zend-validator-set-callback-basic">Basic usage</a></li>
<li><a class="reference internal" href="#usage-with-closures">Usage with closures</a></li>
<li><a class="reference internal" href="#usage-with-class-based-callbacks">Usage with class-based callbacks</a></li>
<li><a class="reference internal" href="#adding-options">Adding options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#creditcard">CreditCard</a><ul>
<li><a class="reference internal" href="#supported-options-for-zend-validator-creditcard">Supported options for Zend\Validator\CreditCard</a></li>
<li><a class="reference internal" href="#zend-validator-set-creditcard-basic">Basic usage</a></li>
<li><a class="reference internal" href="#accepting-defined-credit-cards">Accepting defined credit cards</a></li>
<li><a class="reference internal" href="#validation-by-using-foreign-apis">Validation by using foreign APIs</a></li>
<li><a class="reference internal" href="#ccnum">Ccnum</a></li>
</ul>
</li>
<li><a class="reference internal" href="#date">Date</a><ul>
<li><a class="reference internal" href="#supported-options-for-zend-validator-date">Supported options for Zend\Validator\Date</a></li>
<li><a class="reference internal" href="#default-date-validation">Default date validation</a></li>
<li><a class="reference internal" href="#localized-date-validation">Localized date validation</a></li>
<li><a class="reference internal" href="#self-defined-date-validation">Self defined date validation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#db-recordexists-and-db-norecordexists">Db\RecordExists and Db\NoRecordExists</a><ul>
<li><a class="reference internal" href="#supported-options-for-zend-validator-db">Supported options for Zend\Validator\Db\*</a></li>
<li><a class="reference internal" href="#zend-validator-db-basic-usage">Basic usage</a></li>
<li><a class="reference internal" href="#excluding-records">Excluding records</a></li>
<li><a class="reference internal" href="#database-adapters">Database Adapters</a></li>
<li><a class="reference internal" href="#database-schemas">Database Schemas</a></li>
</ul>
</li>
<li><a class="reference internal" href="#digits">Digits</a><ul>
<li><a class="reference internal" href="#supported-options-for-zend-validator-digits">Supported options for Zend\Validator\Digits</a></li>
<li><a class="reference internal" href="#validating-digits">Validating digits</a></li>
</ul>
</li>
<li><a class="reference internal" href="#emailaddress">EmailAddress</a><ul>
<li><a class="reference internal" href="#zend-validator-set-email-address-basic">Basic usage</a></li>
<li><a class="reference internal" href="#options-for-validating-email-addresses">Options for validating Email Addresses</a></li>
<li><a class="reference internal" href="#complex-local-parts">Complex local parts</a></li>
<li><a class="reference internal" href="#validating-only-the-local-part">Validating only the local part</a></li>
<li><a class="reference internal" href="#validating-different-types-of-hostnames">Validating different types of hostnames</a></li>
<li><a class="reference internal" href="#checking-if-the-hostname-actually-accepts-email">Checking if the hostname actually accepts email</a></li>
<li><a class="reference internal" href="#validating-international-domains-names">Validating International Domains Names</a></li>
<li><a class="reference internal" href="#validating-top-level-domains">Validating Top Level Domains</a></li>
<li><a class="reference internal" href="#setting-messages">Setting messages</a></li>
</ul>
</li>
<li><a class="reference internal" href="#greaterthan">GreaterThan</a><ul>
<li><a class="reference internal" href="#supported-options-for-zend-validator-greaterthan">Supported options for Zend\Validator\GreaterThan</a></li>
<li><a class="reference internal" href="#zend-validator-set-greaterthan-basic">Basic usage</a></li>
<li><a class="reference internal" href="#validation-inclusive-the-border-value">Validation inclusive the border value</a></li>
</ul>
</li>
<li><a class="reference internal" href="#hex">Hex</a><ul>
<li><a class="reference internal" href="#supported-options-for-zend-validator-hex">Supported options for Zend\Validator\Hex</a></li>
</ul>
</li>
<li><a class="reference internal" href="#hostname">Hostname</a><ul>
<li><a class="reference internal" href="#supported-options-for-zend-validator-hostname">Supported options for Zend\Validator\Hostname</a></li>
<li><a class="reference internal" href="#zend-validator-set-hostname-basic">Basic usage</a></li>
<li><a class="reference internal" href="#zend-validator-set-hostname-types">Validating different types of hostnames</a></li>
<li><a class="reference internal" href="#zend-validator-set-hostname-idn">Validating International Domains Names</a></li>
<li><a class="reference internal" href="#zend-validator-set-hostname-tld">Validating Top Level Domains</a></li>
</ul>
</li>
<li><a class="reference internal" href="#iban">Iban</a><ul>
<li><a class="reference internal" href="#supported-options-for-zend-validator-iban">Supported options for Zend\Validator\Iban</a></li>
<li><a class="reference internal" href="#iban-validation">IBAN validation</a><ul>
<li><a class="reference internal" href="#application-wide-locale">Application wide locale</a></li>
<li><a class="reference internal" href="#ungreedy-iban-validation">Ungreedy IBAN validation</a></li>
<li><a class="reference internal" href="#region-aware-iban-validation">Region aware IBAN validation</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#zend-validator-set-identical">Identical</a><ul>
<li><a class="reference internal" href="#supported-options-for-zend-validator-identical">Supported options for Zend\Validator\Identical</a></li>
<li><a class="reference internal" href="#zend-validator-set-identical-basic">Basic usage</a></li>
<li><a class="reference internal" href="#zend-validator-set-identical-types">Identical objects</a></li>
<li><a class="reference internal" href="#form-elements">Form elements</a></li>
<li><a class="reference internal" href="#strict-validation">Strict validation</a></li>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#inarray">InArray</a><ul>
<li><a class="reference internal" href="#supported-options-for-zend-validator-inarray">Supported options for Zend\Validator\InArray</a></li>
<li><a class="reference internal" href="#simple-array-validation">Simple array validation</a></li>
<li><a class="reference internal" href="#array-validation-modes">Array validation modes</a></li>
<li><a class="reference internal" href="#recursive-array-validation">Recursive array validation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#ip">Ip</a><ul>
<li><a class="reference internal" href="#supported-options-for-zend-validator-ip">Supported options for Zend\Validator\Ip</a></li>
<li><a class="reference internal" href="#zend-validator-set-ip-basic">Basic usage</a></li>
<li><a class="reference internal" href="#validate-ipv4-or-ipv6-alone">Validate IPv4 or IPV6 alone</a></li>
</ul>
</li>
<li><a class="reference internal" href="#isbn">Isbn</a><ul>
<li><a class="reference internal" href="#supported-options-for-zend-validator-isbn">Supported options for Zend\Validator\Isbn</a></li>
<li><a class="reference internal" href="#zend-validator-set-isbn-basic">Basic usage</a></li>
<li><a class="reference internal" href="#setting-an-explicit-isbn-validation-type">Setting an explicit ISBN validation type</a></li>
<li><a class="reference internal" href="#specifying-a-separator-restriction">Specifying a separator restriction</a></li>
</ul>
</li>
<li><a class="reference internal" href="#lessthan">LessThan</a><ul>
<li><a class="reference internal" href="#supported-options-for-zend-validator-lessthan">Supported options for Zend\Validator\LessThan</a></li>
<li><a class="reference internal" href="#zend-validator-set-lessthan-basic">Basic usage</a></li>
<li><a class="reference internal" href="#zend-validator-set-lessthan-inclusively">Validation inclusive the border value</a></li>
</ul>
</li>
<li><a class="reference internal" href="#notempty">NotEmpty</a><ul>
<li><a class="reference internal" href="#supported-options-for-zend-validator-notempty">Supported options for Zend\Validator\NotEmpty</a></li>
<li><a class="reference internal" href="#default-behaviour-for-zend-validator-notempty">Default behaviour for Zend\Validator\NotEmpty</a></li>
<li><a class="reference internal" href="#changing-behaviour-for-zend-validator-notempty">Changing behaviour for Zend\Validator\NotEmpty</a></li>
</ul>
</li>
<li><a class="reference internal" href="#postcode">PostCode</a><ul>
<li><a class="reference internal" href="#constructor-options">Constructor options</a></li>
<li><a class="reference internal" href="#supported-options-for-zend-validator-postcode">Supported options for Zend\Validator\PostCode</a></li>
</ul>
</li>
<li><a class="reference internal" href="#regex">Regex</a><ul>
<li><a class="reference internal" href="#supported-options-for-zend-validator-regex">Supported options for Zend\Validator\Regex</a></li>
<li><a class="reference internal" href="#validation-with-zend-validator-regex">Validation with Zend\Validator\Regex</a></li>
<li><a class="reference internal" href="#pattern-handling">Pattern handling</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sitemap-validators">Sitemap Validators</a><ul>
<li><a class="reference internal" href="#sitemap-changefreq">Sitemap\Changefreq</a></li>
<li><a class="reference internal" href="#sitemap-lastmod">Sitemap\Lastmod</a></li>
<li><a class="reference internal" href="#sitemap-loc">Sitemap\Loc</a></li>
<li><a class="reference internal" href="#sitemap-priority">Sitemap\Priority</a></li>
<li><a class="reference internal" href="#supported-options-for-zend-validator-sitemap">Supported options for Zend\Validator\Sitemap_*</a></li>
</ul>
</li>
<li><a class="reference internal" href="#step">Step</a><ul>
<li><a class="reference internal" href="#supported-options-for-zend-validator-step">Supported options for Zend\Validator\Step</a></li>
<li><a class="reference internal" href="#zend-validate-set-step-basic">Basic usage</a></li>
<li><a class="reference internal" href="#using-floating-point-values">Using floating-point values</a></li>
</ul>
</li>
<li><a class="reference internal" href="#stringlength">StringLength</a><ul>
<li><a class="reference internal" href="#supported-options-for-zend-validator-stringlength">Supported options for Zend\Validator\StringLength</a></li>
<li><a class="reference internal" href="#default-behaviour-for-zend-validator-stringlength">Default behaviour for Zend\Validator\StringLength</a></li>
<li><a class="reference internal" href="#limiting-the-maximum-allowed-length-of-a-string">Limiting the maximum allowed length of a string</a></li>
<li><a class="reference internal" href="#limiting-the-minimal-required-length-of-a-string">Limiting the minimal required length of a string</a></li>
<li><a class="reference internal" href="#limiting-a-string-on-both-sides">Limiting a string on both sides</a></li>
<li><a class="reference internal" href="#encoding-of-values">Encoding of values</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="zend.validator.html"
                        title="previous chapter">Introduction</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="zend.validator.file.html"
                        title="next chapter">File Validation Classes</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li>
        <!--<a href="../_sources/modules/zend.validator.set.txt"-->
        <a href="https://github.com/zendframework/zf2-documentation/blob/master/docs/languages/en/modules/zend.validator.set.rst"
           rel="nofollow">Show Source</a></li>
    <li><a href="https://github.com/zendframework/zf2-documentation/edit/master/docs/languages/en/modules/zend.validator.set.rst"
           rel="nofollow">Edit Source</a>
    </li>
  </ul>
        <p style="font-size: 12px">
            Note: You need to stay logged into your <a href="http://www.github.com">GitHub account</a> to contribute to the documentation.
        </p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="zend.validator.file.html" title="File Validation Classes"
             >next</a> |</li>
        <li class="right" >
          <a href="zend.validator.html" title="Introduction"
             >previous</a> |</li>
        <li><a href="../index.html">Zend Framework 2 2.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2012, Zend Technologies Ltd..
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
<div id="edit-button">
    <img src="../_static/edit.gif" alt="Edit this document" title="Edit this document" onclick="javascript:$('#editor-trap').toggle();">
</div>
     
<div id="editor-trap">
    <h3>Edit this document</h3>

    <p>
        The source code of this file is hosted on GitHub. Everyone can
        update and fix errors in this document with few clicks -
        no downloads needed.
    <p>

    <ol>

        <li>
            Login with your <a href="http://www.github.com">GitHub</a> account.
        </li>

        <li>
            Go to
            <a href="https://github.com/zendframework/zf2-documentation/edit/master/docs/languages/en/modules/zend.validator.set.rst">
                Standard Validation Classes
            </a> on GitHub.
        </li>

        <li>
            Edit file contents using GitHub's text editor in your web browser
        </li>

        <li>
            Fill in the <b>Commit message</b> text box at the end of the page telling <i>why</i>
            you did the changes. Press <b>Propose file change</b> button next to it when done.
        </li>


        <li>
            On <i>Send a pull request</i> page you don't need to fill in text anymore. Just
            press <b>Send pull request</b> button.
        </li>

        <li>
            Your changes are now queued for review under project's <a href="https://github.com/zendframework/zf2-documentation/pulls">Pull requests</a> tab on GitHub.
        </li>
    </ol>

</div>


  </body>
</html>